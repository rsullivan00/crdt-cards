(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ef={exports:{}},Qs={},Tf={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=Symbol.for("react.element"),lm=Symbol.for("react.portal"),am=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),dm=Symbol.for("react.provider"),fm=Symbol.for("react.context"),hm=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),gm=Symbol.for("react.memo"),mm=Symbol.for("react.lazy"),Mc=Symbol.iterator;function ym(e){return e===null||typeof e!="object"?null:(e=Mc&&e[Mc]||e["@@iterator"],typeof e=="function"?e:null)}var Rf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Df=Object.assign,Lf={};function si(e,t,n){this.props=e,this.context=t,this.refs=Lf,this.updater=n||Rf}si.prototype.isReactComponent={};si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Af(){}Af.prototype=si.prototype;function du(e,t,n){this.props=e,this.context=t,this.refs=Lf,this.updater=n||Rf}var fu=du.prototype=new Af;fu.constructor=du;Df(fu,si.prototype);fu.isPureReactComponent=!0;var Nc=Array.isArray,jf=Object.prototype.hasOwnProperty,hu={current:null},If={key:!0,ref:!0,__self:!0,__source:!0};function Mf(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)jf.call(t,r)&&!If.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:go,type:e,key:o,ref:s,props:i,_owner:hu.current}}function vm(e,t){return{$$typeof:go,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===go}function wm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oc=/\/+/g;function _l(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wm(""+e.key):t.toString(36)}function Qo(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case go:case lm:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+_l(s,0):r,Nc(i)?(n="",e!=null&&(n=e.replace(Oc,"$&/")+"/"),Qo(i,t,n,"",function(d){return d})):i!=null&&(pu(i)&&(i=vm(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Oc,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Nc(e))for(var a=0;a<e.length;a++){o=e[a];var u=r+_l(o,a);s+=Qo(o,t,n,u,i)}else if(u=ym(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=r+_l(o,a++),s+=Qo(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function bo(e,t,n){if(e==null)return e;var r=[],i=0;return Qo(e,r,"","",function(o){return t.call(n,o,i++)}),r}function _m(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xe={current:null},Go={transition:null},km={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:Go,ReactCurrentOwner:hu};function Nf(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:bo,forEach:function(e,t,n){bo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bo(e,function(){t++}),t},toArray:function(e){return bo(e,function(t){return t})||[]},only:function(e){if(!pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=si;ie.Fragment=am;ie.Profiler=cm;ie.PureComponent=du;ie.StrictMode=um;ie.Suspense=pm;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=km;ie.act=Nf;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Df({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=hu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)jf.call(t,u)&&!If.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:go,type:e.type,key:i,ref:o,props:r,_owner:s}};ie.createContext=function(e){return e={$$typeof:fm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dm,_context:e},e.Consumer=e};ie.createElement=Mf;ie.createFactory=function(e){var t=Mf.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:hm,render:e}};ie.isValidElement=pu;ie.lazy=function(e){return{$$typeof:mm,_payload:{_status:-1,_result:e},_init:_m}};ie.memo=function(e,t){return{$$typeof:gm,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Go.transition;Go.transition={};try{e()}finally{Go.transition=t}};ie.unstable_act=Nf;ie.useCallback=function(e,t){return Xe.current.useCallback(e,t)};ie.useContext=function(e){return Xe.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return Xe.current.useDeferredValue(e)};ie.useEffect=function(e,t){return Xe.current.useEffect(e,t)};ie.useId=function(){return Xe.current.useId()};ie.useImperativeHandle=function(e,t,n){return Xe.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return Xe.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Xe.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Xe.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return Xe.current.useReducer(e,t,n)};ie.useRef=function(e){return Xe.current.useRef(e)};ie.useState=function(e){return Xe.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return Xe.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return Xe.current.useTransition()};ie.version="18.3.1";Tf.exports=ie;var X=Tf.exports;const Sm=bf(X);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm=X,xm=Symbol.for("react.element"),bm=Symbol.for("react.fragment"),Em=Object.prototype.hasOwnProperty,Tm=Cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function Of(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Em.call(t,r)&&!Rm.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:xm,type:e,key:o,ref:s,props:i,_owner:Tm.current}}Qs.Fragment=bm;Qs.jsx=Of;Qs.jsxs=Of;Ef.exports=Qs;var E=Ef.exports,sa={},Ff={exports:{}},pt={},Pf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,I){var Y=$.length;$.push(I);e:for(;0<Y;){var Z=Y-1>>>1,ae=$[Z];if(0<i(ae,I))$[Z]=I,$[Y]=ae,Y=Z;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var I=$[0],Y=$.pop();if(Y!==I){$[0]=Y;e:for(var Z=0,ae=$.length,ue=ae>>>1;Z<ue;){var ne=2*(Z+1)-1,Ie=$[ne],Re=ne+1,st=$[Re];if(0>i(Ie,Y))Re<ae&&0>i(st,Ie)?($[Z]=st,$[Re]=Y,Z=Re):($[Z]=Ie,$[ne]=Y,Z=ne);else if(Re<ae&&0>i(st,Y))$[Z]=st,$[Re]=Y,Z=Re;else break e}}return I}function i($,I){var Y=$.sortIndex-I.sortIndex;return Y!==0?Y:$.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var u=[],d=[],m=1,c=null,h=3,p=!1,y=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g($){for(var I=n(d);I!==null;){if(I.callback===null)r(d);else if(I.startTime<=$)r(d),I.sortIndex=I.expirationTime,t(u,I);else break;I=n(d)}}function w($){if(S=!1,g($),!y)if(n(u)!==null)y=!0,J(C);else{var I=n(d);I!==null&&ee(w,I.startTime-$)}}function C($,I){y=!1,S&&(S=!1,k(D),D=-1),p=!0;var Y=h;try{for(g(I),c=n(u);c!==null&&(!(c.expirationTime>I)||$&&!L());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,h=c.priorityLevel;var ae=Z(c.expirationTime<=I);I=e.unstable_now(),typeof ae=="function"?c.callback=ae:c===n(u)&&r(u),g(I)}else r(u);c=n(u)}if(c!==null)var ue=!0;else{var ne=n(d);ne!==null&&ee(w,ne.startTime-I),ue=!1}return ue}finally{c=null,h=Y,p=!1}}var R=!1,x=null,D=-1,j=5,T=-1;function L(){return!(e.unstable_now()-T<j)}function F(){if(x!==null){var $=e.unstable_now();T=$;var I=!0;try{I=x(!0,$)}finally{I?U():(R=!1,x=null)}}else R=!1}var U;if(typeof _=="function")U=function(){_(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=F,U=function(){K.postMessage(null)}}else U=function(){M(F,0)};function J($){x=$,R||(R=!0,U())}function ee($,I){D=M(function(){$(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,J(C))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var Y=h;h=I;try{return $()}finally{h=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,I){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=h;h=$;try{return I()}finally{h=Y}},e.unstable_scheduleCallback=function($,I,Y){var Z=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,$){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Y+ae,$={id:m++,callback:I,priorityLevel:$,startTime:Y,expirationTime:ae,sortIndex:-1},Y>Z?($.sortIndex=Y,t(d,$),n(u)===null&&$===n(d)&&(S?(k(D),D=-1):S=!0,ee(w,Y-Z))):($.sortIndex=ae,t(u,$),y||p||(y=!0,J(C))),$},e.unstable_shouldYield=L,e.unstable_wrapCallback=function($){var I=h;return function(){var Y=h;h=I;try{return $.apply(this,arguments)}finally{h=Y}}}})(zf);Pf.exports=zf;var Dm=Pf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=X,ft=Dm;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uf=new Set,Bi={};function dr(e,t){Hr(e,t),Hr(e+"Capture",t)}function Hr(e,t){for(Bi[e]=t,e=0;e<t.length;e++)Uf.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),la=Object.prototype.hasOwnProperty,Am=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fc={},Pc={};function jm(e){return la.call(Pc,e)?!0:la.call(Fc,e)?!1:Am.test(e)?Pc[e]=!0:(Fc[e]=!0,!1)}function Im(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mm(e,t,n,r){if(t===null||typeof t>"u"||Im(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ze(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new Ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new Ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new Ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new Ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new Ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new Ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new Ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new Ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new Ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var gu=/[\-:]([a-z])/g;function mu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gu,mu);Ve[t]=new Ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gu,mu);Ve[t]=new Ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gu,mu);Ve[t]=new Ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new Ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new Ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function yu(e,t,n,r){var i=Ve.hasOwnProperty(t)?Ve[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mm(t,n,i,r)&&(n=null),r||i===null?jm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fn=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eo=Symbol.for("react.element"),Sr=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),aa=Symbol.for("react.profiler"),Bf=Symbol.for("react.provider"),$f=Symbol.for("react.context"),wu=Symbol.for("react.forward_ref"),ua=Symbol.for("react.suspense"),ca=Symbol.for("react.suspense_list"),_u=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),Wf=Symbol.for("react.offscreen"),zc=Symbol.iterator;function gi(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,kl;function bi(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var Sl=!1;function Cl(e,t){if(!e||Sl)return"";Sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=a);break}}}finally{Sl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?bi(e):""}function Nm(e){switch(e.tag){case 5:return bi(e.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 2:case 15:return e=Cl(e.type,!1),e;case 11:return e=Cl(e.type.render,!1),e;case 1:return e=Cl(e.type,!0),e;default:return""}}function da(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case Sr:return"Portal";case aa:return"Profiler";case vu:return"StrictMode";case ua:return"Suspense";case ca:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $f:return(e.displayName||"Context")+".Consumer";case Bf:return(e._context.displayName||"Context")+".Provider";case wu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _u:return t=e.displayName||null,t!==null?t:da(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return da(e(t))}catch{}}return null}function Om(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return da(t);case 8:return t===vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fm(e){var t=Vf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function To(e){e._valueTracker||(e._valueTracker=Fm(e))}function Hf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Vf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fa(e,t){var n=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Uc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yf(e,t){t=t.checked,t!=null&&yu(e,"checked",t,!1)}function ha(e,t){Yf(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pa(e,t.type,n):t.hasOwnProperty("defaultValue")&&pa(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pa(e,t,n){(t!=="number"||fs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ei=Array.isArray;function Nr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ga(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $c(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(Ei(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function Kf(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ma(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ro,Gf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ro=Ro||document.createElement("div"),Ro.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ro.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pm=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){Pm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});function qf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Di.hasOwnProperty(e)&&Di[e]?(""+t).trim():t+"px"}function Jf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var zm=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(e,t){if(t){if(zm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function va(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _a=null,Or=null,Fr=null;function Vc(e){if(e=vo(e)){if(typeof _a!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Zs(t),_a(e.stateNode,e.type,t))}}function Xf(e){Or?Fr?Fr.push(e):Fr=[e]:Or=e}function Zf(){if(Or){var e=Or,t=Fr;if(Fr=Or=null,Vc(e),t)for(e=0;e<t.length;e++)Vc(t[e])}}function eh(e,t){return e(t)}function th(){}var xl=!1;function nh(e,t,n){if(xl)return e(t,n);xl=!0;try{return eh(e,t,n)}finally{xl=!1,(Or!==null||Fr!==null)&&(th(),Zf())}}function Wi(e,t){var n=e.stateNode;if(n===null)return null;var r=Zs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var ka=!1;if(sn)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){ka=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{ka=!1}function Um(e,t,n,r,i,o,s,a,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var Li=!1,hs=null,ps=!1,Sa=null,Bm={onError:function(e){Li=!0,hs=e}};function $m(e,t,n,r,i,o,s,a,u){Li=!1,hs=null,Um.apply(Bm,arguments)}function Wm(e,t,n,r,i,o,s,a,u){if($m.apply(this,arguments),Li){if(Li){var d=hs;Li=!1,hs=null}else throw Error(B(198));ps||(ps=!0,Sa=d)}}function fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hc(e){if(fr(e)!==e)throw Error(B(188))}function Vm(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Hc(i),e;if(o===r)return Hc(i),t;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function ih(e){return e=Vm(e),e!==null?oh(e):null}function oh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oh(e);if(t!==null)return t;e=e.sibling}return null}var sh=ft.unstable_scheduleCallback,Yc=ft.unstable_cancelCallback,Hm=ft.unstable_shouldYield,Ym=ft.unstable_requestPaint,Ee=ft.unstable_now,Km=ft.unstable_getCurrentPriorityLevel,Su=ft.unstable_ImmediatePriority,lh=ft.unstable_UserBlockingPriority,gs=ft.unstable_NormalPriority,Qm=ft.unstable_LowPriority,ah=ft.unstable_IdlePriority,Gs=null,Ut=null;function Gm(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Gs,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Xm,qm=Math.log,Jm=Math.LN2;function Xm(e){return e>>>=0,e===0?32:31-(qm(e)/Jm|0)|0}var Do=64,Lo=4194304;function Ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ti(a):(o&=s,o!==0&&(r=Ti(o)))}else s=n&~i,s!==0?r=Ti(s):o!==0&&(r=Ti(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),i=1<<n,r|=e[n],t&=~i;return r}function Zm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ey(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-jt(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=Zm(a,t)):u<=t&&(e.expiredLanes|=a),o&=~a}}function Ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uh(){var e=Do;return Do<<=1,!(Do&4194240)&&(Do=64),e}function bl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function ty(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-jt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Cu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var de=0;function ch(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dh,xu,fh,hh,ph,xa=!1,Ao=[],Tn=null,Rn=null,Dn=null,Vi=new Map,Hi=new Map,kn=[],ny="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Vi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(t.pointerId)}}function yi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=vo(t),t!==null&&xu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ry(e,t,n,r,i){switch(t){case"focusin":return Tn=yi(Tn,e,t,n,r,i),!0;case"dragenter":return Rn=yi(Rn,e,t,n,r,i),!0;case"mouseover":return Dn=yi(Dn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vi.set(o,yi(Vi.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hi.set(o,yi(Hi.get(o)||null,e,t,n,r,i)),!0}return!1}function gh(e){var t=Kn(e.target);if(t!==null){var n=fr(t);if(n!==null){if(t=n.tag,t===13){if(t=rh(n),t!==null){e.blockedOn=t,ph(e.priority,function(){fh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ba(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wa=r,n.target.dispatchEvent(r),wa=null}else return t=vo(n),t!==null&&xu(t),e.blockedOn=n,!1;t.shift()}return!0}function Qc(e,t,n){qo(e)&&n.delete(t)}function iy(){xa=!1,Tn!==null&&qo(Tn)&&(Tn=null),Rn!==null&&qo(Rn)&&(Rn=null),Dn!==null&&qo(Dn)&&(Dn=null),Vi.forEach(Qc),Hi.forEach(Qc)}function vi(e,t){e.blockedOn===t&&(e.blockedOn=null,xa||(xa=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,iy)))}function Yi(e){function t(i){return vi(i,e)}if(0<Ao.length){vi(Ao[0],e);for(var n=1;n<Ao.length;n++){var r=Ao[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tn!==null&&vi(Tn,e),Rn!==null&&vi(Rn,e),Dn!==null&&vi(Dn,e),Vi.forEach(t),Hi.forEach(t),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)gh(n),n.blockedOn===null&&kn.shift()}var Pr=fn.ReactCurrentBatchConfig,ys=!0;function oy(e,t,n,r){var i=de,o=Pr.transition;Pr.transition=null;try{de=1,bu(e,t,n,r)}finally{de=i,Pr.transition=o}}function sy(e,t,n,r){var i=de,o=Pr.transition;Pr.transition=null;try{de=4,bu(e,t,n,r)}finally{de=i,Pr.transition=o}}function bu(e,t,n,r){if(ys){var i=ba(e,t,n,r);if(i===null)Nl(e,t,r,vs,n),Kc(e,r);else if(ry(i,e,t,n,r))r.stopPropagation();else if(Kc(e,r),t&4&&-1<ny.indexOf(e)){for(;i!==null;){var o=vo(i);if(o!==null&&dh(o),o=ba(e,t,n,r),o===null&&Nl(e,t,r,vs,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Nl(e,t,r,null,n)}}var vs=null;function ba(e,t,n,r){if(vs=null,e=ku(r),e=Kn(e),e!==null)if(t=fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vs=e,null}function mh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Km()){case Su:return 1;case lh:return 4;case gs:case Qm:return 16;case ah:return 536870912;default:return 16}default:return 16}}var xn=null,Eu=null,Jo=null;function yh(){if(Jo)return Jo;var e,t=Eu,n=t.length,r,i="value"in xn?xn.value:xn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Jo=i.slice(e,1<r?1-r:void 0)}function Xo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jo(){return!0}function Gc(){return!1}function gt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?jo:Gc,this.isPropagationStopped=Gc,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),t}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tu=gt(li),yo=Se({},li,{view:0,detail:0}),ly=gt(yo),El,Tl,wi,qs=Se({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(El=e.screenX-wi.screenX,Tl=e.screenY-wi.screenY):Tl=El=0,wi=e),El)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),qc=gt(qs),ay=Se({},qs,{dataTransfer:0}),uy=gt(ay),cy=Se({},yo,{relatedTarget:0}),Rl=gt(cy),dy=Se({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),fy=gt(dy),hy=Se({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),py=gt(hy),gy=Se({},li,{data:0}),Jc=gt(gy),my={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vy[e])?!!t[e]:!1}function Ru(){return wy}var _y=Se({},yo,{key:function(e){if(e.key){var t=my[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(e){return e.type==="keypress"?Xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ky=gt(_y),Sy=Se({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xc=gt(Sy),Cy=Se({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),xy=gt(Cy),by=Se({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ey=gt(by),Ty=Se({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=gt(Ty),Dy=[9,13,27,32],Du=sn&&"CompositionEvent"in window,Ai=null;sn&&"documentMode"in document&&(Ai=document.documentMode);var Ly=sn&&"TextEvent"in window&&!Ai,vh=sn&&(!Du||Ai&&8<Ai&&11>=Ai),Zc=" ",ed=!1;function wh(e,t){switch(e){case"keyup":return Dy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _h(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function Ay(e,t){switch(e){case"compositionend":return _h(t);case"keypress":return t.which!==32?null:(ed=!0,Zc);case"textInput":return e=t.data,e===Zc&&ed?null:e;default:return null}}function jy(e,t){if(xr)return e==="compositionend"||!Du&&wh(e,t)?(e=yh(),Jo=Eu=xn=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vh&&t.locale!=="ko"?null:t.data;default:return null}}var Iy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iy[e.type]:t==="textarea"}function kh(e,t,n,r){Xf(r),t=ws(t,"onChange"),0<t.length&&(n=new Tu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ji=null,Ki=null;function My(e){jh(e,0)}function Js(e){var t=Tr(e);if(Hf(t))return e}function Ny(e,t){if(e==="change")return t}var Sh=!1;if(sn){var Dl;if(sn){var Ll="oninput"in document;if(!Ll){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),Ll=typeof nd.oninput=="function"}Dl=Ll}else Dl=!1;Sh=Dl&&(!document.documentMode||9<document.documentMode)}function rd(){ji&&(ji.detachEvent("onpropertychange",Ch),Ki=ji=null)}function Ch(e){if(e.propertyName==="value"&&Js(Ki)){var t=[];kh(t,Ki,e,ku(e)),nh(My,t)}}function Oy(e,t,n){e==="focusin"?(rd(),ji=t,Ki=n,ji.attachEvent("onpropertychange",Ch)):e==="focusout"&&rd()}function Fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Js(Ki)}function Py(e,t){if(e==="click")return Js(t)}function zy(e,t){if(e==="input"||e==="change")return Js(t)}function Uy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:Uy;function Qi(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!la.call(t,i)||!Mt(e[i],t[i]))return!1}return!0}function id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,t){var n=id(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=id(n)}}function xh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bh(){for(var e=window,t=fs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fs(e.document)}return t}function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function By(e){var t=bh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xh(n.ownerDocument.documentElement,n)){if(r!==null&&Lu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=od(n,o);var s=od(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $y=sn&&"documentMode"in document&&11>=document.documentMode,br=null,Ea=null,Ii=null,Ta=!1;function sd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ta||br==null||br!==fs(r)||(r=br,"selectionStart"in r&&Lu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ii&&Qi(Ii,r)||(Ii=r,r=ws(Ea,"onSelect"),0<r.length&&(t=new Tu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function Io(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionend:Io("Transition","TransitionEnd")},Al={},Eh={};sn&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function Xs(e){if(Al[e])return Al[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eh)return Al[e]=t[n];return e}var Th=Xs("animationend"),Rh=Xs("animationiteration"),Dh=Xs("animationstart"),Lh=Xs("transitionend"),Ah=new Map,ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){Ah.set(e,t),dr(t,[e])}for(var jl=0;jl<ld.length;jl++){var Il=ld[jl],Wy=Il.toLowerCase(),Vy=Il[0].toUpperCase()+Il.slice(1);zn(Wy,"on"+Vy)}zn(Th,"onAnimationEnd");zn(Rh,"onAnimationIteration");zn(Dh,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(Lh,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function ad(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wm(r,t,void 0,e),e.currentTarget=null}function jh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;ad(i,a,d),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,d=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;ad(i,a,d),o=u}}}if(ps)throw e=Sa,ps=!1,Sa=null,e}function ge(e,t){var n=t[ja];n===void 0&&(n=t[ja]=new Set);var r=e+"__bubble";n.has(r)||(Ih(t,e,2,!1),n.add(r))}function Ml(e,t,n){var r=0;t&&(r|=4),Ih(n,e,r,t)}var Mo="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Mo]){e[Mo]=!0,Uf.forEach(function(n){n!=="selectionchange"&&(Hy.has(n)||Ml(n,!1,e),Ml(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mo]||(t[Mo]=!0,Ml("selectionchange",!1,t))}}function Ih(e,t,n,r){switch(mh(t)){case 1:var i=oy;break;case 4:i=sy;break;default:i=bu}n=i.bind(null,t,n,e),i=void 0,!ka||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Kn(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}nh(function(){var d=o,m=ku(n),c=[];e:{var h=Ah.get(e);if(h!==void 0){var p=Tu,y=e;switch(e){case"keypress":if(Xo(n)===0)break e;case"keydown":case"keyup":p=ky;break;case"focusin":y="focus",p=Rl;break;case"focusout":y="blur",p=Rl;break;case"beforeblur":case"afterblur":p=Rl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xy;break;case Th:case Rh:case Dh:p=fy;break;case Lh:p=Ey;break;case"scroll":p=ly;break;case"wheel":p=Ry;break;case"copy":case"cut":case"paste":p=py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xc}var S=(t&4)!==0,M=!S&&e==="scroll",k=S?h!==null?h+"Capture":null:h;S=[];for(var _=d,g;_!==null;){g=_;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,k!==null&&(w=Wi(_,k),w!=null&&S.push(qi(_,w,g)))),M)break;_=_.return}0<S.length&&(h=new p(h,y,null,n,m),c.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==wa&&(y=n.relatedTarget||n.fromElement)&&(Kn(y)||y[ln]))break e;if((p||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=d,y=y?Kn(y):null,y!==null&&(M=fr(y),y!==M||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(S=qc,w="onMouseLeave",k="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(S=Xc,w="onPointerLeave",k="onPointerEnter",_="pointer"),M=p==null?h:Tr(p),g=y==null?h:Tr(y),h=new S(w,_+"leave",p,n,m),h.target=M,h.relatedTarget=g,w=null,Kn(m)===d&&(S=new S(k,_+"enter",y,n,m),S.target=g,S.relatedTarget=M,w=S),M=w,p&&y)t:{for(S=p,k=y,_=0,g=S;g;g=wr(g))_++;for(g=0,w=k;w;w=wr(w))g++;for(;0<_-g;)S=wr(S),_--;for(;0<g-_;)k=wr(k),g--;for(;_--;){if(S===k||k!==null&&S===k.alternate)break t;S=wr(S),k=wr(k)}S=null}else S=null;p!==null&&ud(c,h,p,S,!1),y!==null&&M!==null&&ud(c,M,y,S,!0)}}e:{if(h=d?Tr(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=Ny;else if(td(h))if(Sh)C=zy;else{C=Fy;var R=Oy}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=Py);if(C&&(C=C(e,d))){kh(c,C,n,m);break e}R&&R(e,h,d),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&pa(h,"number",h.value)}switch(R=d?Tr(d):window,e){case"focusin":(td(R)||R.contentEditable==="true")&&(br=R,Ea=d,Ii=null);break;case"focusout":Ii=Ea=br=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,sd(c,n,m);break;case"selectionchange":if($y)break;case"keydown":case"keyup":sd(c,n,m)}var x;if(Du)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else xr?wh(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(vh&&n.locale!=="ko"&&(xr||D!=="onCompositionStart"?D==="onCompositionEnd"&&xr&&(x=yh()):(xn=m,Eu="value"in xn?xn.value:xn.textContent,xr=!0)),R=ws(d,D),0<R.length&&(D=new Jc(D,e,null,n,m),c.push({event:D,listeners:R}),x?D.data=x:(x=_h(n),x!==null&&(D.data=x)))),(x=Ly?Ay(e,n):jy(e,n))&&(d=ws(d,"onBeforeInput"),0<d.length&&(m=new Jc("onBeforeInput","beforeinput",null,n,m),c.push({event:m,listeners:d}),m.data=x))}jh(c,t)})}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ws(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Wi(e,n),o!=null&&r.unshift(qi(e,o,i)),o=Wi(e,t),o!=null&&r.push(qi(e,o,i))),e=e.return}return r}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ud(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,i?(u=Wi(n,o),u!=null&&s.unshift(qi(n,u,a))):i||(u=Wi(n,o),u!=null&&s.push(qi(n,u,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Yy=/\r\n?/g,Ky=/\u0000|\uFFFD/g;function cd(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Ky,"")}function No(e,t,n){if(t=cd(t),cd(e)!==t&&n)throw Error(B(425))}function _s(){}var Ra=null,Da=null;function La(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Aa=typeof setTimeout=="function"?setTimeout:void 0,Qy=typeof clearTimeout=="function"?clearTimeout:void 0,dd=typeof Promise=="function"?Promise:void 0,Gy=typeof queueMicrotask=="function"?queueMicrotask:typeof dd<"u"?function(e){return dd.resolve(null).then(e).catch(qy)}:Aa;function qy(e){setTimeout(function(){throw e})}function Ol(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Yi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yi(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),zt="__reactFiber$"+ai,Ji="__reactProps$"+ai,ln="__reactContainer$"+ai,ja="__reactEvents$"+ai,Jy="__reactListeners$"+ai,Xy="__reactHandles$"+ai;function Kn(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ln]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fd(e);e!==null;){if(n=e[zt])return n;e=fd(e)}return t}e=n,n=e.parentNode}return null}function vo(e){return e=e[zt]||e[ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Zs(e){return e[Ji]||null}var Ia=[],Rr=-1;function Un(e){return{current:e}}function me(e){0>Rr||(e.current=Ia[Rr],Ia[Rr]=null,Rr--)}function he(e,t){Rr++,Ia[Rr]=e.current,e.current=t}var On={},Ge=Un(On),nt=Un(!1),tr=On;function Yr(e,t){var n=e.type.contextTypes;if(!n)return On;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rt(e){return e=e.childContextTypes,e!=null}function ks(){me(nt),me(Ge)}function hd(e,t,n){if(Ge.current!==On)throw Error(B(168));he(Ge,t),he(nt,n)}function Mh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(B(108,Om(e)||"Unknown",i));return Se({},n,r)}function Ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,tr=Ge.current,he(Ge,e),he(nt,nt.current),!0}function pd(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=Mh(e,t,tr),r.__reactInternalMemoizedMergedChildContext=e,me(nt),me(Ge),he(Ge,e)):me(nt),he(nt,n)}var Xt=null,el=!1,Fl=!1;function Nh(e){Xt===null?Xt=[e]:Xt.push(e)}function Zy(e){el=!0,Nh(e)}function Bn(){if(!Fl&&Xt!==null){Fl=!0;var e=0,t=de;try{var n=Xt;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xt=null,el=!1}catch(i){throw Xt!==null&&(Xt=Xt.slice(e+1)),sh(Su,Bn),i}finally{de=t,Fl=!1}}return null}var Dr=[],Lr=0,Cs=null,xs=0,mt=[],yt=0,nr=null,en=1,tn="";function Hn(e,t){Dr[Lr++]=xs,Dr[Lr++]=Cs,Cs=e,xs=t}function Oh(e,t,n){mt[yt++]=en,mt[yt++]=tn,mt[yt++]=nr,nr=e;var r=en;e=tn;var i=32-jt(r)-1;r&=~(1<<i),n+=1;var o=32-jt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,en=1<<32-jt(t)+i|n<<i|r,tn=o+e}else en=1<<o|n<<i|r,tn=e}function Au(e){e.return!==null&&(Hn(e,1),Oh(e,1,0))}function ju(e){for(;e===Cs;)Cs=Dr[--Lr],Dr[Lr]=null,xs=Dr[--Lr],Dr[Lr]=null;for(;e===nr;)nr=mt[--yt],mt[yt]=null,tn=mt[--yt],mt[yt]=null,en=mt[--yt],mt[yt]=null}var ct=null,at=null,ve=!1,At=null;function Fh(e,t){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,at=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nr!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,at=null,!0):!1;default:return!1}}function Ma(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Na(e){if(ve){var t=at;if(t){var n=t;if(!gd(e,t)){if(Ma(e))throw Error(B(418));t=Ln(n.nextSibling);var r=ct;t&&gd(e,t)?Fh(r,n):(e.flags=e.flags&-4097|2,ve=!1,ct=e)}}else{if(Ma(e))throw Error(B(418));e.flags=e.flags&-4097|2,ve=!1,ct=e}}}function md(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function Oo(e){if(e!==ct)return!1;if(!ve)return md(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!La(e.type,e.memoizedProps)),t&&(t=at)){if(Ma(e))throw Ph(),Error(B(418));for(;t;)Fh(e,t),t=Ln(t.nextSibling)}if(md(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=ct?Ln(e.stateNode.nextSibling):null;return!0}function Ph(){for(var e=at;e;)e=Ln(e.nextSibling)}function Kr(){at=ct=null,ve=!1}function Iu(e){At===null?At=[e]:At.push(e)}var e0=fn.ReactCurrentBatchConfig;function _i(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yd(e){var t=e._init;return t(e._payload)}function zh(e){function t(k,_){if(e){var g=k.deletions;g===null?(k.deletions=[_],k.flags|=16):g.push(_)}}function n(k,_){if(!e)return null;for(;_!==null;)t(k,_),_=_.sibling;return null}function r(k,_){for(k=new Map;_!==null;)_.key!==null?k.set(_.key,_):k.set(_.index,_),_=_.sibling;return k}function i(k,_){return k=Mn(k,_),k.index=0,k.sibling=null,k}function o(k,_,g){return k.index=g,e?(g=k.alternate,g!==null?(g=g.index,g<_?(k.flags|=2,_):g):(k.flags|=2,_)):(k.flags|=1048576,_)}function s(k){return e&&k.alternate===null&&(k.flags|=2),k}function a(k,_,g,w){return _===null||_.tag!==6?(_=Vl(g,k.mode,w),_.return=k,_):(_=i(_,g),_.return=k,_)}function u(k,_,g,w){var C=g.type;return C===Cr?m(k,_,g.props.children,w,g.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vn&&yd(C)===_.type)?(w=i(_,g.props),w.ref=_i(k,_,g),w.return=k,w):(w=os(g.type,g.key,g.props,null,k.mode,w),w.ref=_i(k,_,g),w.return=k,w)}function d(k,_,g,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==g.containerInfo||_.stateNode.implementation!==g.implementation?(_=Hl(g,k.mode,w),_.return=k,_):(_=i(_,g.children||[]),_.return=k,_)}function m(k,_,g,w,C){return _===null||_.tag!==7?(_=Jn(g,k.mode,w,C),_.return=k,_):(_=i(_,g),_.return=k,_)}function c(k,_,g){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Vl(""+_,k.mode,g),_.return=k,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eo:return g=os(_.type,_.key,_.props,null,k.mode,g),g.ref=_i(k,null,_),g.return=k,g;case Sr:return _=Hl(_,k.mode,g),_.return=k,_;case vn:var w=_._init;return c(k,w(_._payload),g)}if(Ei(_)||gi(_))return _=Jn(_,k.mode,g,null),_.return=k,_;Fo(k,_)}return null}function h(k,_,g,w){var C=_!==null?_.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:a(k,_,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Eo:return g.key===C?u(k,_,g,w):null;case Sr:return g.key===C?d(k,_,g,w):null;case vn:return C=g._init,h(k,_,C(g._payload),w)}if(Ei(g)||gi(g))return C!==null?null:m(k,_,g,w,null);Fo(k,g)}return null}function p(k,_,g,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return k=k.get(g)||null,a(_,k,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Eo:return k=k.get(w.key===null?g:w.key)||null,u(_,k,w,C);case Sr:return k=k.get(w.key===null?g:w.key)||null,d(_,k,w,C);case vn:var R=w._init;return p(k,_,g,R(w._payload),C)}if(Ei(w)||gi(w))return k=k.get(g)||null,m(_,k,w,C,null);Fo(_,w)}return null}function y(k,_,g,w){for(var C=null,R=null,x=_,D=_=0,j=null;x!==null&&D<g.length;D++){x.index>D?(j=x,x=null):j=x.sibling;var T=h(k,x,g[D],w);if(T===null){x===null&&(x=j);break}e&&x&&T.alternate===null&&t(k,x),_=o(T,_,D),R===null?C=T:R.sibling=T,R=T,x=j}if(D===g.length)return n(k,x),ve&&Hn(k,D),C;if(x===null){for(;D<g.length;D++)x=c(k,g[D],w),x!==null&&(_=o(x,_,D),R===null?C=x:R.sibling=x,R=x);return ve&&Hn(k,D),C}for(x=r(k,x);D<g.length;D++)j=p(x,k,D,g[D],w),j!==null&&(e&&j.alternate!==null&&x.delete(j.key===null?D:j.key),_=o(j,_,D),R===null?C=j:R.sibling=j,R=j);return e&&x.forEach(function(L){return t(k,L)}),ve&&Hn(k,D),C}function S(k,_,g,w){var C=gi(g);if(typeof C!="function")throw Error(B(150));if(g=C.call(g),g==null)throw Error(B(151));for(var R=C=null,x=_,D=_=0,j=null,T=g.next();x!==null&&!T.done;D++,T=g.next()){x.index>D?(j=x,x=null):j=x.sibling;var L=h(k,x,T.value,w);if(L===null){x===null&&(x=j);break}e&&x&&L.alternate===null&&t(k,x),_=o(L,_,D),R===null?C=L:R.sibling=L,R=L,x=j}if(T.done)return n(k,x),ve&&Hn(k,D),C;if(x===null){for(;!T.done;D++,T=g.next())T=c(k,T.value,w),T!==null&&(_=o(T,_,D),R===null?C=T:R.sibling=T,R=T);return ve&&Hn(k,D),C}for(x=r(k,x);!T.done;D++,T=g.next())T=p(x,k,D,T.value,w),T!==null&&(e&&T.alternate!==null&&x.delete(T.key===null?D:T.key),_=o(T,_,D),R===null?C=T:R.sibling=T,R=T);return e&&x.forEach(function(F){return t(k,F)}),ve&&Hn(k,D),C}function M(k,_,g,w){if(typeof g=="object"&&g!==null&&g.type===Cr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Eo:e:{for(var C=g.key,R=_;R!==null;){if(R.key===C){if(C=g.type,C===Cr){if(R.tag===7){n(k,R.sibling),_=i(R,g.props.children),_.return=k,k=_;break e}}else if(R.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===vn&&yd(C)===R.type){n(k,R.sibling),_=i(R,g.props),_.ref=_i(k,R,g),_.return=k,k=_;break e}n(k,R);break}else t(k,R);R=R.sibling}g.type===Cr?(_=Jn(g.props.children,k.mode,w,g.key),_.return=k,k=_):(w=os(g.type,g.key,g.props,null,k.mode,w),w.ref=_i(k,_,g),w.return=k,k=w)}return s(k);case Sr:e:{for(R=g.key;_!==null;){if(_.key===R)if(_.tag===4&&_.stateNode.containerInfo===g.containerInfo&&_.stateNode.implementation===g.implementation){n(k,_.sibling),_=i(_,g.children||[]),_.return=k,k=_;break e}else{n(k,_);break}else t(k,_);_=_.sibling}_=Hl(g,k.mode,w),_.return=k,k=_}return s(k);case vn:return R=g._init,M(k,_,R(g._payload),w)}if(Ei(g))return y(k,_,g,w);if(gi(g))return S(k,_,g,w);Fo(k,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,_!==null&&_.tag===6?(n(k,_.sibling),_=i(_,g),_.return=k,k=_):(n(k,_),_=Vl(g,k.mode,w),_.return=k,k=_),s(k)):n(k,_)}return M}var Qr=zh(!0),Uh=zh(!1),bs=Un(null),Es=null,Ar=null,Mu=null;function Nu(){Mu=Ar=Es=null}function Ou(e){var t=bs.current;me(bs),e._currentValue=t}function Oa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zr(e,t){Es=e,Mu=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tt=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(Es===null)throw Error(B(308));Ar=e,Es.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var Qn=null;function Fu(e){Qn===null?Qn=[e]:Qn.push(e)}function Bh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Fu(t)):(n.next=i.next,i.next=n),t.interleaved=n,an(e,r)}function an(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wn=!1;function Pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $h(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,an(e,n)}return i=r.interleaved,i===null?(t.next=t,Fu(r)):(t.next=i.next,i.next=t),r.interleaved=t,an(e,n)}function Zo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cu(e,n)}}function vd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ts(e,t,n,r){var i=e.updateQueue;wn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,d=u.next;u.next=null,s===null?o=d:s.next=d,s=u;var m=e.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==s&&(a===null?m.firstBaseUpdate=d:a.next=d,m.lastBaseUpdate=u))}if(o!==null){var c=i.baseState;s=0,m=d=u=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){m!==null&&(m=m.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,S=a;switch(h=t,p=n,S.tag){case 1:if(y=S.payload,typeof y=="function"){c=y.call(p,c,h);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,h=typeof y=="function"?y.call(p,c,h):y,h==null)break e;c=Se({},c,h);break e;case 2:wn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(d=m=p,u=c):m=m.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(m===null&&(u=c),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ir|=s,e.lanes=s,e.memoizedState=c}}function wd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var wo={},Bt=Un(wo),Xi=Un(wo),Zi=Un(wo);function Gn(e){if(e===wo)throw Error(B(174));return e}function zu(e,t){switch(he(Zi,t),he(Xi,e),he(Bt,wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ma(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ma(t,e)}me(Bt),he(Bt,t)}function Gr(){me(Bt),me(Xi),me(Zi)}function Wh(e){Gn(Zi.current);var t=Gn(Bt.current),n=ma(t,e.type);t!==n&&(he(Xi,e),he(Bt,n))}function Uu(e){Xi.current===e&&(me(Bt),me(Xi))}var we=Un(0);function Rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pl=[];function Bu(){for(var e=0;e<Pl.length;e++)Pl[e]._workInProgressVersionPrimary=null;Pl.length=0}var es=fn.ReactCurrentDispatcher,zl=fn.ReactCurrentBatchConfig,rr=0,ke=null,De=null,Oe=null,Ds=!1,Mi=!1,eo=0,t0=0;function He(){throw Error(B(321))}function $u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function Wu(e,t,n,r,i,o){if(rr=o,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=e===null||e.memoizedState===null?o0:s0,e=n(r,i),Mi){o=0;do{if(Mi=!1,eo=0,25<=o)throw Error(B(301));o+=1,Oe=De=null,t.updateQueue=null,es.current=l0,e=n(r,i)}while(Mi)}if(es.current=Ls,t=De!==null&&De.next!==null,rr=0,Oe=De=ke=null,Ds=!1,t)throw Error(B(300));return e}function Vu(){var e=eo!==0;return eo=0,e}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ke.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function xt(){if(De===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Oe===null?ke.memoizedState:Oe.next;if(t!==null)Oe=t,De=e;else{if(e===null)throw Error(B(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Oe===null?ke.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function to(e,t){return typeof t=="function"?t(e):t}function Ul(e){var t=xt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=De,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,d=o;do{var m=d.lane;if((rr&m)===m)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var c={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=c,s=r):u=u.next=c,ke.lanes|=m,ir|=m}d=d.next}while(d!==null&&d!==o);u===null?s=r:u.next=a,Mt(r,t.memoizedState)||(tt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ke.lanes|=o,ir|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bl(e){var t=xt(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Mt(o,t.memoizedState)||(tt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Vh(){}function Hh(e,t){var n=ke,r=xt(),i=t(),o=!Mt(r.memoizedState,i);if(o&&(r.memoizedState=i,tt=!0),r=r.queue,Hu(Qh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,no(9,Kh.bind(null,n,r,i,t),void 0,null),ze===null)throw Error(B(349));rr&30||Yh(n,t,i)}return i}function Yh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Kh(e,t,n,r){t.value=n,t.getSnapshot=r,Gh(t)&&qh(e)}function Qh(e,t,n){return n(function(){Gh(t)&&qh(e)})}function Gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function qh(e){var t=an(e,1);t!==null&&It(t,e,1,-1)}function _d(e){var t=Pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:e},t.queue=e,e=e.dispatch=i0.bind(null,ke,e),[t.memoizedState,e]}function no(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Jh(){return xt().memoizedState}function ts(e,t,n,r){var i=Pt();ke.flags|=e,i.memoizedState=no(1|t,n,void 0,r===void 0?null:r)}function tl(e,t,n,r){var i=xt();r=r===void 0?null:r;var o=void 0;if(De!==null){var s=De.memoizedState;if(o=s.destroy,r!==null&&$u(r,s.deps)){i.memoizedState=no(t,n,o,r);return}}ke.flags|=e,i.memoizedState=no(1|t,n,o,r)}function kd(e,t){return ts(8390656,8,e,t)}function Hu(e,t){return tl(2048,8,e,t)}function Xh(e,t){return tl(4,2,e,t)}function Zh(e,t){return tl(4,4,e,t)}function ep(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tp(e,t,n){return n=n!=null?n.concat([e]):null,tl(4,4,ep.bind(null,t,e),n)}function Yu(){}function np(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rp(e,t){var n=xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ip(e,t,n){return rr&21?(Mt(n,t)||(n=uh(),ke.lanes|=n,ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tt=!0),e.memoizedState=n)}function n0(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=zl.transition;zl.transition={};try{e(!1),t()}finally{de=n,zl.transition=r}}function op(){return xt().memoizedState}function r0(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sp(e))lp(t,n);else if(n=Bh(e,t,n,r),n!==null){var i=Je();It(n,e,r,i),ap(n,t,r)}}function i0(e,t,n){var r=In(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sp(e))lp(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Mt(a,s)){var u=t.interleaved;u===null?(i.next=i,Fu(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=Bh(e,t,i,r),n!==null&&(i=Je(),It(n,e,r,i),ap(n,t,r))}}function sp(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function lp(e,t){Mi=Ds=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ap(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cu(e,n)}}var Ls={readContext:Ct,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},o0={readContext:Ct,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:kd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ts(4194308,4,ep.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return ts(4,2,e,t)},useMemo:function(e,t){var n=Pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=r0.bind(null,ke,e),[r.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:_d,useDebugValue:Yu,useDeferredValue:function(e){return Pt().memoizedState=e},useTransition:function(){var e=_d(!1),t=e[0];return e=n0.bind(null,e[1]),Pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ke,i=Pt();if(ve){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),ze===null)throw Error(B(349));rr&30||Yh(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,kd(Qh.bind(null,r,o,e),[e]),r.flags|=2048,no(9,Kh.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Pt(),t=ze.identifierPrefix;if(ve){var n=tn,r=en;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=eo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=t0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s0={readContext:Ct,useCallback:np,useContext:Ct,useEffect:Hu,useImperativeHandle:tp,useInsertionEffect:Xh,useLayoutEffect:Zh,useMemo:rp,useReducer:Ul,useRef:Jh,useState:function(){return Ul(to)},useDebugValue:Yu,useDeferredValue:function(e){var t=xt();return ip(t,De.memoizedState,e)},useTransition:function(){var e=Ul(to)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Hh,useId:op,unstable_isNewReconciler:!1},l0={readContext:Ct,useCallback:np,useContext:Ct,useEffect:Hu,useImperativeHandle:tp,useInsertionEffect:Xh,useLayoutEffect:Zh,useMemo:rp,useReducer:Bl,useRef:Jh,useState:function(){return Bl(to)},useDebugValue:Yu,useDeferredValue:function(e){var t=xt();return De===null?t.memoizedState=e:ip(t,De.memoizedState,e)},useTransition:function(){var e=Bl(to)[0],t=xt().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Hh,useId:op,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Se({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var nl={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),i=In(e),o=nn(r,i);o.payload=t,n!=null&&(o.callback=n),t=An(e,o,i),t!==null&&(It(t,e,i,r),Zo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),i=In(e),o=nn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=An(e,o,i),t!==null&&(It(t,e,i,r),Zo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=In(e),i=nn(n,r);i.tag=2,t!=null&&(i.callback=t),t=An(e,i,r),t!==null&&(It(t,e,r,n),Zo(t,e,r))}};function Sd(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Qi(n,r)||!Qi(i,o):!0}function up(e,t,n){var r=!1,i=On,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(i=rt(t)?tr:Ge.current,r=t.contextTypes,o=(r=r!=null)?Yr(e,i):On),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=nl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Cd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nl.enqueueReplaceState(t,t.state,null)}function Pa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Pu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ct(o):(o=rt(t)?tr:Ge.current,i.context=Yr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Fa(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&nl.enqueueReplaceState(i,i.state,null),Ts(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var n="",r=t;do n+=Nm(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function $l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var a0=typeof WeakMap=="function"?WeakMap:Map;function cp(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){js||(js=!0,Ga=r),za(e,t)},n}function dp(e,t,n){n=nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){za(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){za(e,t),typeof r!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function xd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new a0;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=S0.bind(null,e,t,n),t.then(e,e))}function bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ed(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var u0=fn.ReactCurrentOwner,tt=!1;function qe(e,t,n,r){t.child=e===null?Uh(t,null,n,r):Qr(t,e.child,n,r)}function Td(e,t,n,r,i){n=n.render;var o=t.ref;return zr(t,i),r=Wu(e,t,n,r,o,i),n=Vu(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,un(e,t,i)):(ve&&n&&Au(t),t.flags|=1,qe(e,t,r,i),t.child)}function Rd(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!ec(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,fp(e,t,o,r,i)):(e=os(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Qi,n(s,r)&&e.ref===t.ref)return un(e,t,i)}return t.flags|=1,e=Mn(o,r),e.ref=t.ref,e.return=t,t.child=e}function fp(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Qi(o,r)&&e.ref===t.ref)if(tt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(tt=!0);else return t.lanes=e.lanes,un(e,t,i)}return Ua(e,t,n,r,i)}function hp(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Ir,lt),lt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Ir,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,he(Ir,lt),lt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,he(Ir,lt),lt|=r;return qe(e,t,i,n),t.child}function pp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ua(e,t,n,r,i){var o=rt(n)?tr:Ge.current;return o=Yr(t,o),zr(t,i),n=Wu(e,t,n,r,o,i),r=Vu(),e!==null&&!tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,un(e,t,i)):(ve&&r&&Au(t),t.flags|=1,qe(e,t,n,i),t.child)}function Dd(e,t,n,r,i){if(rt(n)){var o=!0;Ss(t)}else o=!1;if(zr(t,i),t.stateNode===null)ns(e,t),up(t,n,r),Pa(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ct(d):(d=rt(n)?tr:Ge.current,d=Yr(t,d));var m=n.getDerivedStateFromProps,c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==d)&&Cd(t,s,r,d),wn=!1;var h=t.memoizedState;s.state=h,Ts(t,r,s,i),u=t.memoizedState,a!==r||h!==u||nt.current||wn?(typeof m=="function"&&(Fa(t,n,m,r),u=t.memoizedState),(a=wn||Sd(t,n,a,r,h,u,d))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=d,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,$h(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Dt(t.type,a),s.props=d,c=t.pendingProps,h=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ct(u):(u=rt(n)?tr:Ge.current,u=Yr(t,u));var p=n.getDerivedStateFromProps;(m=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==c||h!==u)&&Cd(t,s,r,u),wn=!1,h=t.memoizedState,s.state=h,Ts(t,r,s,i);var y=t.memoizedState;a!==c||h!==y||nt.current||wn?(typeof p=="function"&&(Fa(t,n,p,r),y=t.memoizedState),(d=wn||Sd(t,n,d,r,h,y,u)||!1)?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=u,r=d):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){pp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&pd(t,n,!1),un(e,t,o);r=t.stateNode,u0.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Qr(t,e.child,null,o),t.child=Qr(t,null,a,o)):qe(e,t,a,o),t.memoizedState=r.state,i&&pd(t,n,!0),t.child}function gp(e){var t=e.stateNode;t.pendingContext?hd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hd(e,t.context,!1),zu(e,t.containerInfo)}function Ld(e,t,n,r,i){return Kr(),Iu(i),t.flags|=256,qe(e,t,n,r),t.child}var $a={dehydrated:null,treeContext:null,retryLane:0};function Wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function mp(e,t,n){var r=t.pendingProps,i=we.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),he(we,i&1),e===null)return Na(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ol(s,r,0,null),e=Jn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wa(n),t.memoizedState=$a,e):Ku(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c0(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Mn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Mn(a,o):(o=Jn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Wa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=$a,r}return o=e.child,e=o.sibling,r=Mn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=ol({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Po(e,t,n,r){return r!==null&&Iu(r),Qr(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function c0(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=$l(Error(B(422))),Po(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ol({mode:"visible",children:r.children},i,0,null),o=Jn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Qr(t,e.child,null,s),t.child.memoizedState=Wa(s),t.memoizedState=$a,o);if(!(t.mode&1))return Po(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=$l(o,r,void 0),Po(e,t,s,r)}if(a=(s&e.childLanes)!==0,tt||a){if(r=ze,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,an(e,i),It(r,e,i,-1))}return Zu(),r=$l(Error(B(421))),Po(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=C0.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,at=Ln(i.nextSibling),ct=t,ve=!0,At=null,e!==null&&(mt[yt++]=en,mt[yt++]=tn,mt[yt++]=nr,en=e.id,tn=e.overflow,nr=t),t=Ku(t,r.children),t.flags|=4096,t)}function Ad(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oa(e.return,t,n)}function Wl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function yp(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(qe(e,t,r.children,n),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,n,t);else if(e.tag===19)Ad(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(he(we,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Rs(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Rs(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wl(t,!0,n,null,o);break;case"together":Wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function d0(e,t,n){switch(t.tag){case 3:gp(t),Kr();break;case 5:Wh(t);break;case 1:rt(t.type)&&Ss(t);break;case 4:zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;he(bs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(he(we,we.current&1),t.flags|=128,null):n&t.child.childLanes?mp(e,t,n):(he(we,we.current&1),e=un(e,t,n),e!==null?e.sibling:null);he(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yp(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),he(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,hp(e,t,n)}return un(e,t,n)}var vp,Va,wp,_p;vp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Va=function(){};wp=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Gn(Bt.current);var o=null;switch(n){case"input":i=fa(e,i),r=fa(e,r),o=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),o=[];break;case"textarea":i=ga(e,i),r=ga(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_s)}ya(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bi.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(a=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bi.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ge("scroll",e),o||a===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};_p=function(e,t,n,r){n!==r&&(t.flags|=4)};function ki(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function f0(e,t,n){var r=t.pendingProps;switch(ju(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return rt(t.type)&&ks(),Ye(t),null;case 3:return r=t.stateNode,Gr(),me(nt),me(Ge),Bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(Xa(At),At=null))),Va(e,t),Ye(t),null;case 5:Uu(t);var i=Gn(Zi.current);if(n=t.type,e!==null&&t.stateNode!=null)wp(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return Ye(t),null}if(e=Gn(Bt.current),Oo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[zt]=t,r[Ji]=o,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(i=0;i<Ri.length;i++)ge(Ri[i],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":Uc(r,o),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ge("invalid",r);break;case"textarea":$c(r,o),ge("invalid",r)}ya(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&No(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&No(r.textContent,a,e),i=["children",""+a]):Bi.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ge("scroll",r)}switch(n){case"input":To(r),Bc(r,o,!0);break;case"textarea":To(r),Wc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=_s)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[zt]=t,e[Ji]=r,vp(e,t,!1,!1),t.stateNode=e;e:{switch(s=va(n,r),n){case"dialog":ge("cancel",e),ge("close",e),i=r;break;case"iframe":case"object":case"embed":ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ri.length;i++)ge(Ri[i],e);i=r;break;case"source":ge("error",e),i=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),i=r;break;case"details":ge("toggle",e),i=r;break;case"input":Uc(e,r),i=fa(e,r),ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),ge("invalid",e);break;case"textarea":$c(e,r),i=ga(e,r),ge("invalid",e);break;default:i=r}ya(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?Jf(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Gf(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$i(e,u):typeof u=="number"&&$i(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bi.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ge("scroll",e):u!=null&&yu(e,o,u,s))}switch(n){case"input":To(e),Bc(e,r,!1);break;case"textarea":To(e),Wc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Nr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_s)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)_p(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=Gn(Zi.current),Gn(Bt.current),Oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(o=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:No(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&No(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return Ye(t),null;case 13:if(me(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&at!==null&&t.mode&1&&!(t.flags&128))Ph(),Kr(),t.flags|=98560,o=!1;else if(o=Oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(B(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[zt]=t}else Kr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),o=!1}else At!==null&&(Xa(At),At=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Le===0&&(Le=3):Zu())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Gr(),Va(e,t),e===null&&Gi(t.stateNode.containerInfo),Ye(t),null;case 10:return Ou(t.type._context),Ye(t),null;case 17:return rt(t.type)&&ks(),Ye(t),null;case 19:if(me(we),o=t.memoizedState,o===null)return Ye(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ki(o,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Rs(e),s!==null){for(t.flags|=128,ki(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(we,we.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ee()>Jr&&(t.flags|=128,r=!0,ki(o,!1),t.lanes=4194304)}else{if(!r)if(e=Rs(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ki(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ve)return Ye(t),null}else 2*Ee()-o.renderingStartTime>Jr&&n!==1073741824&&(t.flags|=128,r=!0,ki(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ee(),t.sibling=null,n=we.current,he(we,r?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Xu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?lt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function h0(e,t){switch(ju(t),t.tag){case 1:return rt(t.type)&&ks(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),me(nt),me(Ge),Bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uu(t),null;case 13:if(me(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Kr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(we),null;case 4:return Gr(),null;case 10:return Ou(t.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var zo=!1,Ke=!1,p0=typeof WeakSet=="function"?WeakSet:Set,H=null;function jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Ha(e,t,n){try{n()}catch(r){xe(e,t,r)}}var jd=!1;function g0(e,t){if(Ra=ys,e=bh(),Lu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,d=0,m=0,c=e,h=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(a=s+i),c!==o||r!==0&&c.nodeType!==3||(u=s+r),c.nodeType===3&&(s+=c.nodeValue.length),(p=c.firstChild)!==null;)h=c,c=p;for(;;){if(c===e)break t;if(h===n&&++d===i&&(a=s),h===o&&++m===r&&(u=s),(p=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Da={focusedElem:e,selectionRange:n},ys=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,M=y.memoizedState,k=t.stateNode,_=k.getSnapshotBeforeUpdate(t.elementType===t.type?S:Dt(t.type,S),M);k.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(w){xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return y=jd,jd=!1,y}function Ni(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ha(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ya(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kp(e){var t=e.alternate;t!==null&&(e.alternate=null,kp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Ji],delete t[ja],delete t[Jy],delete t[Xy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sp(e){return e.tag===5||e.tag===3||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ka(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_s));else if(r!==4&&(e=e.child,e!==null))for(Ka(e,t,n),e=e.sibling;e!==null;)Ka(e,t,n),e=e.sibling}function Qa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qa(e,t,n),e=e.sibling;e!==null;)Qa(e,t,n),e=e.sibling}var Be=null,Lt=!1;function yn(e,t,n){for(n=n.child;n!==null;)Cp(e,t,n),n=n.sibling}function Cp(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Gs,n)}catch{}switch(n.tag){case 5:Ke||jr(n,t);case 6:var r=Be,i=Lt;Be=null,yn(e,t,n),Be=r,Lt=i,Be!==null&&(Lt?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Lt?(e=Be,n=n.stateNode,e.nodeType===8?Ol(e.parentNode,n):e.nodeType===1&&Ol(e,n),Yi(e)):Ol(Be,n.stateNode));break;case 4:r=Be,i=Lt,Be=n.stateNode.containerInfo,Lt=!0,yn(e,t,n),Be=r,Lt=i;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ha(n,t,s),i=i.next}while(i!==r)}yn(e,t,n);break;case 1:if(!Ke&&(jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,yn(e,t,n),Ke=r):yn(e,t,n);break;default:yn(e,t,n)}}function Md(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new p0),t.forEach(function(r){var i=x0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,Lt=!1;break e;case 3:Be=a.stateNode.containerInfo,Lt=!0;break e;case 4:Be=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(Be===null)throw Error(B(160));Cp(o,s,i),Be=null,Lt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){xe(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xp(t,e),t=t.sibling}function xp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Ot(e),r&4){try{Ni(3,e,e.return),rl(3,e)}catch(S){xe(e,e.return,S)}try{Ni(5,e,e.return)}catch(S){xe(e,e.return,S)}}break;case 1:Rt(t,e),Ot(e),r&512&&n!==null&&jr(n,n.return);break;case 5:if(Rt(t,e),Ot(e),r&512&&n!==null&&jr(n,n.return),e.flags&32){var i=e.stateNode;try{$i(i,"")}catch(S){xe(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Yf(i,o),va(a,s);var d=va(a,o);for(s=0;s<u.length;s+=2){var m=u[s],c=u[s+1];m==="style"?Jf(i,c):m==="dangerouslySetInnerHTML"?Gf(i,c):m==="children"?$i(i,c):yu(i,m,c,d)}switch(a){case"input":ha(i,o);break;case"textarea":Kf(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Nr(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Nr(i,!!o.multiple,o.defaultValue,!0):Nr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ji]=o}catch(S){xe(e,e.return,S)}}break;case 6:if(Rt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){xe(e,e.return,S)}}break;case 3:if(Rt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yi(t.containerInfo)}catch(S){xe(e,e.return,S)}break;case 4:Rt(t,e),Ot(e);break;case 13:Rt(t,e),Ot(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(qu=Ee())),r&4&&Md(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(d=Ke)||m,Rt(t,e),Ke=d):Rt(t,e),Ot(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(H=e,m=e.child;m!==null;){for(c=H=m;H!==null;){switch(h=H,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ni(4,h,h.return);break;case 1:jr(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(S){xe(r,n,S)}}break;case 5:jr(h,h.return);break;case 22:if(h.memoizedState!==null){Od(c);continue}}p!==null?(p.return=h,H=p):Od(c)}m=m.sibling}e:for(m=null,c=e;;){if(c.tag===5){if(m===null){m=c;try{i=c.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=c.stateNode,u=c.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=qf("display",s))}catch(S){xe(e,e.return,S)}}}else if(c.tag===6){if(m===null)try{c.stateNode.nodeValue=d?"":c.memoizedProps}catch(S){xe(e,e.return,S)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Rt(t,e),Ot(e),r&4&&Md(e);break;case 21:break;default:Rt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sp(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($i(i,""),r.flags&=-33);var o=Id(e);Qa(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Id(e);Ka(e,a,s);break;default:throw Error(B(161))}}catch(u){xe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m0(e,t,n){H=e,bp(e)}function bp(e,t,n){for(var r=(e.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||zo;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ke;a=zo;var d=Ke;if(zo=s,(Ke=u)&&!d)for(H=i;H!==null;)s=H,u=s.child,s.tag===22&&s.memoizedState!==null?Fd(i):u!==null?(u.return=s,H=u):Fd(i);for(;o!==null;)H=o,bp(o),o=o.sibling;H=i,zo=a,Ke=d}Nd(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):Nd(e)}}function Nd(e){for(;H!==null;){var t=H;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||rl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&wd(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wd(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var c=m.dehydrated;c!==null&&Yi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Ke||t.flags&512&&Ya(t)}catch(h){xe(t,t.return,h)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function Od(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function Fd(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(u){xe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){xe(t,i,u)}}var o=t.return;try{Ya(t)}catch(u){xe(t,o,u)}break;case 5:var s=t.return;try{Ya(t)}catch(u){xe(t,s,u)}}}catch(u){xe(t,t.return,u)}if(t===e){H=null;break}var a=t.sibling;if(a!==null){a.return=t.return,H=a;break}H=t.return}}var y0=Math.ceil,As=fn.ReactCurrentDispatcher,Qu=fn.ReactCurrentOwner,St=fn.ReactCurrentBatchConfig,ce=0,ze=null,Te=null,$e=0,lt=0,Ir=Un(0),Le=0,ro=null,ir=0,il=0,Gu=0,Oi=null,et=null,qu=0,Jr=1/0,Jt=null,js=!1,Ga=null,jn=null,Uo=!1,bn=null,Is=0,Fi=0,qa=null,rs=-1,is=0;function Je(){return ce&6?Ee():rs!==-1?rs:rs=Ee()}function In(e){return e.mode&1?ce&2&&$e!==0?$e&-$e:e0.transition!==null?(is===0&&(is=uh()),is):(e=de,e!==0||(e=window.event,e=e===void 0?16:mh(e.type)),e):1}function It(e,t,n,r){if(50<Fi)throw Fi=0,qa=null,Error(B(185));mo(e,n,r),(!(ce&2)||e!==ze)&&(e===ze&&(!(ce&2)&&(il|=n),Le===4&&Sn(e,$e)),it(e,r),n===1&&ce===0&&!(t.mode&1)&&(Jr=Ee()+500,el&&Bn()))}function it(e,t){var n=e.callbackNode;ey(e,t);var r=ms(e,e===ze?$e:0);if(r===0)n!==null&&Yc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yc(n),t===1)e.tag===0?Zy(Pd.bind(null,e)):Nh(Pd.bind(null,e)),Gy(function(){!(ce&6)&&Bn()}),n=null;else{switch(ch(r)){case 1:n=Su;break;case 4:n=lh;break;case 16:n=gs;break;case 536870912:n=ah;break;default:n=gs}n=Ip(n,Ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ep(e,t){if(rs=-1,is=0,ce&6)throw Error(B(327));var n=e.callbackNode;if(Ur()&&e.callbackNode!==n)return null;var r=ms(e,e===ze?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ms(e,r);else{t=r;var i=ce;ce|=2;var o=Rp();(ze!==e||$e!==t)&&(Jt=null,Jr=Ee()+500,qn(e,t));do try{_0();break}catch(a){Tp(e,a)}while(!0);Nu(),As.current=o,ce=i,Te!==null?t=0:(ze=null,$e=0,t=Le)}if(t!==0){if(t===2&&(i=Ca(e),i!==0&&(r=i,t=Ja(e,i))),t===1)throw n=ro,qn(e,0),Sn(e,r),it(e,Ee()),n;if(t===6)Sn(e,r);else{if(i=e.current.alternate,!(r&30)&&!v0(i)&&(t=Ms(e,r),t===2&&(o=Ca(e),o!==0&&(r=o,t=Ja(e,o))),t===1))throw n=ro,qn(e,0),Sn(e,r),it(e,Ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:Yn(e,et,Jt);break;case 3:if(Sn(e,r),(r&130023424)===r&&(t=qu+500-Ee(),10<t)){if(ms(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Aa(Yn.bind(null,e,et,Jt),t);break}Yn(e,et,Jt);break;case 4:if(Sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-jt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y0(r/1960))-r,10<r){e.timeoutHandle=Aa(Yn.bind(null,e,et,Jt),r);break}Yn(e,et,Jt);break;case 5:Yn(e,et,Jt);break;default:throw Error(B(329))}}}return it(e,Ee()),e.callbackNode===n?Ep.bind(null,e):null}function Ja(e,t){var n=Oi;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=Ms(e,t),e!==2&&(t=et,et=n,t!==null&&Xa(t)),e}function Xa(e){et===null?et=e:et.push.apply(et,e)}function v0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~Gu,t&=~il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function Pd(e){if(ce&6)throw Error(B(327));Ur();var t=ms(e,0);if(!(t&1))return it(e,Ee()),null;var n=Ms(e,t);if(e.tag!==0&&n===2){var r=Ca(e);r!==0&&(t=r,n=Ja(e,r))}if(n===1)throw n=ro,qn(e,0),Sn(e,t),it(e,Ee()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,et,Jt),it(e,Ee()),null}function Ju(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(Jr=Ee()+500,el&&Bn())}}function or(e){bn!==null&&bn.tag===0&&!(ce&6)&&Ur();var t=ce;ce|=1;var n=St.transition,r=de;try{if(St.transition=null,de=1,e)return e()}finally{de=r,St.transition=n,ce=t,!(ce&6)&&Bn()}}function Xu(){lt=Ir.current,me(Ir)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qy(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(ju(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ks();break;case 3:Gr(),me(nt),me(Ge),Bu();break;case 5:Uu(r);break;case 4:Gr();break;case 13:me(we);break;case 19:me(we);break;case 10:Ou(r.type._context);break;case 22:case 23:Xu()}n=n.return}if(ze=e,Te=e=Mn(e.current,null),$e=lt=t,Le=0,ro=null,Gu=il=ir=0,et=Oi=null,Qn!==null){for(t=0;t<Qn.length;t++)if(n=Qn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Qn=null}return e}function Tp(e,t){do{var n=Te;try{if(Nu(),es.current=Ls,Ds){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ds=!1}if(rr=0,Oe=De=ke=null,Mi=!1,eo=0,Qu.current=null,n===null||n.return===null){Le=1,ro=t,Te=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=$e,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,m=a,c=m.tag;if(!(m.mode&1)&&(c===0||c===11||c===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var p=bd(s);if(p!==null){p.flags&=-257,Ed(p,s,a,o,t),p.mode&1&&xd(o,d,t),t=p,u=d;var y=t.updateQueue;if(y===null){var S=new Set;S.add(u),t.updateQueue=S}else y.add(u);break e}else{if(!(t&1)){xd(o,d,t),Zu();break e}u=Error(B(426))}}else if(ve&&a.mode&1){var M=bd(s);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Ed(M,s,a,o,t),Iu(qr(u,a));break e}}o=u=qr(u,a),Le!==4&&(Le=2),Oi===null?Oi=[o]:Oi.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var k=cp(o,u,t);vd(o,k);break e;case 1:a=u;var _=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(jn===null||!jn.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=dp(o,a,t);vd(o,w);break e}}o=o.return}while(o!==null)}Lp(n)}catch(C){t=C,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function Rp(){var e=As.current;return As.current=Ls,e===null?Ls:e}function Zu(){(Le===0||Le===3||Le===2)&&(Le=4),ze===null||!(ir&268435455)&&!(il&268435455)||Sn(ze,$e)}function Ms(e,t){var n=ce;ce|=2;var r=Rp();(ze!==e||$e!==t)&&(Jt=null,qn(e,t));do try{w0();break}catch(i){Tp(e,i)}while(!0);if(Nu(),ce=n,As.current=r,Te!==null)throw Error(B(261));return ze=null,$e=0,Le}function w0(){for(;Te!==null;)Dp(Te)}function _0(){for(;Te!==null&&!Hm();)Dp(Te)}function Dp(e){var t=jp(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Lp(e):Te=t,Qu.current=null}function Lp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=h0(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Te=null;return}}else if(n=f0(n,t,lt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Le===0&&(Le=5)}function Yn(e,t,n){var r=de,i=St.transition;try{St.transition=null,de=1,k0(e,t,n,r)}finally{St.transition=i,de=r}return null}function k0(e,t,n,r){do Ur();while(bn!==null);if(ce&6)throw Error(B(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ty(e,o),e===ze&&(Te=ze=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uo||(Uo=!0,Ip(gs,function(){return Ur(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=St.transition,St.transition=null;var s=de;de=1;var a=ce;ce|=4,Qu.current=null,g0(e,n),xp(n,e),By(Da),ys=!!Ra,Da=Ra=null,e.current=n,m0(n),Ym(),ce=a,de=s,St.transition=o}else e.current=n;if(Uo&&(Uo=!1,bn=e,Is=i),o=e.pendingLanes,o===0&&(jn=null),Gm(n.stateNode),it(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(js)throw js=!1,e=Ga,Ga=null,e;return Is&1&&e.tag!==0&&Ur(),o=e.pendingLanes,o&1?e===qa?Fi++:(Fi=0,qa=e):Fi=0,Bn(),null}function Ur(){if(bn!==null){var e=ch(Is),t=St.transition,n=de;try{if(St.transition=null,de=16>e?16:e,bn===null)var r=!1;else{if(e=bn,bn=null,Is=0,ce&6)throw Error(B(331));var i=ce;for(ce|=4,H=e.current;H!==null;){var o=H,s=o.child;if(H.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(H=d;H!==null;){var m=H;switch(m.tag){case 0:case 11:case 15:Ni(8,m,o)}var c=m.child;if(c!==null)c.return=m,H=c;else for(;H!==null;){m=H;var h=m.sibling,p=m.return;if(kp(m),m===d){H=null;break}if(h!==null){h.return=p,H=h;break}H=p}}}var y=o.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var M=S.sibling;S.sibling=null,S=M}while(S!==null)}}H=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,H=s;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ni(9,o,o.return)}var k=o.sibling;if(k!==null){k.return=o.return,H=k;break e}H=o.return}}var _=e.current;for(H=_;H!==null;){s=H;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,H=g;else e:for(s=_;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rl(9,a)}}catch(C){xe(a,a.return,C)}if(a===s){H=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,H=w;break e}H=a.return}}if(ce=i,Bn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Gs,e)}catch{}r=!0}return r}finally{de=n,St.transition=t}}return!1}function zd(e,t,n){t=qr(n,t),t=cp(e,t,1),e=An(e,t,1),t=Je(),e!==null&&(mo(e,1,t),it(e,t))}function xe(e,t,n){if(e.tag===3)zd(e,e,n);else for(;t!==null;){if(t.tag===3){zd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jn===null||!jn.has(r))){e=qr(n,e),e=dp(t,e,1),t=An(t,e,1),e=Je(),t!==null&&(mo(t,1,e),it(t,e));break}}t=t.return}}function S0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&($e&n)===n&&(Le===4||Le===3&&($e&130023424)===$e&&500>Ee()-qu?qn(e,0):Gu|=n),it(e,t)}function Ap(e,t){t===0&&(e.mode&1?(t=Lo,Lo<<=1,!(Lo&130023424)&&(Lo=4194304)):t=1);var n=Je();e=an(e,t),e!==null&&(mo(e,t,n),it(e,n))}function C0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ap(e,n)}function x0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),Ap(e,n)}var jp;jp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tt=!1,d0(e,t,n);tt=!!(e.flags&131072)}else tt=!1,ve&&t.flags&1048576&&Oh(t,xs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ns(e,t),e=t.pendingProps;var i=Yr(t,Ge.current);zr(t,n),i=Wu(null,t,r,e,i,n);var o=Vu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(o=!0,Ss(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pu(t),i.updater=nl,t.stateNode=i,i._reactInternals=t,Pa(t,r,e,n),t=Ba(null,t,r,!0,o,n)):(t.tag=0,ve&&o&&Au(t),qe(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ns(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=E0(r),e=Dt(r,e),i){case 0:t=Ua(null,t,r,e,n);break e;case 1:t=Dd(null,t,r,e,n);break e;case 11:t=Td(null,t,r,e,n);break e;case 14:t=Rd(null,t,r,Dt(r.type,e),n);break e}throw Error(B(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),Ua(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),Dd(e,t,r,i,n);case 3:e:{if(gp(t),e===null)throw Error(B(387));r=t.pendingProps,o=t.memoizedState,i=o.element,$h(e,t),Ts(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=qr(Error(B(423)),t),t=Ld(e,t,r,n,i);break e}else if(r!==i){i=qr(Error(B(424)),t),t=Ld(e,t,r,n,i);break e}else for(at=Ln(t.stateNode.containerInfo.firstChild),ct=t,ve=!0,At=null,n=Uh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kr(),r===i){t=un(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return Wh(t),e===null&&Na(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,La(r,i)?s=null:o!==null&&La(r,o)&&(t.flags|=32),pp(e,t),qe(e,t,s,n),t.child;case 6:return e===null&&Na(t),null;case 13:return mp(e,t,n);case 4:return zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qr(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),Td(e,t,r,i,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,he(bs,r._currentValue),r._currentValue=s,o!==null)if(Mt(o.value,s)){if(o.children===i.children&&!nt.current){t=un(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=nn(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?u.next=u:(u.next=m.next,m.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Oa(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Oa(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qe(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zr(t,n),i=Ct(i),r=r(i),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,i=Dt(r,t.pendingProps),i=Dt(r.type,i),Rd(e,t,r,i,n);case 15:return fp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dt(r,i),ns(e,t),t.tag=1,rt(r)?(e=!0,Ss(t)):e=!1,zr(t,n),up(t,r,i),Pa(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return yp(e,t,n);case 22:return hp(e,t,n)}throw Error(B(156,t.tag))};function Ip(e,t){return sh(e,t)}function b0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,t,n,r){return new b0(e,t,n,r)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E0(e){if(typeof e=="function")return ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wu)return 11;if(e===_u)return 14}return 2}function Mn(e,t){var n=e.alternate;return n===null?(n=_t(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function os(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")ec(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Cr:return Jn(n.children,i,o,t);case vu:s=8,i|=8;break;case aa:return e=_t(12,n,t,i|2),e.elementType=aa,e.lanes=o,e;case ua:return e=_t(13,n,t,i),e.elementType=ua,e.lanes=o,e;case ca:return e=_t(19,n,t,i),e.elementType=ca,e.lanes=o,e;case Wf:return ol(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bf:s=10;break e;case $f:s=9;break e;case wu:s=11;break e;case _u:s=14;break e;case vn:s=16,r=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=_t(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Jn(e,t,n,r){return e=_t(7,e,r,t),e.lanes=n,e}function ol(e,t,n,r){return e=_t(22,e,r,t),e.elementType=Wf,e.lanes=n,e.stateNode={isHidden:!1},e}function Vl(e,t,n){return e=_t(6,e,null,t),e.lanes=n,e}function Hl(e,t,n){return t=_t(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bl(0),this.expirationTimes=bl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tc(e,t,n,r,i,o,s,a,u){return e=new T0(e,t,n,a,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=_t(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pu(o),e}function R0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Mp(e){if(!e)return On;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(rt(n))return Mh(e,n,t)}return t}function Np(e,t,n,r,i,o,s,a,u){return e=tc(n,r,!0,e,i,o,s,a,u),e.context=Mp(null),n=e.current,r=Je(),i=In(n),o=nn(r,i),o.callback=t??null,An(n,o,i),e.current.lanes=i,mo(e,i,r),it(e,r),e}function sl(e,t,n,r){var i=t.current,o=Je(),s=In(i);return n=Mp(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=An(i,t,s),e!==null&&(It(e,i,s,o),Zo(e,i,s)),s}function Ns(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ud(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nc(e,t){Ud(e,t),(e=e.alternate)&&Ud(e,t)}function D0(){return null}var Op=typeof reportError=="function"?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}ll.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));sl(e,t,null,null)};ll.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;or(function(){sl(null,e,null,null)}),t[ln]=null}};function ll(e){this._internalRoot=e}ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=hh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kn.length&&t!==0&&t<kn[n].priority;n++);kn.splice(n,0,e),n===0&&gh(e)}};function ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bd(){}function L0(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=Ns(s);o.call(d)}}var s=Np(t,r,e,0,null,!1,!1,"",Bd);return e._reactRootContainer=s,e[ln]=s.current,Gi(e.nodeType===8?e.parentNode:e),or(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var d=Ns(u);a.call(d)}}var u=tc(e,0,!1,null,null,!1,!1,"",Bd);return e._reactRootContainer=u,e[ln]=u.current,Gi(e.nodeType===8?e.parentNode:e),or(function(){sl(t,u,n,r)}),u}function ul(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Ns(s);a.call(u)}}sl(t,s,e,i)}else s=L0(n,t,e,i,r);return Ns(s)}dh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ti(t.pendingLanes);n!==0&&(Cu(t,n|1),it(t,Ee()),!(ce&6)&&(Jr=Ee()+500,Bn()))}break;case 13:or(function(){var r=an(e,1);if(r!==null){var i=Je();It(r,e,1,i)}}),nc(e,1)}};xu=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var n=Je();It(t,e,134217728,n)}nc(e,134217728)}};fh=function(e){if(e.tag===13){var t=In(e),n=an(e,t);if(n!==null){var r=Je();It(n,e,t,r)}nc(e,t)}};hh=function(){return de};ph=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};_a=function(e,t,n){switch(t){case"input":if(ha(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zs(r);if(!i)throw Error(B(90));Hf(r),ha(r,i)}}}break;case"textarea":Kf(e,n);break;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}};eh=Ju;th=or;var A0={usingClientEntryPoint:!1,Events:[vo,Tr,Zs,Xf,Zf,Ju]},Si={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j0={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ih(e),e===null?null:e.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||D0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bo.isDisabled&&Bo.supportsFiber)try{Gs=Bo.inject(j0),Ut=Bo}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A0;pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ic(t))throw Error(B(200));return R0(e,t,null,n)};pt.createRoot=function(e,t){if(!ic(e))throw Error(B(299));var n=!1,r="",i=Op;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=tc(e,1,!1,null,null,n,!1,r,i),e[ln]=t.current,Gi(e.nodeType===8?e.parentNode:e),new rc(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=ih(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return or(e)};pt.hydrate=function(e,t,n){if(!al(t))throw Error(B(200));return ul(null,e,t,!0,n)};pt.hydrateRoot=function(e,t,n){if(!ic(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Op;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Np(t,null,e,1,n??null,i,!1,o,s),e[ln]=t.current,Gi(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ll(t)};pt.render=function(e,t,n){if(!al(t))throw Error(B(200));return ul(null,e,t,!1,n)};pt.unmountComponentAtNode=function(e){if(!al(e))throw Error(B(40));return e._reactRootContainer?(or(function(){ul(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0):!1};pt.unstable_batchedUpdates=Ju;pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!al(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return ul(e,t,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function Fp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fp)}catch(e){console.error(e)}}Fp(),Ff.exports=pt;var Pp=Ff.exports,$d=Pp;sa.createRoot=$d.createRoot,sa.hydrateRoot=$d.hydrateRoot;const ot=()=>new Map,Za=e=>{const t=ot();return e.forEach((n,r)=>{t.set(r,n)}),t},ht=(e,t,n)=>{let r=e.get(t);return r===void 0&&e.set(t,r=n()),r},I0=(e,t)=>{const n=[];for(const[r,i]of e)n.push(t(i,r));return n},M0=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1},Fn=()=>new Set,Yl=e=>e[e.length-1],N0=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},cn=Array.from,O0=Array.isArray;class zp{constructor(){this._observers=ot()}on(t,n){return ht(this._observers,t,Fn).add(n),n}once(t,n){const r=(...i)=>{this.off(t,r),n(...i)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return cn((this._observers.get(t)||ot()).values()).forEach(r=>r(...n))}destroy(){this._observers=ot()}}class Up{constructor(){this._observers=ot()}on(t,n){ht(this._observers,t,Fn).add(n)}once(t,n){const r=(...i)=>{this.off(t,r),n(...i)};this.on(t,r)}off(t,n){const r=this._observers.get(t);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(t))}emit(t,n){return cn((this._observers.get(t)||ot()).values()).forEach(r=>r(...n))}destroy(){this._observers=ot()}}const Vt=Math.floor,ss=Math.abs,F0=Math.log10,oc=(e,t)=>e<t?e:t,hr=(e,t)=>e>t?e:t,Bp=e=>e!==0?e<0:1/e<0,Wd=1,Vd=2,Kl=4,Ql=8,io=32,rn=64,dt=128,cl=31,eu=63,Xn=127,P0=2147483647,$p=Number.MAX_SAFE_INTEGER,z0=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&Vt(e)===e),U0=String.fromCharCode,B0=e=>e.toLowerCase(),$0=/^\s*/g,W0=e=>e.replace($0,""),V0=/([A-Z])/g,Hd=(e,t)=>W0(e.replace(V0,n=>`${t}${B0(n)}`)),H0=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.codePointAt(i);return r},oo=typeof TextEncoder<"u"?new TextEncoder:null,Y0=e=>oo.encode(e),tu=oo?Y0:H0;let Pi=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Pi&&Pi.decode(new Uint8Array).length===1&&(Pi=null);class _o{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Fe=()=>new _o,K0=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},_e=e=>{const t=new Uint8Array(K0(e));let n=0;for(let r=0;r<e.bufs.length;r++){const i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},Q0=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(hr(n,t)*2),e.cpos=0)},Me=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(n*2),e.cpos=0),e.cbuf[e.cpos++]=t},so=Me,q=(e,t)=>{for(;t>Xn;)Me(e,dt|Xn&t),t=Vt(t/128);Me(e,Xn&t)},sc=(e,t)=>{const n=Bp(t);for(n&&(t=-t),Me(e,(t>eu?dt:0)|(n?rn:0)|eu&t),t=Vt(t/64);t>0;)Me(e,(t>Xn?dt:0)|Xn&t),t=Vt(t/128)},nu=new Uint8Array(3e4),G0=nu.length/3,q0=(e,t)=>{if(t.length<G0){const n=oo.encodeInto(t,nu).written||0;q(e,n);for(let r=0;r<n;r++)Me(e,nu[r])}else Ce(e,tu(t))},J0=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;q(e,r);for(let i=0;i<r;i++)Me(e,n.codePointAt(i))},$t=oo&&oo.encodeInto?q0:J0,dl=(e,t)=>{const n=e.cbuf.length,r=e.cpos,i=oc(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(hr(n*2,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},Ce=(e,t)=>{q(e,t.byteLength),dl(e,t)},lc=(e,t)=>{Q0(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},X0=(e,t)=>lc(e,4).setFloat32(0,t,!1),Z0=(e,t)=>lc(e,8).setFloat64(0,t,!1),ev=(e,t)=>lc(e,8).setBigInt64(0,t,!1),Yd=new DataView(new ArrayBuffer(4)),tv=e=>(Yd.setFloat32(0,e),Yd.getFloat32(0)===e),Xr=(e,t)=>{switch(typeof t){case"string":Me(e,119),$t(e,t);break;case"number":z0(t)&&ss(t)<=P0?(Me(e,125),sc(e,t)):tv(t)?(Me(e,124),X0(e,t)):(Me(e,123),Z0(e,t));break;case"bigint":Me(e,122),ev(e,t);break;case"object":if(t===null)Me(e,126);else if(O0(t)){Me(e,117),q(e,t.length);for(let n=0;n<t.length;n++)Xr(e,t[n])}else if(t instanceof Uint8Array)Me(e,116),Ce(e,t);else{Me(e,118);const n=Object.keys(t);q(e,n.length);for(let r=0;r<n.length;r++){const i=n[r];$t(e,i),Xr(e,t[i])}}break;case"boolean":Me(e,t?120:121);break;default:Me(e,127)}};class Kd extends _o{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&q(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const Qd=e=>{e.count>0&&(sc(e.encoder,e.count===1?e.s:-e.s),e.count>1&&q(e.encoder,e.count-2))};class ls{constructor(){this.encoder=new _o,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Qd(this),this.count=1,this.s=t)}toUint8Array(){return Qd(this),_e(this.encoder)}}const Gd=e=>{if(e.count>0){const t=e.diff*2+(e.count===1?0:1);sc(e.encoder,t),e.count>1&&q(e.encoder,e.count-2)}};class Gl{constructor(){this.encoder=new _o,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):(Gd(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return Gd(this),_e(this.encoder)}}class nv{constructor(){this.sarr=[],this.s="",this.lensE=new ls}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new _o;return this.sarr.push(this.s),this.s="",$t(t,this.sarr.join("")),dl(t,this.lensE.toUint8Array()),_e(t)}}const Ht=e=>new Error(e),Wt=()=>{throw Ht("Method unimplemented")},Yt=()=>{throw Ht("Unexpected case")},Wp=Ht("Unexpected end of array"),Vp=Ht("Integer out of Range");class fl{constructor(t){this.arr=t,this.pos=0}}const Gt=e=>new fl(e),rv=e=>e.pos!==e.arr.length,iv=(e,t)=>{const n=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},Ne=e=>iv(e,te(e)),sr=e=>e.arr[e.pos++],te=e=>{let t=0,n=1;const r=e.arr.length;for(;e.pos<r;){const i=e.arr[e.pos++];if(t=t+(i&Xn)*n,n*=128,i<dt)return t;if(t>$p)throw Vp}throw Wp},ac=e=>{let t=e.arr[e.pos++],n=t&eu,r=64;const i=(t&rn)>0?-1:1;if(!(t&dt))return i*n;const o=e.arr.length;for(;e.pos<o;){if(t=e.arr[e.pos++],n=n+(t&Xn)*r,r*=128,t<dt)return i*n;if(n>$p)throw Vp}throw Wp},ov=e=>{let t=te(e);if(t===0)return"";{let n=String.fromCodePoint(sr(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(sr(e));else for(;t>0;){const r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},sv=e=>Pi.decode(Ne(e)),on=Pi?sv:ov,uc=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},lv=e=>uc(e,4).getFloat32(0,!1),av=e=>uc(e,8).getFloat64(0,!1),uv=e=>uc(e,8).getBigInt64(0,!1),cv=[e=>{},e=>null,ac,lv,av,uv,e=>!1,e=>!0,on,e=>{const t=te(e),n={};for(let r=0;r<t;r++){const i=on(e);n[i]=Zr(e)}return n},e=>{const t=te(e),n=[];for(let r=0;r<t;r++)n.push(Zr(e));return n},Ne],Zr=e=>cv[127-sr(e)](e);class qd extends fl{constructor(t,n){super(t),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),rv(this)?this.count=te(this)+1:this.count=-1),this.count--,this.s}}class as extends fl{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=ac(this);const t=Bp(this.s);this.count=1,t&&(this.s=-this.s,this.count=te(this)+2)}return this.count--,this.s}}class ql extends fl{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=ac(this),n=t&1;this.diff=Vt(t/2),this.count=1,n&&(this.count=te(this)+2)}return this.s+=this.diff,this.count--,this.s}}class dv{constructor(t){this.decoder=new as(t),this.str=on(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),n=this.str.slice(this.spos,t);return this.spos=t,n}}const fv=crypto.getRandomValues.bind(crypto),hv=Math.random,Hp=()=>fv(new Uint32Array(1))[0],pv="10000000-1000-4000-8000"+-1e11,Yp=()=>pv.replace(/[018]/g,e=>(e^Hp()&15>>e/4).toString(16)),dn=Date.now,Jd=e=>new Promise(e);Promise.all.bind(Promise);const gv=e=>Promise.reject(e),cc=e=>Promise.resolve(e),Xd=e=>e===void 0?null:e;class mv{constructor(){this.map=new Map}setItem(t,n){this.map.set(t,n)}getItem(t){return this.map.get(t)}}let Kp=new mv,dc=!0;try{typeof localStorage<"u"&&localStorage&&(Kp=localStorage,dc=!1)}catch{}const Qp=Kp,yv=e=>dc||addEventListener("storage",e),vv=e=>dc||removeEventListener("storage",e),wv=Object.assign,Gp=Object.keys,_v=(e,t)=>{for(const n in e)t(e[n],n)},Zd=e=>Gp(e).length,ef=e=>Gp(e).length,kv=e=>{for(const t in e)return!1;return!0},Sv=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},qp=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Cv=(e,t)=>e===t||ef(e)===ef(t)&&Sv(e,(n,r)=>(n!==void 0||qp(t,r))&&t[r]===n),xv=Object.freeze,Jp=e=>{for(const t in e){const n=e[t];(typeof n=="object"||typeof n=="function")&&Jp(e[t])}return xv(e)},tf=Symbol("Equality"),fc=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&fc(e,t,n+1)}},bv=()=>{},Ev=e=>e,zi=(e,t)=>{if(e===t)return!0;if(e==null||t==null||e.constructor!==t.constructor)return!1;if(e[tf]!=null)return e[tf](t);switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:{if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break}case Set:{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break}case Map:{if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!zi(e.get(n),t.get(n)))return!1;break}case Object:if(Zd(e)!==Zd(t))return!1;for(const n in e)if(!qp(e,n)||!zi(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!zi(e[n],t[n]))return!1;break;default:return!1}return!0},Tv=(e,t)=>t.includes(e);var Xp={};const ei=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Zp=typeof window<"u"&&typeof document<"u"&&!ei;let Ft;const Rv=()=>{if(Ft===void 0)if(ei){Ft=ot();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];r[0]==="-"?(t!==null&&Ft.set(t,""),t=r):t!==null&&(Ft.set(t,r),t=null)}t!==null&&Ft.set(t,"")}else typeof location=="object"?(Ft=ot(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[t,n]=e.split("=");Ft.set(`--${Hd(t,"-")}`,n),Ft.set(`-${Hd(t,"-")}`,n)}})):Ft=ot();return Ft},ru=e=>Rv().has(e),lo=e=>Xd(ei?Xp[e.toUpperCase().replaceAll("-","_")]:Qp.getItem(e)),eg=e=>ru("--"+e)||lo(e)!==null;eg("production");const Dv=ei&&Tv(Xp.FORCE_COLOR,["true","1","2"]),Lv=Dv||!ru("--no-colors")&&!eg("no-color")&&(!ei||process.stdout.isTTY)&&(!ei||ru("--color")||lo("COLORTERM")!==null||(lo("TERM")||"").includes("color")),tg=e=>new Uint8Array(e),Av=(e,t,n)=>new Uint8Array(e,t,n),jv=e=>new Uint8Array(e),Iv=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=U0(e[n]);return btoa(t)},Mv=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),Nv=e=>{const t=atob(e),n=tg(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},Ov=e=>{const t=Buffer.from(e,"base64");return Av(t.buffer,t.byteOffset,t.byteLength)},ng=Zp?Iv:Mv,rg=Zp?Nv:Ov,Fv=e=>{const t=tg(e.byteLength);return t.set(e),t};class Pv{constructor(t,n){this.left=t,this.right=n}}const qt=(e,t)=>new Pv(e,t);typeof DOMParser<"u"&&new DOMParser;const zv=e=>I0(e,(t,n)=>`${n}:${t};`).join(""),Uv=JSON.stringify,hn=Symbol,kt=hn(),lr=hn(),ig=hn(),hc=hn(),og=hn(),sg=hn(),lg=hn(),hl=hn(),pl=hn(),Bv=e=>{var i;e.length===1&&((i=e[0])==null?void 0:i.constructor)===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const o=e[r];if(o===void 0)break;if(o.constructor===String||o.constructor===Number)t.push(o);else if(o.constructor===Object)break}for(r>0&&n.push(t.join(""));r<e.length;r++){const o=e[r];o instanceof Symbol||n.push(o)}return n},nf=[og,lg,hl,ig];let Jl=0,rf=dn();const $v=(e,t)=>{const n=nf[Jl],r=lo("log"),i=r!==null&&(r==="*"||r==="true"||new RegExp(r,"gi").test(t));return Jl=(Jl+1)%nf.length,t+=": ",i?(...o)=>{var u;o.length===1&&((u=o[0])==null?void 0:u.constructor)===Function&&(o=o[0]());const s=dn(),a=s-rf;rf=s,e(n,t,pl,...o.map(d=>{switch(d!=null&&d.constructor===Uint8Array&&(d=Array.from(d)),typeof d){case"string":case"symbol":return d;default:return Uv(d)}}),n," +"+a+"ms")}:bv},Wv={[kt]:qt("font-weight","bold"),[lr]:qt("font-weight","normal"),[ig]:qt("color","blue"),[og]:qt("color","green"),[hc]:qt("color","grey"),[sg]:qt("color","red"),[lg]:qt("color","purple"),[hl]:qt("color","orange"),[pl]:qt("color","black")},Vv=e=>{var s;e.length===1&&((s=e[0])==null?void 0:s.constructor)===Function&&(e=e[0]());const t=[],n=[],r=ot();let i=[],o=0;for(;o<e.length;o++){const a=e[o],u=Wv[a];if(u!==void 0)r.set(u.left,u.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const d=zv(r);o>0||d.length>0?(t.push("%c"+a),n.push(d)):t.push(a)}else break}}for(o>0&&(i=n,i.unshift(t.join("")));o<e.length;o++){const a=e[o];a instanceof Symbol||i.push(a)}return i},ag=Lv?Vv:Bv,ug=(...e)=>{console.log(...ag(e)),cg.forEach(t=>t.print(e))},Hv=(...e)=>{console.warn(...ag(e)),e.unshift(hl),cg.forEach(t=>t.print(e))},cg=Fn(),Yv=e=>$v(ug,e),dg=e=>({[Symbol.iterator](){return this},next:e}),Kv=(e,t)=>dg(()=>{let n;do n=e.next();while(!n.done&&!t(n.value));return n}),Xl=(e,t)=>dg(()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}});class pc{constructor(t,n){this.clock=t,this.len=n}}class ko{constructor(){this.clients=new Map}}const fg=(e,t,n)=>t.clients.forEach((r,i)=>{const o=e.doc.store.clients.get(i);if(o!=null){const s=o[o.length-1],a=s.id.clock+s.length;for(let u=0,d=r[u];u<r.length&&d.clock<a;d=r[++u])bg(e,o,d.clock,d.len,n)}}),Qv=(e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const i=Vt((n+r)/2),o=e[i],s=o.clock;if(s<=t){if(t<s+o.len)return i;n=i+1}else r=i-1}return null},hg=(e,t)=>{const n=e.clients.get(t.client);return n!==void 0&&Qv(n,t.clock)!==null},gc=e=>{e.clients.forEach(t=>{t.sort((i,o)=>i.clock-o.clock);let n,r;for(n=1,r=1;n<t.length;n++){const i=t[r-1],o=t[n];i.clock+i.len>=o.clock?i.len=hr(i.len,o.clock+o.len-i.clock):(r<n&&(t[r]=o),r++)}t.length=r})},Gv=e=>{const t=new ko;for(let n=0;n<e.length;n++)e[n].clients.forEach((r,i)=>{if(!t.clients.has(i)){const o=r.slice();for(let s=n+1;s<e.length;s++)N0(o,e[s].clients.get(i)||[]);t.clients.set(i,o)}});return gc(t),t},Os=(e,t,n,r)=>{ht(e.clients,t,()=>[]).push(new pc(n,r))},qv=()=>new ko,Jv=e=>{const t=qv();return e.clients.forEach((n,r)=>{const i=[];for(let o=0;o<n.length;o++){const s=n[o];if(s.deleted){const a=s.id.clock;let u=s.length;if(o+1<n.length)for(let d=n[o+1];o+1<n.length&&d.deleted;d=n[++o+1])u+=d.length;i.push(new pc(a,u))}}i.length>0&&t.clients.set(r,i)}),t},ui=(e,t)=>{q(e.restEncoder,t.clients.size),cn(t.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{e.resetDsCurVal(),q(e.restEncoder,n);const i=r.length;q(e.restEncoder,i);for(let o=0;o<i;o++){const s=r[o];e.writeDsClock(s.clock),e.writeDsLen(s.len)}})},mc=e=>{const t=new ko,n=te(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const i=te(e.restDecoder),o=te(e.restDecoder);if(o>0){const s=ht(t.clients,i,()=>[]);for(let a=0;a<o;a++)s.push(new pc(e.readDsClock(),e.readDsLen()))}}return t},of=(e,t,n)=>{const r=new ko,i=te(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();const s=te(e.restDecoder),a=te(e.restDecoder),u=n.clients.get(s)||[],d=Pe(n,s);for(let m=0;m<a;m++){const c=e.readDsClock(),h=c+e.readDsLen();if(c<d){d<h&&Os(r,s,d,h-d);let p=Kt(u,c),y=u[p];for(!y.deleted&&y.id.clock<c&&(u.splice(p+1,0,Ws(t,y,c-y.id.clock)),p++);p<u.length&&(y=u[p++],y.id.clock<h);)y.deleted||(h<y.id.clock+y.length&&u.splice(p,0,Ws(t,y,h-y.id.clock)),y.delete(t))}else Os(r,s,c,h-c)}}if(r.clients.size>0){const o=new ar;return q(o.restEncoder,0),ui(o,r),o.toUint8Array()}return null},pg=Hp;class ci extends zp{constructor({guid:t=Yp(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:o=null,autoLoad:s=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=pg(),this.guid=t,this.collectionid=n,this.share=new Map,this.store=new Cg,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=s,this.meta=o,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Jd(d=>{this.on("load",()=>{this.isLoaded=!0,d(this)})});const u=()=>Jd(d=>{const m=c=>{(c===void 0||c===!0)&&(this.off("sync",m),d())};this.on("sync",m)});this.on("sync",d=>{d===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=d===void 0||d===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const t=this._item;t!==null&&!this.shouldLoad&&fe(t.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(cn(this.subdocs).map(t=>t.guid))}transact(t,n=null){return fe(this,t,n)}get(t,n=We){const r=ht(this.share,t,()=>{const o=new n;return o._integrate(this,null),o}),i=r.constructor;if(n!==We&&i!==n)if(i===We){const o=new n;o._map=r._map,r._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=o}),o._start=r._start;for(let s=o._start;s!==null;s=s.right)s.parent=o;return o._length=r._length,this.share.set(t,o),o._integrate(this,null),o}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return r}getArray(t=""){return this.get(t,$r)}getText(t=""){return this.get(t,ri)}getMap(t=""){return this.get(t,ni)}getXmlElement(t=""){return this.get(t,ii)}getXmlFragment(t=""){return this.get(t,ur)}toJSON(){const t={};return this.share.forEach((n,r)=>{t[r]=n.toJSON()}),t}destroy(){this.isDestroyed=!0,cn(this.subdocs).forEach(n=>n.destroy());const t=this._item;if(t!==null){this._item=null;const n=t.content;n.doc=new ci({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=t,fe(t.parent.doc,r=>{const i=n.doc;t.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class gg{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return te(this.restDecoder)}readDsLen(){return te(this.restDecoder)}}class mg extends gg{readLeftID(){return le(te(this.restDecoder),te(this.restDecoder))}readRightID(){return le(te(this.restDecoder),te(this.restDecoder))}readClient(){return te(this.restDecoder)}readInfo(){return sr(this.restDecoder)}readString(){return on(this.restDecoder)}readParentInfo(){return te(this.restDecoder)===1}readTypeRef(){return te(this.restDecoder)}readLen(){return te(this.restDecoder)}readAny(){return Zr(this.restDecoder)}readBuf(){return Fv(Ne(this.restDecoder))}readJSON(){return JSON.parse(on(this.restDecoder))}readKey(){return on(this.restDecoder)}}class Xv{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=te(this.restDecoder),this.dsCurrVal}readDsLen(){const t=te(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class ti extends Xv{constructor(t){super(t),this.keys=[],te(t),this.keyClockDecoder=new ql(Ne(t)),this.clientDecoder=new as(Ne(t)),this.leftClockDecoder=new ql(Ne(t)),this.rightClockDecoder=new ql(Ne(t)),this.infoDecoder=new qd(Ne(t),sr),this.stringDecoder=new dv(Ne(t)),this.parentInfoDecoder=new qd(Ne(t),sr),this.typeRefDecoder=new as(Ne(t)),this.lenDecoder=new as(Ne(t))}readLeftID(){return new Br(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Br(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Zr(this.restDecoder)}readBuf(){return Ne(this.restDecoder)}readJSON(){return Zr(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class yg{constructor(){this.restEncoder=Fe()}toUint8Array(){return _e(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){q(this.restEncoder,t)}writeDsLen(t){q(this.restEncoder,t)}}class So extends yg{writeLeftID(t){q(this.restEncoder,t.client),q(this.restEncoder,t.clock)}writeRightID(t){q(this.restEncoder,t.client),q(this.restEncoder,t.clock)}writeClient(t){q(this.restEncoder,t)}writeInfo(t){so(this.restEncoder,t)}writeString(t){$t(this.restEncoder,t)}writeParentInfo(t){q(this.restEncoder,t?1:0)}writeTypeRef(t){q(this.restEncoder,t)}writeLen(t){q(this.restEncoder,t)}writeAny(t){Xr(this.restEncoder,t)}writeBuf(t){Ce(this.restEncoder,t)}writeJSON(t){$t(this.restEncoder,JSON.stringify(t))}writeKey(t){$t(this.restEncoder,t)}}class vg{constructor(){this.restEncoder=Fe(),this.dsCurrVal=0}toUint8Array(){return _e(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const n=t-this.dsCurrVal;this.dsCurrVal=t,q(this.restEncoder,n)}writeDsLen(t){t===0&&Yt(),q(this.restEncoder,t-1),this.dsCurrVal+=t}}class ar extends vg{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Gl,this.clientEncoder=new ls,this.leftClockEncoder=new Gl,this.rightClockEncoder=new Gl,this.infoEncoder=new Kd(so),this.stringEncoder=new nv,this.parentInfoEncoder=new Kd(so),this.typeRefEncoder=new ls,this.lenEncoder=new ls}toUint8Array(){const t=Fe();return q(t,0),Ce(t,this.keyClockEncoder.toUint8Array()),Ce(t,this.clientEncoder.toUint8Array()),Ce(t,this.leftClockEncoder.toUint8Array()),Ce(t,this.rightClockEncoder.toUint8Array()),Ce(t,_e(this.infoEncoder)),Ce(t,this.stringEncoder.toUint8Array()),Ce(t,_e(this.parentInfoEncoder)),Ce(t,this.typeRefEncoder.toUint8Array()),Ce(t,this.lenEncoder.toUint8Array()),dl(t,_e(this.restEncoder)),_e(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){Xr(this.restEncoder,t)}writeBuf(t){Ce(this.restEncoder,t)}writeJSON(t){Xr(this.restEncoder,t)}writeKey(t){const n=this.keyMap.get(t);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(n)}}const Zv=(e,t,n,r)=>{r=hr(r,t[0].id.clock);const i=Kt(t,r);q(e.restEncoder,t.length-i),e.writeClient(n),q(e.restEncoder,r);const o=t[i];o.write(e,r-o.id.clock);for(let s=i+1;s<t.length;s++)t[s].write(e,0)},yc=(e,t,n)=>{const r=new Map;n.forEach((i,o)=>{Pe(t,o)>i&&r.set(o,i)}),gl(t).forEach((i,o)=>{n.has(o)||r.set(o,0)}),q(e.restEncoder,r.size),cn(r.entries()).sort((i,o)=>o[0]-i[0]).forEach(([i,o])=>{Zv(e,t.clients.get(i),i,o)})},ew=(e,t)=>{const n=ot(),r=te(e.restDecoder);for(let i=0;i<r;i++){const o=te(e.restDecoder),s=new Array(o),a=e.readClient();let u=te(e.restDecoder);n.set(a,{i:0,refs:s});for(let d=0;d<o;d++){const m=e.readInfo();switch(cl&m){case 0:{const c=e.readLen();s[d]=new vt(le(a,u),c),u+=c;break}case 10:{const c=te(e.restDecoder);s[d]=new wt(le(a,u),c),u+=c;break}default:{const c=(m&(rn|dt))===0,h=new Ae(le(a,u),null,(m&dt)===dt?e.readLeftID():null,null,(m&rn)===rn?e.readRightID():null,c?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,c&&(m&io)===io?e.readString():null,Vg(e,m));s[d]=h,u+=h.length}}}}return n},tw=(e,t,n)=>{const r=[];let i=cn(n.keys()).sort((p,y)=>p-y);if(i.length===0)return null;const o=()=>{if(i.length===0)return null;let p=n.get(i[i.length-1]);for(;p.refs.length===p.i;)if(i.pop(),i.length>0)p=n.get(i[i.length-1]);else return null;return p};let s=o();if(s===null)return null;const a=new Cg,u=new Map,d=(p,y)=>{const S=u.get(p);(S==null||S>y)&&u.set(p,y)};let m=s.refs[s.i++];const c=new Map,h=()=>{for(const p of r){const y=p.id.client,S=n.get(y);S?(S.i--,a.clients.set(y,S.refs.slice(S.i)),n.delete(y),S.i=0,S.refs=[]):a.clients.set(y,[p]),i=i.filter(M=>M!==y)}r.length=0};for(;;){if(m.constructor!==wt){const y=ht(c,m.id.client,()=>Pe(t,m.id.client))-m.id.clock;if(y<0)r.push(m),d(m.id.client,m.id.clock-1),h();else{const S=m.getMissing(e,t);if(S!==null){r.push(m);const M=n.get(S)||{refs:[],i:0};if(M.refs.length===M.i)d(S,Pe(t,S)),h();else{m=M.refs[M.i++];continue}}else(y===0||y<m.length)&&(m.integrate(e,y),c.set(m.id.client,m.id.clock+m.length))}}if(r.length>0)m=r.pop();else if(s!==null&&s.i<s.refs.length)m=s.refs[s.i++];else{if(s=o(),s===null)break;m=s.refs[s.i++]}}if(a.clients.size>0){const p=new ar;return yc(p,a,new Map),q(p.restEncoder,0),{missing:u,update:p.toUint8Array()}}return null},nw=(e,t)=>yc(e,t.doc.store,t.beforeState),rw=(e,t,n,r=new ti(e))=>fe(t,i=>{i.local=!1;let o=!1;const s=i.doc,a=s.store,u=ew(r,s),d=tw(i,a,u),m=a.pendingStructs;if(m){for(const[h,p]of m.missing)if(p<Pe(a,h)){o=!0;break}if(d){for(const[h,p]of d.missing){const y=m.missing.get(h);(y==null||y>p)&&m.missing.set(h,p)}m.update=Fs([m.update,d.update])}}else a.pendingStructs=d;const c=of(r,i,a);if(a.pendingDs){const h=new ti(Gt(a.pendingDs));te(h.restDecoder);const p=of(h,i,a);c&&p?a.pendingDs=Fs([c,p]):a.pendingDs=c||p}else a.pendingDs=c;if(o){const h=a.pendingStructs.update;a.pendingStructs=null,wg(i.doc,h)}},n,!1),wg=(e,t,n,r=ti)=>{const i=Gt(t);rw(i,e,n,new r(i))},iw=(e,t,n)=>wg(e,t,n,mg),ow=(e,t,n=new Map)=>{yc(e,t.store,n),ui(e,Jv(t.store))},sw=(e,t=new Uint8Array([0]),n=new ar)=>{const r=_g(t);ow(n,e,r);const i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(Sw(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===So)return _w(i.map((o,s)=>s===0?o:xw(o)));if(n.constructor===ar)return Fs(i)}return i[0]},lw=(e,t)=>sw(e,t,new So),aw=e=>{const t=new Map,n=te(e.restDecoder);for(let r=0;r<n;r++){const i=te(e.restDecoder),o=te(e.restDecoder);t.set(i,o)}return t},_g=e=>aw(new gg(Gt(e))),kg=(e,t)=>(q(e.restEncoder,t.size),cn(t.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{q(e.restEncoder,n),q(e.restEncoder,r)}),e),uw=(e,t)=>kg(e,gl(t.store)),cw=(e,t=new vg)=>(e instanceof Map?kg(t,e):uw(t,e),t.toUint8Array()),dw=e=>cw(e,new yg);class fw{constructor(){this.l=[]}}const sf=()=>new fw,lf=(e,t)=>e.l.push(t),af=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter(i=>t!==i),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Sg=(e,t,n)=>fc(e.l,[t,n]);class Br{constructor(t,n){this.client=t,this.clock=n}}const $o=(e,t)=>e===t||e!==null&&t!==null&&e.client===t.client&&e.clock===t.clock,le=(e,t)=>new Br(e,t),hw=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw Yt()},kr=(e,t)=>t===void 0?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!hg(t.ds,e.id),iu=(e,t)=>{const n=ht(e.meta,iu,Fn),r=e.doc.store;n.has(t)||(t.sv.forEach((i,o)=>{i<Pe(r,o)&&Pn(e,le(o,i))}),fg(e,t.ds,i=>{}),n.add(t))};class Cg{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const gl=e=>{const t=new Map;return e.clients.forEach((n,r)=>{const i=n[n.length-1];t.set(r,i.id.clock+i.length)}),t},Pe=(e,t)=>{const n=e.clients.get(t);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},xg=(e,t)=>{let n=e.clients.get(t.id.client);if(n===void 0)n=[],e.clients.set(t.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw Yt()}n.push(t)},Kt=(e,t)=>{let n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;let s=Vt(t/(o+i.length-1)*r);for(;n<=r;){if(i=e[s],o=i.id.clock,o<=t){if(t<o+i.length)return s;n=s+1}else r=s-1;s=Vt((n+r)/2)}throw Yt()},pw=(e,t)=>{const n=e.clients.get(t.client);return n[Kt(n,t.clock)]},Zl=pw,ou=(e,t,n)=>{const r=Kt(t,n),i=t[r];return i.id.clock<n&&i instanceof Ae?(t.splice(r+1,0,Ws(e,i,n-i.id.clock)),r+1):r},Pn=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[ou(e,n,t.clock)]},uf=(e,t,n)=>{const r=t.clients.get(n.client),i=Kt(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==vt&&r.splice(i+1,0,Ws(e,o,n.clock-o.id.clock+1)),o},gw=(e,t,n)=>{const r=e.clients.get(t.id.client);r[Kt(r,t.id.clock)]=n},bg=(e,t,n,r,i)=>{if(r===0)return;const o=n+r;let s=ou(e,t,n),a;do a=t[s++],o<a.id.clock+a.length&&ou(e,t,o),i(a);while(s<t.length&&t[s].id.clock<o)};class mw{constructor(t,n,r){this.doc=t,this.deleteSet=new ko,this.beforeState=gl(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const cf=(e,t)=>t.deleteSet.clients.size===0&&!M0(t.afterState,(n,r)=>t.beforeState.get(r)!==n)?!1:(gc(t.deleteSet),nw(e,t),ui(e,t.deleteSet),!0),df=(e,t,n)=>{const r=t._item;(r===null||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&ht(e.changed,t,Fn).add(n)},us=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0;n=r,r=e[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Ae&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const o=t-i;return o&&e.splice(t+1-o,o),o},yw=(e,t,n)=>{for(const[r,i]of e.clients.entries()){const o=t.clients.get(r);for(let s=i.length-1;s>=0;s--){const a=i[s],u=a.clock+a.len;for(let d=Kt(o,a.clock),m=o[d];d<o.length&&m.id.clock<u;m=o[++d]){const c=o[d];if(a.clock+a.len<=c.id.clock)break;c instanceof Ae&&c.deleted&&!c.keep&&n(c)&&c.gc(t,!1)}}}},vw=(e,t)=>{e.clients.forEach((n,r)=>{const i=t.clients.get(r);for(let o=n.length-1;o>=0;o--){const s=n[o],a=oc(i.length-1,1+Kt(i,s.clock+s.len-1));for(let u=a,d=i[u];u>0&&d.id.clock>=s.clock;d=i[u])u-=1+us(i,u)}})},Eg=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,i=r.store,o=n.deleteSet,s=n._mergeStructs;try{gc(o),n.afterState=gl(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((u,d)=>a.push(()=>{(d._item===null||!d._item.deleted)&&d._callObserver(n,u)})),a.push(()=>{n.changedParentTypes.forEach((u,d)=>{d._dEH.l.length>0&&(d._item===null||!d._item.deleted)&&(u=u.filter(m=>m.target._item===null||!m.target._item.deleted),u.forEach(m=>{m.currentTarget=d,m._path=null}),u.sort((m,c)=>m.path.length-c.path.length),Sg(d._dEH,u,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),fc(a,[]),n._needFormattingCleanup&&Pw(n)}finally{r.gc&&yw(o,i,r.gcFilter),vw(o,i),n.afterState.forEach((m,c)=>{const h=n.beforeState.get(c)||0;if(h!==m){const p=i.clients.get(c),y=hr(Kt(p,h),1);for(let S=p.length-1;S>=y;)S-=1+us(p,S)}});for(let m=s.length-1;m>=0;m--){const{client:c,clock:h}=s[m].id,p=i.clients.get(c),y=Kt(p,h);y+1<p.length&&us(p,y+1)>1||y>0&&us(p,y)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(ug(hl,kt,"[yjs] ",lr,sg,"Changed the client-id because another client seems to be using it."),r.clientID=pg()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const m=new So;cf(m,n)&&r.emit("update",[m.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const m=new ar;cf(m,n)&&r.emit("updateV2",[m.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:u,subdocsRemoved:d}=n;(a.size>0||d.size>0||u.size>0)&&(a.forEach(m=>{m.clientID=r.clientID,m.collectionid==null&&(m.collectionid=r.collectionid),r.subdocs.add(m)}),d.forEach(m=>r.subdocs.delete(m)),r.emit("subdocs",[{loaded:u,added:a,removed:d},r,n]),d.forEach(m=>m.destroy())),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):Eg(e,t+1)}}},fe=(e,t,n=null,r=!0)=>{const i=e._transactionCleanups;let o=!1,s=null;e._transaction===null&&(o=!0,e._transaction=new mw(e,n,r),i.push(e._transaction),i.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{s=t(e._transaction)}finally{if(o){const a=e._transaction===i[0];e._transaction=null,a&&Eg(i,0)}}return s};function*ww(e){const t=te(e.restDecoder);for(let n=0;n<t;n++){const r=te(e.restDecoder),i=e.readClient();let o=te(e.restDecoder);for(let s=0;s<r;s++){const a=e.readInfo();if(a===10){const u=te(e.restDecoder);yield new wt(le(i,o),u),o+=u}else if(cl&a){const u=(a&(rn|dt))===0,d=new Ae(le(i,o),null,(a&dt)===dt?e.readLeftID():null,null,(a&rn)===rn?e.readRightID():null,u?e.readParentInfo()?e.readString():e.readLeftID():null,u&&(a&io)===io?e.readString():null,Vg(e,a));yield d,o+=d.length}else{const u=e.readLen();yield new vt(le(i,o),u),o+=u}}}}class vc{constructor(t,n){this.gen=ww(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===wt);return this.curr}}class wc{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const _w=e=>Fs(e,mg,So),kw=(e,t)=>{if(e.constructor===vt){const{client:n,clock:r}=e.id;return new vt(le(n,r+t),e.length-t)}else if(e.constructor===wt){const{client:n,clock:r}=e.id;return new wt(le(n,r+t),e.length-t)}else{const n=e,{client:r,clock:i}=n.id;return new Ae(le(r,i+t),null,le(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},Fs=(e,t=ti,n=ar)=>{if(e.length===1)return e[0];const r=e.map(m=>new t(Gt(m)));let i=r.map(m=>new vc(m,!0)),o=null;const s=new n,a=new wc(s);for(;i=i.filter(h=>h.curr!==null),i.sort((h,p)=>{if(h.curr.id.client===p.curr.id.client){const y=h.curr.id.clock-p.curr.id.clock;return y===0?h.curr.constructor===p.curr.constructor?0:h.curr.constructor===wt?1:-1:y}else return p.curr.id.client-h.curr.id.client}),i.length!==0;){const m=i[0],c=m.curr.id.client;if(o!==null){let h=m.curr,p=!1;for(;h!==null&&h.id.clock+h.length<=o.struct.id.clock+o.struct.length&&h.id.client>=o.struct.id.client;)h=m.next(),p=!0;if(h===null||h.id.client!==c||p&&h.id.clock>o.struct.id.clock+o.struct.length)continue;if(c!==o.struct.id.client)Cn(a,o.struct,o.offset),o={struct:h,offset:0},m.next();else if(o.struct.id.clock+o.struct.length<h.id.clock)if(o.struct.constructor===wt)o.struct.length=h.id.clock+h.length-o.struct.id.clock;else{Cn(a,o.struct,o.offset);const y=h.id.clock-o.struct.id.clock-o.struct.length;o={struct:new wt(le(c,o.struct.id.clock+o.struct.length),y),offset:0}}else{const y=o.struct.id.clock+o.struct.length-h.id.clock;y>0&&(o.struct.constructor===wt?o.struct.length-=y:h=kw(h,y)),o.struct.mergeWith(h)||(Cn(a,o.struct,o.offset),o={struct:h,offset:0},m.next())}}else o={struct:m.curr,offset:0},m.next();for(let h=m.curr;h!==null&&h.id.client===c&&h.id.clock===o.struct.id.clock+o.struct.length&&h.constructor!==wt;h=m.next())Cn(a,o.struct,o.offset),o={struct:h,offset:0}}o!==null&&(Cn(a,o.struct,o.offset),o=null),_c(a);const u=r.map(m=>mc(m)),d=Gv(u);return ui(s,d),s.toUint8Array()},Sw=(e,t,n=ti,r=ar)=>{const i=_g(t),o=new r,s=new wc(o),a=new n(Gt(e)),u=new vc(a,!1);for(;u.curr;){const m=u.curr,c=m.id.client,h=i.get(c)||0;if(u.curr.constructor===wt){u.next();continue}if(m.id.clock+m.length>h)for(Cn(s,m,hr(h-m.id.clock,0)),u.next();u.curr&&u.curr.id.client===c;)Cn(s,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===c&&u.curr.id.clock+u.curr.length<=h;)u.next()}_c(s);const d=mc(a);return ui(o,d),o.toUint8Array()},Tg=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:_e(e.encoder.restEncoder)}),e.encoder.restEncoder=Fe(),e.written=0)},Cn=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&Tg(e),e.written===0&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),q(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},_c=e=>{Tg(e);const t=e.encoder.restEncoder;q(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];q(t,r.written),dl(t,r.restEncoder)}},Cw=(e,t,n,r)=>{const i=new n(Gt(e)),o=new vc(i,!1),s=new r,a=new wc(s);for(let d=o.curr;d!==null;d=o.next())Cn(a,t(d),0);_c(a);const u=mc(i);return ui(s,u),s.toUint8Array()},xw=e=>Cw(e,Ev,ti,So),ff="You must not compute changes after the event-handler fired.";class ml{constructor(t,n){this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=bw(this.currentTarget,this.target))}deletes(t){return hg(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ht(ff);const t=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const o=n._map.get(i);let s,a;if(this.adds(o)){let u=o.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(o))if(u!==null&&this.deletes(u))s="delete",a=Yl(u.content.getContent());else return;else u!==null&&this.deletes(u)?(s="update",a=Yl(u.content.getContent())):(s="add",a=void 0)}else if(this.deletes(o))s="delete",a=Yl(o.content.getContent());else return;t.set(i,{action:s,oldValue:a})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ht(ff);const n=this.target,r=Fn(),i=Fn(),o=[];if(t={added:r,deleted:i,delta:o,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const u=()=>{a&&o.push(a)};for(let d=n._start;d!==null;d=d.right)d.deleted?this.deletes(d)&&!this.adds(d)&&((a===null||a.delete===void 0)&&(u(),a={delete:0}),a.delete+=d.length,i.add(d)):this.adds(d)?((a===null||a.insert===void 0)&&(u(),a={insert:[]}),a.insert=a.insert.concat(d.content.getContent()),r.add(d)):((a===null||a.retain===void 0)&&(u(),a={retain:0}),a.retain+=d.length);a!==null&&a.retain===void 0&&u()}this._changes=t}return t}}const bw=(e,t)=>{const n=[];for(;t._item!==null&&t!==e;){if(t._item.parentSub!==null)n.unshift(t._item.parentSub);else{let r=0,i=t._item.parent._start;for(;i!==t._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}t=t._item.parent}return n},Qe=()=>{Hv("Invalid access: Add Yjs type to a document before reading data.")},Rg=80;let kc=0;class Ew{constructor(t,n){t.marker=!0,this.p=t,this.index=n,this.timestamp=kc++}}const Tw=e=>{e.timestamp=kc++},Dg=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=kc++},Rw=(e,t,n)=>{if(e.length>=Rg){const r=e.reduce((i,o)=>i.timestamp<o.timestamp?i:o);return Dg(r,t,n),r}else{const r=new Ew(t,n);return e.push(r),r}},yl=(e,t)=>{if(e._start===null||t===0||e._searchMarker===null)return null;const n=e._searchMarker.length===0?null:e._searchMarker.reduce((o,s)=>ss(t-o.index)<ss(t-s.index)?o:s);let r=e._start,i=0;for(n!==null&&(r=n.p,i=n.index,Tw(n));r.right!==null&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&ss(n.index-i)<r.parent.length/Rg?(Dg(n,r,i),n):Rw(e._searchMarker,r,i)},ao=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(n>0){let o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)o=o.left,o&&!o.deleted&&o.countable&&(i.index-=o.length);if(o===null||o.marker===!0){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=hr(t,i.index+n))}},vl=(e,t,n)=>{const r=e,i=t.changedParentTypes;for(;ht(i,e,()=>[]).push(n),e._item!==null;)e=e._item.parent;Sg(r._eH,n,t)};class We{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=sf(),this._dEH=sf(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,n){this.doc=t,this._item=n}_copy(){throw Wt()}clone(){throw Wt()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,n){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){lf(this._eH,t)}observeDeep(t){lf(this._dEH,t)}unobserve(t){af(this._eH,t)}unobserveDeep(t){af(this._dEH,t)}toJSON(){}}const Lg=(e,t,n)=>{e.doc??Qe(),t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const i=[];let o=e._start;for(;o!==null&&r>0;){if(o.countable&&!o.deleted){const s=o.content.getContent();if(s.length<=t)t-=s.length;else{for(let a=t;a<s.length&&r>0;a++)i.push(s[a]),r--;t=0}}o=o.right}return i},Ag=e=>{e.doc??Qe();const t=[];let n=e._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)t.push(r[i])}n=n.right}return t},uo=(e,t)=>{let n=0,r=e._start;for(e.doc??Qe();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let o=0;o<i.length;o++)t(i[o],n++,e)}r=r.right}},jg=(e,t)=>{const n=[];return uo(e,(r,i)=>{n.push(t(r,i,e))}),n},Dw=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},Ig=(e,t)=>{e.doc??Qe();const n=yl(e,t);let r=e._start;for(n!==null&&(r=n.p,t-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Ps=(e,t,n,r)=>{let i=n;const o=e.doc,s=o.clientID,a=o.store,u=n===null?t._start:n.right;let d=[];const m=()=>{d.length>0&&(i=new Ae(le(s,Pe(a,s)),i,i&&i.lastId,u,u&&u.id,t,null,new cr(d)),i.integrate(e,0),d=[])};r.forEach(c=>{if(c===null)d.push(c);else switch(c.constructor){case Number:case Object:case Boolean:case Array:case String:d.push(c);break;default:switch(m(),c.constructor){case Uint8Array:case ArrayBuffer:i=new Ae(le(s,Pe(a,s)),i,i&&i.lastId,u,u&&u.id,t,null,new Co(new Uint8Array(c))),i.integrate(e,0);break;case ci:i=new Ae(le(s,Pe(a,s)),i,i&&i.lastId,u,u&&u.id,t,null,new xo(c)),i.integrate(e,0);break;default:if(c instanceof We)i=new Ae(le(s,Pe(a,s)),i,i&&i.lastId,u,u&&u.id,t,null,new pn(c)),i.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),m()},Mg=()=>Ht("Length exceeded!"),Ng=(e,t,n,r)=>{if(n>t._length)throw Mg();if(n===0)return t._searchMarker&&ao(t._searchMarker,n,r.length),Ps(e,t,null,r);const i=n,o=yl(t,n);let s=t._start;for(o!==null&&(s=o.p,n-=o.index,n===0&&(s=s.prev,n+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(n<=s.length){n<s.length&&Pn(e,le(s.id.client,s.id.clock+n));break}n-=s.length}return t._searchMarker&&ao(t._searchMarker,i,r.length),Ps(e,t,s,r)},Lw=(e,t,n)=>{let i=(t._searchMarker||[]).reduce((o,s)=>s.index>o.index?s:o,{index:0,p:t._start}).p;if(i)for(;i.right;)i=i.right;return Ps(e,t,i,n)},Og=(e,t,n,r)=>{if(r===0)return;const i=n,o=r,s=yl(t,n);let a=t._start;for(s!==null&&(a=s.p,n-=s.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Pn(e,le(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&Pn(e,le(a.id.client,a.id.clock+r)),a.delete(e),r-=a.length),a=a.right;if(r>0)throw Mg();t._searchMarker&&ao(t._searchMarker,i,-o+r)},zs=(e,t,n)=>{const r=t._map.get(n);r!==void 0&&r.delete(e)},Sc=(e,t,n,r)=>{const i=t._map.get(n)||null,o=e.doc,s=o.clientID;let a;if(r==null)a=new cr([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:a=new cr([r]);break;case Uint8Array:a=new Co(r);break;case ci:a=new xo(r);break;default:if(r instanceof We)a=new pn(r);else throw new Error("Unexpected content type")}new Ae(le(s,Pe(o.store,s)),i,i&&i.lastId,null,null,t,n,a).integrate(e,0)},Cc=(e,t)=>{e.doc??Qe();const n=e._map.get(t);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},Fg=e=>{const t={};return e.doc??Qe(),e._map.forEach((n,r)=>{n.deleted||(t[r]=n.content.getContent()[n.length-1])}),t},Pg=(e,t)=>{e.doc??Qe();const n=e._map.get(t);return n!==void 0&&!n.deleted},Aw=(e,t)=>{const n={};return e._map.forEach((r,i)=>{let o=r;for(;o!==null&&(!t.sv.has(o.id.client)||o.id.clock>=(t.sv.get(o.id.client)||0));)o=o.left;o!==null&&kr(o,t)&&(n[i]=o.content.getContent()[o.length-1])}),n},Wo=e=>(e.doc??Qe(),Kv(e._map.entries(),t=>!t[1].deleted));class jw extends ml{}class $r extends We{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const n=new $r;return n.push(t),n}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new $r}clone(){const t=new $r;return t.insert(0,this.toArray().map(n=>n instanceof We?n.clone():n)),t}get length(){return this.doc??Qe(),this._length}_callObserver(t,n){super._callObserver(t,n),vl(this,t,new jw(this,t))}insert(t,n){this.doc!==null?fe(this.doc,r=>{Ng(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}push(t){this.doc!==null?fe(this.doc,n=>{Lw(n,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,n=1){this.doc!==null?fe(this.doc,r=>{Og(r,this,t,n)}):this._prelimContent.splice(t,n)}get(t){return Ig(this,t)}toArray(){return Ag(this)}slice(t=0,n=this.length){return Lg(this,t,n)}toJSON(){return this.map(t=>t instanceof We?t.toJSON():t)}map(t){return jg(this,t)}forEach(t){uo(this,t)}[Symbol.iterator](){return Dw(this)}_write(t){t.writeTypeRef(r1)}}const Iw=e=>new $r;class Mw extends ml{constructor(t,n,r){super(t,n),this.keysChanged=r}}class ni extends We{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,n){super._integrate(t,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new ni}clone(){const t=new ni;return this.forEach((n,r)=>{t.set(r,n instanceof We?n.clone():n)}),t}_callObserver(t,n){vl(this,t,new Mw(this,t,n))}toJSON(){this.doc??Qe();const t={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];t[r]=i instanceof We?i.toJSON():i}}),t}get size(){return[...Wo(this)].length}keys(){return Xl(Wo(this),t=>t[0])}values(){return Xl(Wo(this),t=>t[1].content.getContent()[t[1].length-1])}entries(){return Xl(Wo(this),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this.doc??Qe(),this._map.forEach((n,r)=>{n.deleted||t(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?fe(this.doc,n=>{zs(n,this,t)}):this._prelimContent.delete(t)}set(t,n){return this.doc!==null?fe(this.doc,r=>{Sc(r,this,t,n)}):this._prelimContent.set(t,n),n}get(t){return Cc(this,t)}has(t){return Pg(this,t)}clear(){this.doc!==null?fe(this.doc,t=>{this.forEach(function(n,r,i){zs(t,i,r)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(i1)}}const Nw=e=>new ni,En=(e,t)=>e===t||typeof e=="object"&&typeof t=="object"&&e&&t&&Cv(e,t);class su{constructor(t,n,r,i){this.left=t,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&Yt(),this.right.content.constructor){case je:this.right.deleted||di(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const hf=(e,t,n)=>{for(;t.right!==null&&n>0;){switch(t.right.content.constructor){case je:t.right.deleted||di(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Pn(e,le(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},Vo=(e,t,n,r)=>{const i=new Map,o=r?yl(t,n):null;if(o){const s=new su(o.p.left,o.p,o.index,i);return hf(e,s,n-o.index)}else{const s=new su(null,t._start,0,i);return hf(e,s,n)}},zg=(e,t,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===je&&En(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=e.doc,o=i.clientID;r.forEach((s,a)=>{const u=n.left,d=n.right,m=new Ae(le(o,Pe(i.store,o)),u,u&&u.lastId,d,d&&d.id,t,null,new je(a,s));m.integrate(e,0),n.right=m,n.forward()})},di=(e,t)=>{const{key:n,value:r}=t;r===null?e.delete(n):e.set(n,r)},Ug=(e,t)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===je&&En(t[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},Bg=(e,t,n,r)=>{const i=e.doc,o=i.clientID,s=new Map;for(const a in r){const u=r[a],d=n.currentAttributes.get(a)??null;if(!En(d,u)){s.set(a,d);const{left:m,right:c}=n;n.right=new Ae(le(o,Pe(i.store,o)),m,m&&m.lastId,c,c&&c.id,t,null,new je(a,u)),n.right.integrate(e,0),n.forward()}}return s},ea=(e,t,n,r,i)=>{n.currentAttributes.forEach((h,p)=>{i[p]===void 0&&(i[p]=null)});const o=e.doc,s=o.clientID;Ug(n,i);const a=Bg(e,t,n,i),u=r.constructor===String?new Qt(r):r instanceof We?new pn(r):new pr(r);let{left:d,right:m,index:c}=n;t._searchMarker&&ao(t._searchMarker,n.index,u.getLength()),m=new Ae(le(s,Pe(o.store,s)),d,d&&d.lastId,m,m&&m.id,t,null,u),m.integrate(e,0),n.right=m,n.index=c,n.forward(),zg(e,t,n,a)},pf=(e,t,n,r,i)=>{const o=e.doc,s=o.clientID;Ug(n,i);const a=Bg(e,t,n,i);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===je));){if(!n.right.deleted)switch(n.right.content.constructor){case je:{const{key:u,value:d}=n.right.content,m=i[u];if(m!==void 0){if(En(m,d))a.delete(u);else{if(r===0)break e;a.set(u,d)}n.right.delete(e)}else n.currentAttributes.set(u,d);break}default:r<n.right.length&&Pn(e,le(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;n.right=new Ae(le(s,Pe(o.store,s)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Qt(u)),n.right.integrate(e,0),n.forward()}zg(e,t,n,a)},$g=(e,t,n,r,i)=>{let o=t;const s=ot();for(;o&&(!o.countable||o.deleted);){if(!o.deleted&&o.content.constructor===je){const d=o.content;s.set(d.key,d)}o=o.right}let a=0,u=!1;for(;t!==o;){if(n===t&&(u=!0),!t.deleted){const d=t.content;switch(d.constructor){case je:{const{key:m,value:c}=d,h=r.get(m)??null;(s.get(m)!==d||h===c)&&(t.delete(e),a++,!u&&(i.get(m)??null)===c&&h!==c&&(h===null?i.delete(m):i.set(m,h))),!u&&!t.deleted&&di(i,d);break}}}t=t.right}return a},Ow=(e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===je){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},Fw=e=>{let t=0;return fe(e.doc,n=>{let r=e._start,i=e._start,o=ot();const s=Za(o);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case je:di(s,i.content);break;default:t+=$g(n,r,i,o,s),o=Za(s),r=i;break}i=i.right}}),t},Pw=e=>{const t=new Set,n=e.doc;for(const[r,i]of e.afterState.entries()){const o=e.beforeState.get(r)||0;i!==o&&bg(e,n.store.clients.get(r),o,i,s=>{!s.deleted&&s.content.constructor===je&&s.constructor!==vt&&t.add(s.parent)})}fe(n,r=>{fg(e,e.deleteSet,i=>{if(i instanceof vt||!i.parent._hasFormatting||t.has(i.parent))return;const o=i.parent;i.content.constructor===je?t.add(o):Ow(r,i)});for(const i of t)Fw(i)})},gf=(e,t,n)=>{const r=n,i=Za(t.currentAttributes),o=t.right;for(;n>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case pn:case pr:case Qt:n<t.right.length&&Pn(e,le(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}o&&$g(e,o,t.right,i,t.currentAttributes);const s=(t.left||t.right).parent;return s._searchMarker&&ao(s._searchMarker,t.index,-r+n),t};class zw extends ml{constructor(t,n,r){super(t,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,n=[];fe(t,r=>{const i=new Map,o=new Map;let s=this.target._start,a=null;const u={};let d="",m=0,c=0;const h=()=>{if(a!==null){let p=null;switch(a){case"delete":c>0&&(p={delete:c}),c=0;break;case"insert":(typeof d=="object"||d.length>0)&&(p={insert:d},i.size>0&&(p.attributes={},i.forEach((y,S)=>{y!==null&&(p.attributes[S]=y)}))),d="";break;case"retain":m>0&&(p={retain:m},kv(u)||(p.attributes=wv({},u))),m=0;break}p&&n.push(p),a=null}};for(;s!==null;){switch(s.content.constructor){case pn:case pr:this.adds(s)?this.deletes(s)||(h(),a="insert",d=s.content.getContent()[0],h()):this.deletes(s)?(a!=="delete"&&(h(),a="delete"),c+=1):s.deleted||(a!=="retain"&&(h(),a="retain"),m+=1);break;case Qt:this.adds(s)?this.deletes(s)||(a!=="insert"&&(h(),a="insert"),d+=s.content.str):this.deletes(s)?(a!=="delete"&&(h(),a="delete"),c+=s.length):s.deleted||(a!=="retain"&&(h(),a="retain"),m+=s.length);break;case je:{const{key:p,value:y}=s.content;if(this.adds(s)){if(!this.deletes(s)){const S=i.get(p)??null;En(S,y)?y!==null&&s.delete(r):(a==="retain"&&h(),En(y,o.get(p)??null)?delete u[p]:u[p]=y)}}else if(this.deletes(s)){o.set(p,y);const S=i.get(p)??null;En(S,y)||(a==="retain"&&h(),u[p]=S)}else if(!s.deleted){o.set(p,y);const S=u[p];S!==void 0&&(En(S,y)?S!==null&&s.delete(r):(a==="retain"&&h(),y===null?delete u[p]:u[p]=y))}s.deleted||(a==="insert"&&h(),di(i,s.content));break}}s=s.right}for(h();n.length>0;){const p=n[n.length-1];if(p.retain!==void 0&&p.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class ri extends We{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Qe(),this._length}_integrate(t,n){super._integrate(t,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new ri}clone(){const t=new ri;return t.applyDelta(this.toDelta()),t}_callObserver(t,n){super._callObserver(t,n);const r=new zw(this,t,n);vl(this,t,r),!t.local&&this._hasFormatting&&(t._needFormattingCleanup=!0)}toString(){this.doc??Qe();let t="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Qt&&(t+=n.content.str),n=n.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:n=!0}={}){this.doc!==null?fe(this.doc,r=>{const i=new su(null,this._start,0,new Map);for(let o=0;o<t.length;o++){const s=t[o];if(s.insert!==void 0){const a=!n&&typeof s.insert=="string"&&o===t.length-1&&i.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&ea(r,this,i,a,s.attributes||{})}else s.retain!==void 0?pf(r,this,i,s.retain,s.attributes||{}):s.delete!==void 0&&gf(r,i,s.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,n,r){this.doc??Qe();const i=[],o=new Map,s=this.doc;let a="",u=this._start;function d(){if(a.length>0){const c={};let h=!1;o.forEach((y,S)=>{h=!0,c[S]=y});const p={insert:a};h&&(p.attributes=c),i.push(p),a=""}}const m=()=>{for(;u!==null;){if(kr(u,t)||n!==void 0&&kr(u,n))switch(u.content.constructor){case Qt:{const c=o.get("ychange");t!==void 0&&!kr(u,t)?(c===void 0||c.user!==u.id.client||c.type!=="removed")&&(d(),o.set("ychange",r?r("removed",u.id):{type:"removed"})):n!==void 0&&!kr(u,n)?(c===void 0||c.user!==u.id.client||c.type!=="added")&&(d(),o.set("ychange",r?r("added",u.id):{type:"added"})):c!==void 0&&(d(),o.delete("ychange")),a+=u.content.str;break}case pn:case pr:{d();const c={insert:u.content.getContent()[0]};if(o.size>0){const h={};c.attributes=h,o.forEach((p,y)=>{h[y]=p})}i.push(c);break}case je:kr(u,t)&&(d(),di(o,u.content));break}u=u.right}d()};return t||n?fe(s,c=>{t&&iu(c,t),n&&iu(c,n),m()},"cleanup"):m(),i}insert(t,n,r){if(n.length<=0)return;const i=this.doc;i!==null?fe(i,o=>{const s=Vo(o,this,t,!r);r||(r={},s.currentAttributes.forEach((a,u)=>{r[u]=a})),ea(o,this,s,n,r)}):this._pending.push(()=>this.insert(t,n,r))}insertEmbed(t,n,r){const i=this.doc;i!==null?fe(i,o=>{const s=Vo(o,this,t,!r);ea(o,this,s,n,r||{})}):this._pending.push(()=>this.insertEmbed(t,n,r||{}))}delete(t,n){if(n===0)return;const r=this.doc;r!==null?fe(r,i=>{gf(i,Vo(i,this,t,!0),n)}):this._pending.push(()=>this.delete(t,n))}format(t,n,r){if(n===0)return;const i=this.doc;i!==null?fe(i,o=>{const s=Vo(o,this,t,!1);s.right!==null&&pf(o,this,s,n,r)}):this._pending.push(()=>this.format(t,n,r))}removeAttribute(t){this.doc!==null?fe(this.doc,n=>{zs(n,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,n){this.doc!==null?fe(this.doc,r=>{Sc(r,this,t,n)}):this._pending.push(()=>this.setAttribute(t,n))}getAttribute(t){return Cc(this,t)}getAttributes(){return Fg(this)}_write(t){t.writeTypeRef(o1)}}const Uw=e=>new ri;class ta{constructor(t,n=()=>!0){this._filter=n,this._root=t,this._currentNode=t._start,this._firstCall=!0,t.doc??Qe()}[Symbol.iterator](){return this}next(){let t=this._currentNode,n=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(n)))do if(n=t.content.type,!t.deleted&&(n.constructor===ii||n.constructor===ur)&&n._start!==null)t=n._start;else for(;t!==null;){const r=t.next;if(r!==null){t=r;break}else t.parent===this._root?t=null:t=t.parent._item}while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class ur extends We{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,n){super._integrate(t,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ur}clone(){const t=new ur;return t.insert(0,this.toArray().map(n=>n instanceof We?n.clone():n)),t}get length(){return this.doc??Qe(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new ta(this,t)}querySelector(t){t=t.toUpperCase();const r=new ta(this,i=>i.nodeName&&i.nodeName.toUpperCase()===t).next();return r.done?null:r.value}querySelectorAll(t){return t=t.toUpperCase(),cn(new ta(this,n=>n.nodeName&&n.nodeName.toUpperCase()===t))}_callObserver(t,n){vl(this,t,new Ww(this,n,t))}toString(){return jg(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,n={},r){const i=t.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),uo(this,o=>{i.insertBefore(o.toDOM(t,n,r),null)}),i}insert(t,n){this.doc!==null?fe(this.doc,r=>{Ng(r,this,t,n)}):this._prelimContent.splice(t,0,...n)}insertAfter(t,n){if(this.doc!==null)fe(this.doc,r=>{const i=t&&t instanceof We?t._item:t;Ps(r,this,i,n)});else{const r=this._prelimContent,i=t===null?0:r.findIndex(o=>o===t)+1;if(i===0&&t!==null)throw Ht("Reference item not found");r.splice(i,0,...n)}}delete(t,n=1){this.doc!==null?fe(this.doc,r=>{Og(r,this,t,n)}):this._prelimContent.splice(t,n)}toArray(){return Ag(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return Ig(this,t)}slice(t=0,n=this.length){return Lg(this,t,n)}forEach(t){uo(this,t)}_write(t){t.writeTypeRef(l1)}}const Bw=e=>new ur;class ii extends ur{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,n){super._integrate(t,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new ii(this.nodeName)}clone(){const t=new ii(this.nodeName),n=this.getAttributes();return _v(n,(r,i)=>{typeof r=="string"&&t.setAttribute(i,r)}),t.insert(0,this.toArray().map(r=>r instanceof We?r.clone():r)),t}toString(){const t=this.getAttributes(),n=[],r=[];for(const a in t)r.push(a);r.sort();const i=r.length;for(let a=0;a<i;a++){const u=r[a];n.push(u+'="'+t[u]+'"')}const o=this.nodeName.toLocaleLowerCase(),s=n.length>0?" "+n.join(" "):"";return`<${o}${s}>${super.toString()}</${o}>`}removeAttribute(t){this.doc!==null?fe(this.doc,n=>{zs(n,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,n){this.doc!==null?fe(this.doc,r=>{Sc(r,this,t,n)}):this._prelimAttrs.set(t,n)}getAttribute(t){return Cc(this,t)}hasAttribute(t){return Pg(this,t)}getAttributes(t){return t?Aw(this,t):Fg(this)}toDOM(t=document,n={},r){const i=t.createElement(this.nodeName),o=this.getAttributes();for(const s in o){const a=o[s];typeof a=="string"&&i.setAttribute(s,a)}return uo(this,s=>{i.appendChild(s.toDOM(t,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(t){t.writeTypeRef(s1),t.writeKey(this.nodeName)}}const $w=e=>new ii(e.readKey());class Ww extends ml{constructor(t,n,r){super(t,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Us extends ni{constructor(t){super(),this.hookName=t}_copy(){return new Us(this.hookName)}clone(){const t=new Us(this.hookName);return this.forEach((n,r)=>{t.set(r,n)}),t}toDOM(t=document,n={},r){const i=n[this.hookName];let o;return i!==void 0?o=i.createDom(this):o=document.createElement(this.hookName),o.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(o,this),o}_write(t){t.writeTypeRef(a1),t.writeKey(this.hookName)}}const Vw=e=>new Us(e.readKey());class Bs extends ri{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Bs}clone(){const t=new Bs;return t.applyDelta(this.toDelta()),t}toDOM(t=document,n,r){const i=t.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(t=>{const n=[];for(const i in t.attributes){const o=[];for(const s in t.attributes[i])o.push({key:s,value:t.attributes[i][s]});o.sort((s,a)=>s.key<a.key?-1:1),n.push({nodeName:i,attrs:o})}n.sort((i,o)=>i.nodeName<o.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const o=n[i];r+=`<${o.nodeName}`;for(let s=0;s<o.attrs.length;s++){const a=o.attrs[s];r+=` ${a.key}="${a.value}"`}r+=">"}r+=t.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(u1)}}const Hw=e=>new Bs;class xc{constructor(t,n){this.id=t,this.length=n}get deleted(){throw Wt()}mergeWith(t){return!1}write(t,n,r){throw Wt()}integrate(t,n){throw Wt()}}const Yw=0;class vt extends xc{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){n>0&&(this.id.clock+=n,this.length-=n),xg(t.doc.store,this)}write(t,n){t.writeInfo(Yw),t.writeLen(this.length-n)}getMissing(t,n){return null}}class Co{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Co(this.content)}splice(t){throw Wt()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeBuf(this.content)}getRef(){return 3}}const Kw=e=>new Co(e.readBuf());class co{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new co(this.len)}splice(t){const n=new co(this.len-t);return this.len=t,n}mergeWith(t){return this.len+=t.len,!0}integrate(t,n){Os(t.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(t){}gc(t){}write(t,n){t.writeLen(this.len-n)}getRef(){return 1}}const Qw=e=>new co(e.readLen()),Wg=(e,t)=>new ci({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class xo{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),t.meta!==null&&(n.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new xo(Wg(this.doc.guid,this.opts))}splice(t){throw Wt()}mergeWith(t){return!1}integrate(t,n){this.doc._item=n,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,n){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const Gw=e=>new xo(Wg(e.readString(),e.readAny()));class pr{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new pr(this.embed)}splice(t){throw Wt()}mergeWith(t){return!1}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeJSON(this.embed)}getRef(){return 5}}const qw=e=>new pr(e.readJSON());class je{constructor(t,n){this.key=t,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new je(this.key,this.value)}splice(t){throw Wt()}mergeWith(t){return!1}integrate(t,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(t){}gc(t){}write(t,n){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const Jw=e=>new je(e.readKey(),e.readJSON());class $s{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $s(this.arr)}splice(t){const n=new $s(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeString(o===void 0?"undefined":JSON.stringify(o))}}getRef(){return 2}}const Xw=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const i=e.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new $s(n)},Zw=lo("node_env")==="development";class cr{constructor(t){this.arr=t,Zw&&Jp(t)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new cr(this.arr)}splice(t){const n=new cr(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){const r=this.arr.length;t.writeLen(r-n);for(let i=n;i<r;i++){const o=this.arr[i];t.writeAny(o)}}getRef(){return 8}}const e1=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new cr(n)};class Qt{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Qt(this.str)}splice(t){const n=new Qt(this.str.slice(t));this.str=this.str.slice(0,t);const r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(t){return this.str+=t.str,!0}integrate(t,n){}delete(t){}gc(t){}write(t,n){t.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const t1=e=>new Qt(e.readString()),n1=[Iw,Nw,Uw,$w,Bw,Vw,Hw],r1=0,i1=1,o1=2,s1=3,l1=4,a1=5,u1=6;class pn{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new pn(this.type._copy())}splice(t){throw Wt()}mergeWith(t){return!1}integrate(t,n){this.type._integrate(t.doc,n)}delete(t){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(t.beforeState.get(n.id.client)||0)&&t._mergeStructs.push(n):n.delete(t),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(t.beforeState.get(r.id.client)||0)&&t._mergeStructs.push(r):r.delete(t)}),t.changed.delete(this.type)}gc(t){let n=this.type._start;for(;n!==null;)n.gc(t,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(t,!0),r=r.left}),this.type._map=new Map}write(t,n){this.type._write(t)}getRef(){return 7}}const c1=e=>new pn(n1[e.readTypeRef()](e)),Ws=(e,t,n)=>{const{client:r,clock:i}=t.id,o=new Ae(le(r,i+n),t,le(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),t.redone!==null&&(o.redone=le(t.redone.client,t.redone.clock+n)),t.right=o,o.right!==null&&(o.right.left=o),e._mergeStructs.push(o),o.parentSub!==null&&o.right===null&&o.parent._map.set(o.parentSub,o),t.length=n,o};class Ae extends xc{constructor(t,n,r,i,o,s,a,u){super(t,u.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=o,this.parent=s,this.parentSub=a,this.redone=null,this.content=u,this.info=this.content.isCountable()?Vd:0}set marker(t){(this.info&Ql)>0!==t&&(this.info^=Ql)}get marker(){return(this.info&Ql)>0}get keep(){return(this.info&Wd)>0}set keep(t){this.keep!==t&&(this.info^=Wd)}get countable(){return(this.info&Vd)>0}get deleted(){return(this.info&Kl)>0}set deleted(t){this.deleted!==t&&(this.info^=Kl)}markDeleted(){this.info|=Kl}getMissing(t,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Pe(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Pe(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Br&&this.id.client!==this.parent.client&&this.parent.clock>=Pe(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=uf(t,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Pn(t,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===vt||this.right&&this.right.constructor===vt)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Ae?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===Ae&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Br){const r=Zl(n,this.parent);r.constructor===vt?this.parent=null:this.parent=r.content.type}return null}integrate(t,n){if(n>0&&(this.id.clock+=n,this.left=uf(t,t.doc.store,le(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const o=new Set,s=new Set;for(;i!==null&&i!==this.right;){if(s.add(i),o.add(i),$o(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,o.clear();else if($o(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&s.has(Zl(t.doc.store,i.origin)))o.has(Zl(t.doc.store,i.origin))||(r=i,o.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),xg(t.doc.store,this),this.content.integrate(t,this),df(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new vt(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:le(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&$o(t.origin,this.lastId)&&this.right===t&&$o(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===t&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Os(t.deleteSet,this.id.client,this.id.clock,this.length),df(t,n,this.parentSub),this.content.delete(t)}}gc(t,n){if(!this.deleted)throw Yt();this.content.gc(t),n?gw(t,this,new vt(this.id,this.length)):this.content=new co(this.length)}write(t,n){const r=n>0?le(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,o=this.parentSub,s=this.content.getRef()&cl|(r===null?0:dt)|(i===null?0:rn)|(o===null?0:io);if(t.writeInfo(s),r!==null&&t.writeLeftID(r),i!==null&&t.writeRightID(i),r===null&&i===null){const a=this.parent;if(a._item!==void 0){const u=a._item;if(u===null){const d=hw(a);t.writeParentInfo(!0),t.writeString(d)}else t.writeParentInfo(!1),t.writeLeftID(u.id)}else a.constructor===String?(t.writeParentInfo(!0),t.writeString(a)):a.constructor===Br?(t.writeParentInfo(!1),t.writeLeftID(a)):Yt();o!==null&&t.writeString(o)}this.content.write(t,n)}}const Vg=(e,t)=>d1[t&cl](e),d1=[()=>{Yt()},Qw,Xw,Kw,t1,qw,Jw,c1,e1,Gw,()=>{Yt()}],f1=10;class wt extends xc{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,n){Yt()}write(t,n){t.writeInfo(f1),q(t.restEncoder,this.length-n)}getMissing(t,n){return null}}const Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Yg="__ $YJS$ __";Hg[Yg]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Hg[Yg]=!0;const h1=1200,p1=2500,Vs=3e4,lu=e=>{if(e.shouldConnect&&e.ws===null){const t=new WebSocket(e.url),n=e.binaryType;let r=null;n&&(t.binaryType=n),e.ws=t,e.connecting=!0,e.connected=!1,t.onmessage=s=>{e.lastMessageReceived=dn();const a=s.data,u=typeof a=="string"?JSON.parse(a):a;u&&u.type==="pong"&&(clearTimeout(r),r=setTimeout(o,Vs/2)),e.emit("message",[u,e])};const i=s=>{e.ws!==null&&(e.ws=null,e.connecting=!1,e.connected?(e.connected=!1,e.emit("disconnect",[{type:"disconnect",error:s},e])):e.unsuccessfulReconnects++,setTimeout(lu,oc(F0(e.unsuccessfulReconnects+1)*h1,p1),e)),clearTimeout(r)},o=()=>{e.ws===t&&e.send({type:"ping"})};t.onclose=()=>i(null),t.onerror=s=>i(s),t.onopen=()=>{e.lastMessageReceived=dn(),e.connecting=!1,e.connected=!0,e.unsuccessfulReconnects=0,e.emit("connect",[{type:"connect"},e]),r=setTimeout(o,Vs/2)}}};class g1 extends Up{constructor(t,{binaryType:n}={}){super(),this.url=t,this.ws=null,this.binaryType=n||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&Vs<dn()-this.lastMessageReceived&&this.ws.close()},Vs/2),lu(this)}send(t){this.ws&&this.ws.send(JSON.stringify(t))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&this.ws===null&&lu(this)}}const Kg=new Map;class m1{constructor(t){this.room=t,this.onmessage=null,this._onChange=n=>n.key===t&&this.onmessage!==null&&this.onmessage({data:rg(n.newValue||"")}),yv(this._onChange)}postMessage(t){Qp.setItem(this.room,ng(jv(t)))}close(){vv(this._onChange)}}const y1=typeof BroadcastChannel>"u"?m1:BroadcastChannel,bc=e=>ht(Kg,e,()=>{const t=Fn(),n=new y1(e);return n.onmessage=r=>t.forEach(i=>i(r.data,"broadcastchannel")),{bc:n,subs:t}}),v1=(e,t)=>(bc(e).subs.add(t),t),w1=(e,t)=>{const n=bc(e),r=n.subs.delete(t);return r&&n.subs.size===0&&(n.bc.close(),Kg.delete(e)),r},_1=(e,t,n=null)=>{const r=bc(e);r.bc.postMessage(t),r.subs.forEach(i=>i(t,n))},k1=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else n!==void 0&&n()}};function Ho(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qg={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){var n=Math.floor,r=Math.abs,i=Math.pow;return function(){function o(s,a,u){function d(h,p){if(!a[h]){if(!s[h]){var y=typeof Ho=="function"&&Ho;if(!p&&y)return y(h,!0);if(m)return m(h,!0);var S=new Error("Cannot find module '"+h+"'");throw S.code="MODULE_NOT_FOUND",S}var M=a[h]={exports:{}};s[h][0].call(M.exports,function(k){var _=s[h][1][k];return d(_||k)},M,M.exports,o,s,a,u)}return a[h].exports}for(var m=typeof Ho=="function"&&Ho,c=0;c<u.length;c++)d(u[c]);return d}return o}()({1:[function(o,s,a){function u(w){var C=w.length;if(0<C%4)throw new Error("Invalid string. Length must be a multiple of 4");var R=w.indexOf("=");R===-1&&(R=C);var x=R===C?0:4-R%4;return[R,x]}function d(w,C,R){return 3*(C+R)/4-R}function m(w){var C,R,x=u(w),D=x[0],j=x[1],T=new M(d(w,D,j)),L=0,F=0<j?D-4:D;for(R=0;R<F;R+=4)C=S[w.charCodeAt(R)]<<18|S[w.charCodeAt(R+1)]<<12|S[w.charCodeAt(R+2)]<<6|S[w.charCodeAt(R+3)],T[L++]=255&C>>16,T[L++]=255&C>>8,T[L++]=255&C;return j===2&&(C=S[w.charCodeAt(R)]<<2|S[w.charCodeAt(R+1)]>>4,T[L++]=255&C),j===1&&(C=S[w.charCodeAt(R)]<<10|S[w.charCodeAt(R+1)]<<4|S[w.charCodeAt(R+2)]>>2,T[L++]=255&C>>8,T[L++]=255&C),T}function c(w){return y[63&w>>18]+y[63&w>>12]+y[63&w>>6]+y[63&w]}function h(w,C,R){for(var x,D=[],j=C;j<R;j+=3)x=(16711680&w[j]<<16)+(65280&w[j+1]<<8)+(255&w[j+2]),D.push(c(x));return D.join("")}function p(w){for(var C,R=w.length,x=R%3,D=[],j=16383,T=0,L=R-x;T<L;T+=j)D.push(h(w,T,T+j>L?L:T+j));return x===1?(C=w[R-1],D.push(y[C>>2]+y[63&C<<4]+"==")):x===2&&(C=(w[R-2]<<8)+w[R-1],D.push(y[C>>10]+y[63&C>>4]+y[63&C<<2]+"=")),D.join("")}a.byteLength=function(w){var C=u(w),R=C[0],x=C[1];return 3*(R+x)/4-x},a.toByteArray=m,a.fromByteArray=p;for(var y=[],S=[],M=typeof Uint8Array>"u"?Array:Uint8Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0,g=k.length;_<g;++_)y[_]=k[_],S[k.charCodeAt(_)]=_;S[45]=62,S[95]=63},{}],2:[function(){},{}],3:[function(o,s,a){(function(){(function(){var u=String.fromCharCode,d=Math.min;function m(l){if(2147483647<l)throw new RangeError('The value "'+l+'" is invalid for option "size"');var f=new Uint8Array(l);return f.__proto__=c.prototype,f}function c(l,f,v){if(typeof l=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(l)}return h(l,f,v)}function h(l,f,v){if(typeof l=="string")return M(l,f);if(ArrayBuffer.isView(l))return k(l);if(l==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(O(l,ArrayBuffer)||l&&O(l.buffer,ArrayBuffer))return _(l,f,v);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var A=l.valueOf&&l.valueOf();if(A!=null&&A!==l)return c.from(A,f,v);var N=g(l);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return c.from(l[Symbol.toPrimitive]("string"),f,v);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}function p(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(0>l)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function y(l,f,v){return p(l),0>=l||f===void 0?m(l):typeof v=="string"?m(l).fill(f,v):m(l).fill(f)}function S(l){return p(l),m(0>l?0:0|w(l))}function M(l,f){if((typeof f!="string"||f==="")&&(f="utf8"),!c.isEncoding(f))throw new TypeError("Unknown encoding: "+f);var v=0|C(l,f),A=m(v),N=A.write(l,f);return N!==v&&(A=A.slice(0,N)),A}function k(l){for(var f=0>l.length?0:0|w(l.length),v=m(f),A=0;A<f;A+=1)v[A]=255&l[A];return v}function _(l,f,v){if(0>f||l.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<f+(v||0))throw new RangeError('"length" is outside of buffer bounds');var A;return A=f===void 0&&v===void 0?new Uint8Array(l):v===void 0?new Uint8Array(l,f):new Uint8Array(l,f,v),A.__proto__=c.prototype,A}function g(l){if(c.isBuffer(l)){var f=0|w(l.length),v=m(f);return v.length===0||l.copy(v,0,0,f),v}return l.length===void 0?l.type==="Buffer"&&Array.isArray(l.data)?k(l.data):void 0:typeof l.length!="number"||P(l.length)?m(0):k(l)}function w(l){if(l>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|l}function C(l,f){if(c.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||O(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);var v=l.length,A=2<arguments.length&&arguments[2]===!0;if(!A&&v===0)return 0;for(var N=!1;;)switch(f){case"ascii":case"latin1":case"binary":return v;case"utf8":case"utf-8":return Wn(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*v;case"hex":return v>>>1;case"base64":return Et(l).length;default:if(N)return A?-1:Wn(l).length;f=(""+f).toLowerCase(),N=!0}}function R(l,f,v){var A=!1;if((f===void 0||0>f)&&(f=0),f>this.length||((v===void 0||v>this.length)&&(v=this.length),0>=v)||(v>>>=0,f>>>=0,v<=f))return"";for(l||(l="utf8");;)switch(l){case"hex":return Z(this,f,v);case"utf8":case"utf-8":return ee(this,f,v);case"ascii":return I(this,f,v);case"latin1":case"binary":return Y(this,f,v);case"base64":return J(this,f,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,f,v);default:if(A)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),A=!0}}function x(l,f,v){var A=l[f];l[f]=l[v],l[v]=A}function D(l,f,v,A,N){if(l.length===0)return-1;if(typeof v=="string"?(A=v,v=0):2147483647<v?v=2147483647:-2147483648>v&&(v=-2147483648),v=+v,P(v)&&(v=N?0:l.length-1),0>v&&(v=l.length+v),v>=l.length){if(N)return-1;v=l.length-1}else if(0>v)if(N)v=0;else return-1;if(typeof f=="string"&&(f=c.from(f,A)),c.isBuffer(f))return f.length===0?-1:j(l,f,v,A,N);if(typeof f=="number")return f&=255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(l,f,v):Uint8Array.prototype.lastIndexOf.call(l,f,v):j(l,[f],v,A,N);throw new TypeError("val must be string, number or Buffer")}function j(l,f,v,A,N){function z(mr,pi){return Q===1?mr[pi]:mr.readUInt16BE(pi*Q)}var Q=1,oe=l.length,ye=f.length;if(A!==void 0&&(A=(A+"").toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(2>l.length||2>f.length)return-1;Q=2,oe/=2,ye/=2,v/=2}var se;if(N){var re=-1;for(se=v;se<oe;se++)if(z(l,se)!==z(f,re===-1?0:se-re))re!==-1&&(se-=se-re),re=-1;else if(re===-1&&(re=se),se-re+1===ye)return re*Q}else for(v+ye>oe&&(v=oe-ye),se=v;0<=se;se--){for(var Ue=!0,Vn=0;Vn<ye;Vn++)if(z(l,se+Vn)!==z(f,Vn)){Ue=!1;break}if(Ue)return se}return-1}function T(l,f,v,A){v=+v||0;var N=l.length-v;A?(A=+A,A>N&&(A=N)):A=N;var z=f.length;A>z/2&&(A=z/2);for(var Q,oe=0;oe<A;++oe){if(Q=parseInt(f.substr(2*oe,2),16),P(Q))return oe;l[v+oe]=Q}return oe}function L(l,f,v,A){return Tt(Wn(f,l.length-v),l,v,A)}function F(l,f,v,A){return Tt(hi(f),l,v,A)}function U(l,f,v,A){return F(l,f,v,A)}function V(l,f,v,A){return Tt(Et(f),l,v,A)}function K(l,f,v,A){return Tt(mn(f,l.length-v),l,v,A)}function J(l,f,v){return f===0&&v===l.length?W.fromByteArray(l):W.fromByteArray(l.slice(f,v))}function ee(l,f,v){v=d(l.length,v);for(var A=[],N=f;N<v;){var z=l[N],Q=null,oe=239<z?4:223<z?3:191<z?2:1;if(N+oe<=v){var ye,se,re,Ue;oe===1?128>z&&(Q=z):oe===2?(ye=l[N+1],(192&ye)==128&&(Ue=(31&z)<<6|63&ye,127<Ue&&(Q=Ue))):oe===3?(ye=l[N+1],se=l[N+2],(192&ye)==128&&(192&se)==128&&(Ue=(15&z)<<12|(63&ye)<<6|63&se,2047<Ue&&(55296>Ue||57343<Ue)&&(Q=Ue))):oe===4&&(ye=l[N+1],se=l[N+2],re=l[N+3],(192&ye)==128&&(192&se)==128&&(192&re)==128&&(Ue=(15&z)<<18|(63&ye)<<12|(63&se)<<6|63&re,65535<Ue&&1114112>Ue&&(Q=Ue)))}Q===null?(Q=65533,oe=1):65535<Q&&(Q-=65536,A.push(55296|1023&Q>>>10),Q=56320|1023&Q),A.push(Q),N+=oe}return $(A)}function $(l){var f=l.length;if(f<=4096)return u.apply(String,l);for(var v="",A=0;A<f;)v+=u.apply(String,l.slice(A,A+=4096));return v}function I(l,f,v){var A="";v=d(l.length,v);for(var N=f;N<v;++N)A+=u(127&l[N]);return A}function Y(l,f,v){var A="";v=d(l.length,v);for(var N=f;N<v;++N)A+=u(l[N]);return A}function Z(l,f,v){var A=l.length;(!f||0>f)&&(f=0),(!v||0>v||v>A)&&(v=A);for(var N="",z=f;z<v;++z)N+=$n(l[z]);return N}function ae(l,f,v){for(var A=l.slice(f,v),N="",z=0;z<A.length;z+=2)N+=u(A[z]+256*A[z+1]);return N}function ue(l,f,v){if(l%1!=0||0>l)throw new RangeError("offset is not uint");if(l+f>v)throw new RangeError("Trying to access beyond buffer length")}function ne(l,f,v,A,N,z){if(!c.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>N||f<z)throw new RangeError('"value" argument is out of bounds');if(v+A>l.length)throw new RangeError("Index out of range")}function Ie(l,f,v,A){if(v+A>l.length)throw new RangeError("Index out of range");if(0>v)throw new RangeError("Index out of range")}function Re(l,f,v,A,N){return f=+f,v>>>=0,N||Ie(l,f,v,4),G.write(l,f,v,A,23,4),v+4}function st(l,f,v,A,N){return f=+f,v>>>=0,N||Ie(l,f,v,8),G.write(l,f,v,A,52,8),v+8}function fi(l){if(l=l.split("=")[0],l=l.trim().replace(b,""),2>l.length)return"";for(;l.length%4!=0;)l+="=";return l}function $n(l){return 16>l?"0"+l.toString(16):l.toString(16)}function Wn(l,f){f=f||1/0;for(var v,A=l.length,N=null,z=[],Q=0;Q<A;++Q){if(v=l.charCodeAt(Q),55295<v&&57344>v){if(!N){if(56319<v){-1<(f-=3)&&z.push(239,191,189);continue}else if(Q+1===A){-1<(f-=3)&&z.push(239,191,189);continue}N=v;continue}if(56320>v){-1<(f-=3)&&z.push(239,191,189),N=v;continue}v=(N-55296<<10|v-56320)+65536}else N&&-1<(f-=3)&&z.push(239,191,189);if(N=null,128>v){if(0>(f-=1))break;z.push(v)}else if(2048>v){if(0>(f-=2))break;z.push(192|v>>6,128|63&v)}else if(65536>v){if(0>(f-=3))break;z.push(224|v>>12,128|63&v>>6,128|63&v)}else if(1114112>v){if(0>(f-=4))break;z.push(240|v>>18,128|63&v>>12,128|63&v>>6,128|63&v)}else throw new Error("Invalid code point")}return z}function hi(l){for(var f=[],v=0;v<l.length;++v)f.push(255&l.charCodeAt(v));return f}function mn(l,f){for(var v,A,N,z=[],Q=0;Q<l.length&&!(0>(f-=2));++Q)v=l.charCodeAt(Q),A=v>>8,N=v%256,z.push(N),z.push(A);return z}function Et(l){return W.toByteArray(fi(l))}function Tt(l,f,v,A){for(var N=0;N<A&&!(N+v>=f.length||N>=l.length);++N)f[N+v]=l[N];return N}function O(l,f){return l instanceof f||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===f.name}function P(l){return l!==l}var W=o("base64-js"),G=o("ieee754");a.Buffer=c,a.SlowBuffer=function(l){return+l!=l&&(l=0),c.alloc(+l)},a.INSPECT_MAX_BYTES=50,a.kMaxLength=2147483647,c.TYPED_ARRAY_SUPPORT=function(){try{var l=new Uint8Array(1);return l.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},l.foo()===42}catch{return!1}}(),c.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){return c.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){return c.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=function(l,f,v){return h(l,f,v)},c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(l,f,v){return y(l,f,v)},c.allocUnsafe=function(l){return S(l)},c.allocUnsafeSlow=function(l){return S(l)},c.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==c.prototype},c.compare=function(l,f){if(O(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),O(f,Uint8Array)&&(f=c.from(f,f.offset,f.byteLength)),!c.isBuffer(l)||!c.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;for(var v=l.length,A=f.length,N=0,z=d(v,A);N<z;++N)if(l[N]!==f[N]){v=l[N],A=f[N];break}return v<A?-1:A<v?1:0},c.isEncoding=function(l){switch((l+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return c.alloc(0);var v;if(f===void 0)for(f=0,v=0;v<l.length;++v)f+=l[v].length;var A=c.allocUnsafe(f),N=0;for(v=0;v<l.length;++v){var z=l[v];if(O(z,Uint8Array)&&(z=c.from(z)),!c.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(A,N),N+=z.length}return A},c.byteLength=C,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var l=this.length;if(l%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<l;f+=2)x(this,f,f+1);return this},c.prototype.swap32=function(){var l=this.length;if(l%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<l;f+=4)x(this,f,f+3),x(this,f+1,f+2);return this},c.prototype.swap64=function(){var l=this.length;if(l%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<l;f+=8)x(this,f,f+7),x(this,f+1,f+6),x(this,f+2,f+5),x(this,f+3,f+4);return this},c.prototype.toString=function(){var l=this.length;return l===0?"":arguments.length===0?ee(this,0,l):R.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(l){if(!c.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l||c.compare(this,l)===0},c.prototype.inspect=function(){var l="",f=a.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},c.prototype.compare=function(l,f,v,A,N){if(O(l,Uint8Array)&&(l=c.from(l,l.offset,l.byteLength)),!c.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(f===void 0&&(f=0),v===void 0&&(v=l?l.length:0),A===void 0&&(A=0),N===void 0&&(N=this.length),0>f||v>l.length||0>A||N>this.length)throw new RangeError("out of range index");if(A>=N&&f>=v)return 0;if(A>=N)return-1;if(f>=v)return 1;if(f>>>=0,v>>>=0,A>>>=0,N>>>=0,this===l)return 0;for(var z=N-A,Q=v-f,oe=d(z,Q),ye=this.slice(A,N),se=l.slice(f,v),re=0;re<oe;++re)if(ye[re]!==se[re]){z=ye[re],Q=se[re];break}return z<Q?-1:Q<z?1:0},c.prototype.includes=function(l,f,v){return this.indexOf(l,f,v)!==-1},c.prototype.indexOf=function(l,f,v){return D(this,l,f,v,!0)},c.prototype.lastIndexOf=function(l,f,v){return D(this,l,f,v,!1)},c.prototype.write=function(l,f,v,A){if(f===void 0)A="utf8",v=this.length,f=0;else if(v===void 0&&typeof f=="string")A=f,v=this.length,f=0;else if(isFinite(f))f>>>=0,isFinite(v)?(v>>>=0,A===void 0&&(A="utf8")):(A=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var N=this.length-f;if((v===void 0||v>N)&&(v=N),0<l.length&&(0>v||0>f)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");for(var z=!1;;)switch(A){case"hex":return T(this,l,f,v);case"utf8":case"utf-8":return L(this,l,f,v);case"ascii":return F(this,l,f,v);case"latin1":case"binary":return U(this,l,f,v);case"base64":return V(this,l,f,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,l,f,v);default:if(z)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),z=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(l,f){var v=this.length;l=~~l,f=f===void 0?v:~~f,0>l?(l+=v,0>l&&(l=0)):l>v&&(l=v),0>f?(f+=v,0>f&&(f=0)):f>v&&(f=v),f<l&&(f=l);var A=this.subarray(l,f);return A.__proto__=c.prototype,A},c.prototype.readUIntLE=function(l,f,v){l>>>=0,f>>>=0,v||ue(l,f,this.length);for(var A=this[l],N=1,z=0;++z<f&&(N*=256);)A+=this[l+z]*N;return A},c.prototype.readUIntBE=function(l,f,v){l>>>=0,f>>>=0,v||ue(l,f,this.length);for(var A=this[l+--f],N=1;0<f&&(N*=256);)A+=this[l+--f]*N;return A},c.prototype.readUInt8=function(l,f){return l>>>=0,f||ue(l,1,this.length),this[l]},c.prototype.readUInt16LE=function(l,f){return l>>>=0,f||ue(l,2,this.length),this[l]|this[l+1]<<8},c.prototype.readUInt16BE=function(l,f){return l>>>=0,f||ue(l,2,this.length),this[l]<<8|this[l+1]},c.prototype.readUInt32LE=function(l,f){return l>>>=0,f||ue(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+16777216*this[l+3]},c.prototype.readUInt32BE=function(l,f){return l>>>=0,f||ue(l,4,this.length),16777216*this[l]+(this[l+1]<<16|this[l+2]<<8|this[l+3])},c.prototype.readIntLE=function(l,f,v){l>>>=0,f>>>=0,v||ue(l,f,this.length);for(var A=this[l],N=1,z=0;++z<f&&(N*=256);)A+=this[l+z]*N;return N*=128,A>=N&&(A-=i(2,8*f)),A},c.prototype.readIntBE=function(l,f,v){l>>>=0,f>>>=0,v||ue(l,f,this.length);for(var A=f,N=1,z=this[l+--A];0<A&&(N*=256);)z+=this[l+--A]*N;return N*=128,z>=N&&(z-=i(2,8*f)),z},c.prototype.readInt8=function(l,f){return l>>>=0,f||ue(l,1,this.length),128&this[l]?-1*(255-this[l]+1):this[l]},c.prototype.readInt16LE=function(l,f){l>>>=0,f||ue(l,2,this.length);var v=this[l]|this[l+1]<<8;return 32768&v?4294901760|v:v},c.prototype.readInt16BE=function(l,f){l>>>=0,f||ue(l,2,this.length);var v=this[l+1]|this[l]<<8;return 32768&v?4294901760|v:v},c.prototype.readInt32LE=function(l,f){return l>>>=0,f||ue(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},c.prototype.readInt32BE=function(l,f){return l>>>=0,f||ue(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},c.prototype.readFloatLE=function(l,f){return l>>>=0,f||ue(l,4,this.length),G.read(this,l,!0,23,4)},c.prototype.readFloatBE=function(l,f){return l>>>=0,f||ue(l,4,this.length),G.read(this,l,!1,23,4)},c.prototype.readDoubleLE=function(l,f){return l>>>=0,f||ue(l,8,this.length),G.read(this,l,!0,52,8)},c.prototype.readDoubleBE=function(l,f){return l>>>=0,f||ue(l,8,this.length),G.read(this,l,!1,52,8)},c.prototype.writeUIntLE=function(l,f,v,A){if(l=+l,f>>>=0,v>>>=0,!A){var N=i(2,8*v)-1;ne(this,l,f,v,N,0)}var z=1,Q=0;for(this[f]=255&l;++Q<v&&(z*=256);)this[f+Q]=255&l/z;return f+v},c.prototype.writeUIntBE=function(l,f,v,A){if(l=+l,f>>>=0,v>>>=0,!A){var N=i(2,8*v)-1;ne(this,l,f,v,N,0)}var z=v-1,Q=1;for(this[f+z]=255&l;0<=--z&&(Q*=256);)this[f+z]=255&l/Q;return f+v},c.prototype.writeUInt8=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,1,255,0),this[f]=255&l,f+1},c.prototype.writeUInt16LE=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,2,65535,0),this[f]=255&l,this[f+1]=l>>>8,f+2},c.prototype.writeUInt16BE=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=255&l,f+2},c.prototype.writeUInt32LE=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=255&l,f+4},c.prototype.writeUInt32BE=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},c.prototype.writeIntLE=function(l,f,v,A){if(l=+l,f>>>=0,!A){var N=i(2,8*v-1);ne(this,l,f,v,N-1,-N)}var z=0,Q=1,oe=0;for(this[f]=255&l;++z<v&&(Q*=256);)0>l&&oe===0&&this[f+z-1]!==0&&(oe=1),this[f+z]=255&(l/Q>>0)-oe;return f+v},c.prototype.writeIntBE=function(l,f,v,A){if(l=+l,f>>>=0,!A){var N=i(2,8*v-1);ne(this,l,f,v,N-1,-N)}var z=v-1,Q=1,oe=0;for(this[f+z]=255&l;0<=--z&&(Q*=256);)0>l&&oe===0&&this[f+z+1]!==0&&(oe=1),this[f+z]=255&(l/Q>>0)-oe;return f+v},c.prototype.writeInt8=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,1,127,-128),0>l&&(l=255+l+1),this[f]=255&l,f+1},c.prototype.writeInt16LE=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,2,32767,-32768),this[f]=255&l,this[f+1]=l>>>8,f+2},c.prototype.writeInt16BE=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=255&l,f+2},c.prototype.writeInt32LE=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,4,2147483647,-2147483648),this[f]=255&l,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},c.prototype.writeInt32BE=function(l,f,v){return l=+l,f>>>=0,v||ne(this,l,f,4,2147483647,-2147483648),0>l&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=255&l,f+4},c.prototype.writeFloatLE=function(l,f,v){return Re(this,l,f,!0,v)},c.prototype.writeFloatBE=function(l,f,v){return Re(this,l,f,!1,v)},c.prototype.writeDoubleLE=function(l,f,v){return st(this,l,f,!0,v)},c.prototype.writeDoubleBE=function(l,f,v){return st(this,l,f,!1,v)},c.prototype.copy=function(l,f,v,A){if(!c.isBuffer(l))throw new TypeError("argument should be a Buffer");if(v||(v=0),A||A===0||(A=this.length),f>=l.length&&(f=l.length),f||(f=0),0<A&&A<v&&(A=v),A===v||l.length===0||this.length===0)return 0;if(0>f)throw new RangeError("targetStart out of bounds");if(0>v||v>=this.length)throw new RangeError("Index out of range");if(0>A)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),l.length-f<A-v&&(A=l.length-f+v);var N=A-v;if(this===l&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(f,v,A);else if(this===l&&v<f&&f<A)for(var z=N-1;0<=z;--z)l[z+f]=this[z+v];else Uint8Array.prototype.set.call(l,this.subarray(v,A),f);return N},c.prototype.fill=function(l,f,v,A){if(typeof l=="string"){if(typeof f=="string"?(A=f,f=0,v=this.length):typeof v=="string"&&(A=v,v=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!c.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(l.length===1){var N=l.charCodeAt(0);(A==="utf8"&&128>N||A==="latin1")&&(l=N)}}else typeof l=="number"&&(l&=255);if(0>f||this.length<f||this.length<v)throw new RangeError("Out of range index");if(v<=f)return this;f>>>=0,v=v===void 0?this.length:v>>>0,l||(l=0);var z;if(typeof l=="number")for(z=f;z<v;++z)this[z]=l;else{var Q=c.isBuffer(l)?l:c.from(l,A),oe=Q.length;if(oe===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(z=0;z<v-f;++z)this[z+f]=Q[z%oe]}return this};var b=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(o,s,a){(function(u){(function(){function d(){let c;try{c=a.storage.getItem("debug")}catch{}return!c&&typeof u<"u"&&"env"in u&&(c=u.env.DEBUG),c}a.formatArgs=function(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+s.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;c.splice(1,0,h,"color: inherit");let p=0,y=0;c[0].replace(/%[a-zA-Z%]/g,S=>{S==="%%"||(p++,S==="%c"&&(y=p))}),c.splice(y,0,h)},a.save=function(c){try{c?a.storage.setItem("debug",c):a.storage.removeItem("debug")}catch{}},a.load=d,a.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},a.storage=function(){try{return localStorage}catch{}}(),a.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],a.log=console.debug||console.log||(()=>{}),s.exports=o("./common")(a);const{formatters:m}=s.exports;m.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}).call(this)}).call(this,o("_process"))},{"./common":5,_process:12}],5:[function(o,s){s.exports=function(a){function u(c){function h(...S){if(!h.enabled)return;const M=h,k=+new Date,_=k-(p||k);M.diff=_,M.prev=p,M.curr=k,p=k,S[0]=u.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let g=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(C,R)=>{if(C==="%%")return"%";g++;const x=u.formatters[R];if(typeof x=="function"){const D=S[g];C=x.call(M,D),S.splice(g,1),g--}return C}),u.formatArgs.call(M,S),(M.log||u.log).apply(M,S)}let p,y=null;return h.namespace=c,h.useColors=u.useColors(),h.color=u.selectColor(c),h.extend=d,h.destroy=u.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>y===null?u.enabled(c):y,set:S=>{y=S}}),typeof u.init=="function"&&u.init(h),h}function d(c,h){const p=u(this.namespace+(typeof h>"u"?":":h)+c);return p.log=this.log,p}function m(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}return u.debug=u,u.default=u,u.coerce=function(c){return c instanceof Error?c.stack||c.message:c},u.disable=function(){const c=[...u.names.map(m),...u.skips.map(m).map(h=>"-"+h)].join(",");return u.enable(""),c},u.enable=function(c){u.save(c),u.names=[],u.skips=[];let h;const p=(typeof c=="string"?c:"").split(/[\s,]+/),y=p.length;for(h=0;h<y;h++)p[h]&&(c=p[h].replace(/\*/g,".*?"),c[0]==="-"?u.skips.push(new RegExp("^"+c.substr(1)+"$")):u.names.push(new RegExp("^"+c+"$")))},u.enabled=function(c){if(c[c.length-1]==="*")return!0;let h,p;for(h=0,p=u.skips.length;h<p;h++)if(u.skips[h].test(c))return!1;for(h=0,p=u.names.length;h<p;h++)if(u.names[h].test(c))return!0;return!1},u.humanize=o("ms"),u.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(a).forEach(c=>{u[c]=a[c]}),u.names=[],u.skips=[],u.formatters={},u.selectColor=function(c){let h=0;for(let p=0;p<c.length;p++)h=(h<<5)-h+c.charCodeAt(p),h|=0;return u.colors[r(h)%u.colors.length]},u.enable(u.load()),u}},{ms:11}],6:[function(o,s){function a(u,d){for(const m in d)Object.defineProperty(u,m,{value:d[m],enumerable:!0,configurable:!0});return u}s.exports=function(u,d,m){if(!u||typeof u=="string")throw new TypeError("Please pass an Error to err-code");m||(m={}),typeof d=="object"&&(m=d,d=""),d&&(m.code=d);try{return a(u,m)}catch{m.message=u.message,m.stack=u.stack;const h=function(){};return h.prototype=Object.create(Object.getPrototypeOf(u)),a(new h,m)}}},{}],7:[function(o,s){function a(T){console&&console.warn&&console.warn(T)}function u(){u.init.call(this)}function d(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}function m(T){return T._maxListeners===void 0?u.defaultMaxListeners:T._maxListeners}function c(T,L,F,U){var V,K,J;if(d(F),K=T._events,K===void 0?(K=T._events=Object.create(null),T._eventsCount=0):(K.newListener!==void 0&&(T.emit("newListener",L,F.listener?F.listener:F),K=T._events),J=K[L]),J===void 0)J=K[L]=F,++T._eventsCount;else if(typeof J=="function"?J=K[L]=U?[F,J]:[J,F]:U?J.unshift(F):J.push(F),V=m(T),0<V&&J.length>V&&!J.warned){J.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+(L+" listeners added. Use emitter.setMaxListeners() to increase limit"));ee.name="MaxListenersExceededWarning",ee.emitter=T,ee.type=L,ee.count=J.length,a(ee)}return T}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(T,L,F){var U={fired:!1,wrapFn:void 0,target:T,type:L,listener:F},V=h.bind(U);return V.listener=F,U.wrapFn=V,V}function y(T,L,F){var U=T._events;if(U===void 0)return[];var V=U[L];return V===void 0?[]:typeof V=="function"?F?[V.listener||V]:[V]:F?_(V):M(V,V.length)}function S(T){var L=this._events;if(L!==void 0){var F=L[T];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}function M(T,L){for(var F=Array(L),U=0;U<L;++U)F[U]=T[U];return F}function k(T,L){for(;L+1<T.length;L++)T[L]=T[L+1];T.pop()}function _(T){for(var L=Array(T.length),F=0;F<L.length;++F)L[F]=T[F].listener||T[F];return L}function g(T,L,F){typeof T.on=="function"&&w(T,"error",L,F)}function w(T,L,F,U){if(typeof T.on=="function")U.once?T.once(L,F):T.on(L,F);else if(typeof T.addEventListener=="function")T.addEventListener(L,function V(K){U.once&&T.removeEventListener(L,V),F(K)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}var C,R=typeof Reflect=="object"?Reflect:null,x=R&&typeof R.apply=="function"?R.apply:function(T,L,F){return Function.prototype.apply.call(T,L,F)};C=R&&typeof R.ownKeys=="function"?R.ownKeys:Object.getOwnPropertySymbols?function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:function(T){return Object.getOwnPropertyNames(T)};var D=Number.isNaN||function(T){return T!==T};s.exports=u,s.exports.once=function(T,L){return new Promise(function(F,U){function V(J){T.removeListener(L,K),U(J)}function K(){typeof T.removeListener=="function"&&T.removeListener("error",V),F([].slice.call(arguments))}w(T,L,K,{once:!0}),L!=="error"&&g(T,V,{once:!0})})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var j=10;Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return j},set:function(T){if(typeof T!="number"||0>T||D(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");j=T}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(T){if(typeof T!="number"||0>T||D(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this},u.prototype.getMaxListeners=function(){return m(this)},u.prototype.emit=function(T){for(var L=[],F=1;F<arguments.length;F++)L.push(arguments[F]);var U=T==="error",V=this._events;if(V!==void 0)U=U&&V.error===void 0;else if(!U)return!1;if(U){var K;if(0<L.length&&(K=L[0]),K instanceof Error)throw K;var J=new Error("Unhandled error."+(K?" ("+K.message+")":""));throw J.context=K,J}var ee=V[T];if(ee===void 0)return!1;if(typeof ee=="function")x(ee,this,L);else for(var $=ee.length,I=M(ee,$),F=0;F<$;++F)x(I[F],this,L);return!0},u.prototype.addListener=function(T,L){return c(this,T,L,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(T,L){return c(this,T,L,!0)},u.prototype.once=function(T,L){return d(L),this.on(T,p(this,T,L)),this},u.prototype.prependOnceListener=function(T,L){return d(L),this.prependListener(T,p(this,T,L)),this},u.prototype.removeListener=function(T,L){var F,U,V,K,J;if(d(L),U=this._events,U===void 0)return this;if(F=U[T],F===void 0)return this;if(F===L||F.listener===L)--this._eventsCount==0?this._events=Object.create(null):(delete U[T],U.removeListener&&this.emit("removeListener",T,F.listener||L));else if(typeof F!="function"){for(V=-1,K=F.length-1;0<=K;K--)if(F[K]===L||F[K].listener===L){J=F[K].listener,V=K;break}if(0>V)return this;V===0?F.shift():k(F,V),F.length===1&&(U[T]=F[0]),U.removeListener!==void 0&&this.emit("removeListener",T,J||L)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(T){var L,F,U;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[T]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete F[T]),this;if(arguments.length===0){var V,K=Object.keys(F);for(U=0;U<K.length;++U)V=K[U],V!=="removeListener"&&this.removeAllListeners(V);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=F[T],typeof L=="function")this.removeListener(T,L);else if(L!==void 0)for(U=L.length-1;0<=U;U--)this.removeListener(T,L[U]);return this},u.prototype.listeners=function(T){return y(this,T,!0)},u.prototype.rawListeners=function(T){return y(this,T,!1)},u.listenerCount=function(T,L){return typeof T.listenerCount=="function"?T.listenerCount(L):S.call(T,L)},u.prototype.listenerCount=S,u.prototype.eventNames=function(){return 0<this._eventsCount?C(this._events):[]}},{}],8:[function(o,s){s.exports=function(){if(typeof globalThis>"u")return null;var a={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return a.RTCPeerConnection?a:null}},{}],9:[function(o,s,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(u,d,m,c,h){var p,y,S=8*h-c-1,M=(1<<S)-1,k=M>>1,_=-7,g=m?h-1:0,w=m?-1:1,C=u[d+g];for(g+=w,p=C&(1<<-_)-1,C>>=-_,_+=S;0<_;p=256*p+u[d+g],g+=w,_-=8);for(y=p&(1<<-_)-1,p>>=-_,_+=c;0<_;y=256*y+u[d+g],g+=w,_-=8);if(p===0)p=1-k;else{if(p===M)return y?NaN:(C?-1:1)*(1/0);y+=i(2,c),p-=k}return(C?-1:1)*y*i(2,p-c)},a.write=function(u,d,m,c,h,p){var y,S,M,k=Math.LN2,_=Math.log,g=8*p-h-1,w=(1<<g)-1,C=w>>1,R=h===23?i(2,-24)-i(2,-77):0,x=c?0:p-1,D=c?1:-1,j=0>d||d===0&&0>1/d?1:0;for(d=r(d),isNaN(d)||d===1/0?(S=isNaN(d)?1:0,y=w):(y=n(_(d)/k),1>d*(M=i(2,-y))&&(y--,M*=2),d+=1<=y+C?R/M:R*i(2,1-C),2<=d*M&&(y++,M/=2),y+C>=w?(S=0,y=w):1<=y+C?(S=(d*M-1)*i(2,h),y+=C):(S=d*i(2,C-1)*i(2,h),y=0));8<=h;u[m+x]=255&S,x+=D,S/=256,h-=8);for(y=y<<h|S,g+=h;0<g;u[m+x]=255&y,x+=D,y/=256,g-=8);u[m+x-D]|=128*j}},{}],10:[function(o,s){s.exports=typeof Object.create=="function"?function(a,u){u&&(a.super_=u,a.prototype=Object.create(u.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:function(a,u){if(u){a.super_=u;var d=function(){};d.prototype=u.prototype,a.prototype=new d,a.prototype.constructor=a}}},{}],11:[function(o,s){var a=Math.round;function u(h){if(h+="",!(100<h.length)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(p){var y=parseFloat(p[1]),S=(p[2]||"ms").toLowerCase();return S==="years"||S==="year"||S==="yrs"||S==="yr"||S==="y"?315576e5*y:S==="weeks"||S==="week"||S==="w"?6048e5*y:S==="days"||S==="day"||S==="d"?864e5*y:S==="hours"||S==="hour"||S==="hrs"||S==="hr"||S==="h"?36e5*y:S==="minutes"||S==="minute"||S==="mins"||S==="min"||S==="m"?6e4*y:S==="seconds"||S==="second"||S==="secs"||S==="sec"||S==="s"?1e3*y:S==="milliseconds"||S==="millisecond"||S==="msecs"||S==="msec"||S==="ms"?y:void 0}}}function d(h){var p=r(h);return 864e5<=p?a(h/864e5)+"d":36e5<=p?a(h/36e5)+"h":6e4<=p?a(h/6e4)+"m":1e3<=p?a(h/1e3)+"s":h+"ms"}function m(h){var p=r(h);return 864e5<=p?c(h,p,864e5,"day"):36e5<=p?c(h,p,36e5,"hour"):6e4<=p?c(h,p,6e4,"minute"):1e3<=p?c(h,p,1e3,"second"):h+" ms"}function c(h,p,y,S){return a(h/y)+" "+S+(p>=1.5*y?"s":"")}s.exports=function(h,p){p=p||{};var y=typeof h;if(y=="string"&&0<h.length)return u(h);if(y==="number"&&isFinite(h))return p.long?m(h):d(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},{}],12:[function(o,s){function a(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function d(R){if(S===setTimeout)return setTimeout(R,0);if((S===a||!S)&&setTimeout)return S=setTimeout,setTimeout(R,0);try{return S(R,0)}catch{try{return S.call(null,R,0)}catch{return S.call(this,R,0)}}}function m(R){if(M===clearTimeout)return clearTimeout(R);if((M===u||!M)&&clearTimeout)return M=clearTimeout,clearTimeout(R);try{return M(R)}catch{try{return M.call(null,R)}catch{return M.call(this,R)}}}function c(){w&&_&&(w=!1,_.length?g=_.concat(g):C=-1,g.length&&h())}function h(){if(!w){var R=d(c);w=!0;for(var x=g.length;x;){for(_=g,g=[];++C<x;)_&&_[C].run();C=-1,x=g.length}_=null,w=!1,m(R)}}function p(R,x){this.fun=R,this.array=x}function y(){}var S,M,k=s.exports={};(function(){try{S=typeof setTimeout=="function"?setTimeout:a}catch{S=a}try{M=typeof clearTimeout=="function"?clearTimeout:u}catch{M=u}})();var _,g=[],w=!1,C=-1;k.nextTick=function(R){var x=Array(arguments.length-1);if(1<arguments.length)for(var D=1;D<arguments.length;D++)x[D-1]=arguments[D];g.push(new p(R,x)),g.length!==1||w||d(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=y,k.addListener=y,k.once=y,k.off=y,k.removeListener=y,k.removeAllListeners=y,k.emit=y,k.prependListener=y,k.prependOnceListener=y,k.listeners=function(){return[]},k.binding=function(){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},{}],13:[function(o,s){(function(a){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let u;s.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?a:window):d=>(u||(u=Promise.resolve())).then(d).catch(m=>setTimeout(()=>{throw m},0))}).call(this)}).call(this,typeof Nt>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Nt)},{}],14:[function(o,s){(function(a,u){(function(){var d=o("safe-buffer").Buffer,m=u.crypto||u.msCrypto;s.exports=m&&m.getRandomValues?function(c,h){if(c>4294967295)throw new RangeError("requested too many random bytes");var p=d.allocUnsafe(c);if(0<c)if(65536<c)for(var y=0;y<c;y+=65536)m.getRandomValues(p.slice(y,y+65536));else m.getRandomValues(p);return typeof h=="function"?a.nextTick(function(){h(null,p)}):p}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,o("_process"),typeof Nt>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Nt)},{_process:12,"safe-buffer":30}],15:[function(o,s){function a(y,S){y.prototype=Object.create(S.prototype),y.prototype.constructor=y,y.__proto__=S}function u(y,S,M){function k(g,w,C){return typeof S=="string"?S:S(g,w,C)}M||(M=Error);var _=function(g){function w(C,R,x){return g.call(this,k(C,R,x))||this}return a(w,g),w}(M);_.prototype.name=M.name,_.prototype.code=y,p[y]=_}function d(y,S){if(Array.isArray(y)){var M=y.length;return y=y.map(function(k){return k+""}),2<M?"one of ".concat(S," ").concat(y.slice(0,M-1).join(", "),", or ")+y[M-1]:M===2?"one of ".concat(S," ").concat(y[0]," or ").concat(y[1]):"of ".concat(S," ").concat(y[0])}return"of ".concat(S," ").concat(y+"")}function m(y,S,M){return y.substr(0,S.length)===S}function c(y,S,M){return(M===void 0||M>y.length)&&(M=y.length),y.substring(M-S.length,M)===S}function h(y,S,M){return typeof M!="number"&&(M=0),!(M+S.length>y.length)&&y.indexOf(S,M)!==-1}var p={};u("ERR_INVALID_OPT_VALUE",function(y,S){return'The value "'+S+'" is invalid for option "'+y+'"'},TypeError),u("ERR_INVALID_ARG_TYPE",function(y,S,M){var k;typeof S=="string"&&m(S,"not ")?(k="must not be",S=S.replace(/^not /,"")):k="must be";var _;if(c(y," argument"))_="The ".concat(y," ").concat(k," ").concat(d(S,"type"));else{var g=h(y,".")?"property":"argument";_='The "'.concat(y,'" ').concat(g," ").concat(k," ").concat(d(S,"type"))}return _+=". Received type ".concat(typeof M),_},TypeError),u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),u("ERR_METHOD_NOT_IMPLEMENTED",function(y){return"The "+y+" method is not implemented"}),u("ERR_STREAM_PREMATURE_CLOSE","Premature close"),u("ERR_STREAM_DESTROYED",function(y){return"Cannot call "+y+" after a stream was destroyed"}),u("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),u("ERR_STREAM_WRITE_AFTER_END","write after end"),u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),u("ERR_UNKNOWN_ENCODING",function(y){return"Unknown encoding: "+y},TypeError),u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=p},{}],16:[function(o,s){(function(a){(function(){function u(k){return this instanceof u?(h.call(this,k),p.call(this,k),this.allowHalfOpen=!0,void(k&&(k.readable===!1&&(this.readable=!1),k.writable===!1&&(this.writable=!1),k.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d))))):new u(k)}function d(){this._writableState.ended||a.nextTick(m,this)}function m(k){k.end()}var c=Object.keys||function(k){var _=[];for(var g in k)_.push(g);return _};s.exports=u;var h=o("./_stream_readable"),p=o("./_stream_writable");o("inherits")(u,h);for(var y,S=c(p.prototype),M=0;M<S.length;M++)y=S[M],u.prototype[y]||(u.prototype[y]=p.prototype[y]);Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})}).call(this)}).call(this,o("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(o,s){function a(d){return this instanceof a?void u.call(this,d):new a(d)}s.exports=a;var u=o("./_stream_transform");o("inherits")(a,u),a.prototype._transform=function(d,m,c){c(null,d)}},{"./_stream_transform":19,inherits:10}],18:[function(o,s){(function(a,u){(function(){function d(b){return ae.from(b)}function m(b){return ae.isBuffer(b)||b instanceof ue}function c(b,l,f){return typeof b.prependListener=="function"?b.prependListener(l,f):void(b._events&&b._events[l]?Array.isArray(b._events[l])?b._events[l].unshift(f):b._events[l]=[f,b._events[l]]:b.on(l,f))}function h(b,l,f){$=$||o("./_stream_duplex"),b=b||{},typeof f!="boolean"&&(f=l instanceof $),this.objectMode=!!b.objectMode,f&&(this.objectMode=this.objectMode||!!b.readableObjectMode),this.highWaterMark=hi(this,b,"readableHighWaterMark",f),this.buffer=new fi,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=b.emitClose!==!1,this.autoDestroy=!!b.autoDestroy,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(!Ie&&(Ie=o("string_decoder/").StringDecoder),this.decoder=new Ie(b.encoding),this.encoding=b.encoding)}function p(b){if($=$||o("./_stream_duplex"),!(this instanceof p))return new p(b);var l=this instanceof $;this._readableState=new h(b,this,l),this.readable=!0,b&&(typeof b.read=="function"&&(this._read=b.read),typeof b.destroy=="function"&&(this._destroy=b.destroy)),Z.call(this)}function y(b,l,f,v,A){I("readableAddChunk",l);var N=b._readableState;if(l===null)N.reading=!1,g(b,N);else{var z;if(A||(z=M(N,l)),z)W(b,z);else if(!(N.objectMode||l&&0<l.length))v||(N.reading=!1,R(b,N));else if(typeof l=="string"||N.objectMode||Object.getPrototypeOf(l)===ae.prototype||(l=d(l)),v)N.endEmitted?W(b,new P):S(b,N,l,!0);else if(N.ended)W(b,new Tt);else{if(N.destroyed)return!1;N.reading=!1,N.decoder&&!f?(l=N.decoder.write(l),N.objectMode||l.length!==0?S(b,N,l,!1):R(b,N)):S(b,N,l,!1)}}return!N.ended&&(N.length<N.highWaterMark||N.length===0)}function S(b,l,f,v){l.flowing&&l.length===0&&!l.sync?(l.awaitDrain=0,b.emit("data",f)):(l.length+=l.objectMode?1:f.length,v?l.buffer.unshift(f):l.buffer.push(f),l.needReadable&&w(b)),R(b,l)}function M(b,l){var f;return m(l)||typeof l=="string"||l===void 0||b.objectMode||(f=new Et("chunk",["string","Buffer","Uint8Array"],l)),f}function k(b){return 1073741824<=b?b=1073741824:(b--,b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,b|=b>>>16,b++),b}function _(b,l){return 0>=b||l.length===0&&l.ended?0:l.objectMode?1:b===b?(b>l.highWaterMark&&(l.highWaterMark=k(b)),b<=l.length?b:l.ended?l.length:(l.needReadable=!0,0)):l.flowing&&l.length?l.buffer.head.data.length:l.length}function g(b,l){if(I("onEofChunk"),!l.ended){if(l.decoder){var f=l.decoder.end();f&&f.length&&(l.buffer.push(f),l.length+=l.objectMode?1:f.length)}l.ended=!0,l.sync?w(b):(l.needReadable=!1,!l.emittedReadable&&(l.emittedReadable=!0,C(b)))}}function w(b){var l=b._readableState;I("emitReadable",l.needReadable,l.emittedReadable),l.needReadable=!1,l.emittedReadable||(I("emitReadable",l.flowing),l.emittedReadable=!0,a.nextTick(C,b))}function C(b){var l=b._readableState;I("emitReadable_",l.destroyed,l.length,l.ended),!l.destroyed&&(l.length||l.ended)&&(b.emit("readable"),l.emittedReadable=!1),l.needReadable=!l.flowing&&!l.ended&&l.length<=l.highWaterMark,U(b)}function R(b,l){l.readingMore||(l.readingMore=!0,a.nextTick(x,b,l))}function x(b,l){for(;!l.reading&&!l.ended&&(l.length<l.highWaterMark||l.flowing&&l.length===0);){var f=l.length;if(I("maybeReadMore read 0"),b.read(0),f===l.length)break}l.readingMore=!1}function D(b){return function(){var l=b._readableState;I("pipeOnDrain",l.awaitDrain),l.awaitDrain&&l.awaitDrain--,l.awaitDrain===0&&Y(b,"data")&&(l.flowing=!0,U(b))}}function j(b){var l=b._readableState;l.readableListening=0<b.listenerCount("readable"),l.resumeScheduled&&!l.paused?l.flowing=!0:0<b.listenerCount("data")&&b.resume()}function T(b){I("readable nexttick read 0"),b.read(0)}function L(b,l){l.resumeScheduled||(l.resumeScheduled=!0,a.nextTick(F,b,l))}function F(b,l){I("resume",l.reading),l.reading||b.read(0),l.resumeScheduled=!1,b.emit("resume"),U(b),l.flowing&&!l.reading&&b.read(0)}function U(b){var l=b._readableState;for(I("flow",l.flowing);l.flowing&&b.read()!==null;);}function V(b,l){if(l.length===0)return null;var f;return l.objectMode?f=l.buffer.shift():!b||b>=l.length?(f=l.decoder?l.buffer.join(""):l.buffer.length===1?l.buffer.first():l.buffer.concat(l.length),l.buffer.clear()):f=l.buffer.consume(b,l.decoder),f}function K(b){var l=b._readableState;I("endReadable",l.endEmitted),l.endEmitted||(l.ended=!0,a.nextTick(J,l,b))}function J(b,l){if(I("endReadableNT",b.endEmitted,b.length),!b.endEmitted&&b.length===0&&(b.endEmitted=!0,l.readable=!1,l.emit("end"),b.autoDestroy)){var f=l._writableState;(!f||f.autoDestroy&&f.finished)&&l.destroy()}}function ee(b,l){for(var f=0,v=b.length;f<v;f++)if(b[f]===l)return f;return-1}s.exports=p;var $;p.ReadableState=h;var I;o("events").EventEmitter;var Y=function(b,l){return b.listeners(l).length},Z=o("./internal/streams/stream"),ae=o("buffer").Buffer,ue=u.Uint8Array||function(){},ne=o("util");I=ne&&ne.debuglog?ne.debuglog("stream"):function(){};var Ie,Re,st,fi=o("./internal/streams/buffer_list"),$n=o("./internal/streams/destroy"),Wn=o("./internal/streams/state"),hi=Wn.getHighWaterMark,mn=o("../errors").codes,Et=mn.ERR_INVALID_ARG_TYPE,Tt=mn.ERR_STREAM_PUSH_AFTER_EOF,O=mn.ERR_METHOD_NOT_IMPLEMENTED,P=mn.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("inherits")(p,Z);var W=$n.errorOrDestroy,G=["error","close","destroy","pause","resume"];Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(b){this._readableState&&(this._readableState.destroyed=b)}}),p.prototype.destroy=$n.destroy,p.prototype._undestroy=$n.undestroy,p.prototype._destroy=function(b,l){l(b)},p.prototype.push=function(b,l){var f,v=this._readableState;return v.objectMode?f=!0:typeof b=="string"&&(l=l||v.defaultEncoding,l!==v.encoding&&(b=ae.from(b,l),l=""),f=!0),y(this,b,l,!1,f)},p.prototype.unshift=function(b){return y(this,b,null,!0,!1)},p.prototype.isPaused=function(){return this._readableState.flowing===!1},p.prototype.setEncoding=function(b){Ie||(Ie=o("string_decoder/").StringDecoder);var l=new Ie(b);this._readableState.decoder=l,this._readableState.encoding=this._readableState.decoder.encoding;for(var f=this._readableState.buffer.head,v="";f!==null;)v+=l.write(f.data),f=f.next;return this._readableState.buffer.clear(),v!==""&&this._readableState.buffer.push(v),this._readableState.length=v.length,this},p.prototype.read=function(b){I("read",b),b=parseInt(b,10);var l=this._readableState,f=b;if(b!==0&&(l.emittedReadable=!1),b===0&&l.needReadable&&((l.highWaterMark===0?0<l.length:l.length>=l.highWaterMark)||l.ended))return I("read: emitReadable",l.length,l.ended),l.length===0&&l.ended?K(this):w(this),null;if(b=_(b,l),b===0&&l.ended)return l.length===0&&K(this),null;var v=l.needReadable;I("need readable",v),(l.length===0||l.length-b<l.highWaterMark)&&(v=!0,I("length less than watermark",v)),l.ended||l.reading?(v=!1,I("reading or ended",v)):v&&(I("do read"),l.reading=!0,l.sync=!0,l.length===0&&(l.needReadable=!0),this._read(l.highWaterMark),l.sync=!1,!l.reading&&(b=_(f,l)));var A;return A=0<b?V(b,l):null,A===null?(l.needReadable=l.length<=l.highWaterMark,b=0):(l.length-=b,l.awaitDrain=0),l.length===0&&(!l.ended&&(l.needReadable=!0),f!==b&&l.ended&&K(this)),A!==null&&this.emit("data",A),A},p.prototype._read=function(){W(this,new O("_read()"))},p.prototype.pipe=function(b,l){function f(yr,vr){I("onunpipe"),yr===se&&vr&&vr.hasUnpiped===!1&&(vr.hasUnpiped=!0,A())}function v(){I("onend"),b.end()}function A(){I("cleanup"),b.removeListener("close",Q),b.removeListener("finish",oe),b.removeListener("drain",mr),b.removeListener("error",z),b.removeListener("unpipe",f),se.removeListener("end",v),se.removeListener("end",ye),se.removeListener("data",N),pi=!0,re.awaitDrain&&(!b._writableState||b._writableState.needDrain)&&mr()}function N(yr){I("ondata");var vr=b.write(yr);I("dest.write",vr),vr===!1&&((re.pipesCount===1&&re.pipes===b||1<re.pipesCount&&ee(re.pipes,b)!==-1)&&!pi&&(I("false write response, pause",re.awaitDrain),re.awaitDrain++),se.pause())}function z(yr){I("onerror",yr),ye(),b.removeListener("error",z),Y(b,"error")===0&&W(b,yr)}function Q(){b.removeListener("finish",oe),ye()}function oe(){I("onfinish"),b.removeListener("close",Q),ye()}function ye(){I("unpipe"),se.unpipe(b)}var se=this,re=this._readableState;switch(re.pipesCount){case 0:re.pipes=b;break;case 1:re.pipes=[re.pipes,b];break;default:re.pipes.push(b)}re.pipesCount+=1,I("pipe count=%d opts=%j",re.pipesCount,l);var Ue=(!l||l.end!==!1)&&b!==a.stdout&&b!==a.stderr,Vn=Ue?v:ye;re.endEmitted?a.nextTick(Vn):se.once("end",Vn),b.on("unpipe",f);var mr=D(se);b.on("drain",mr);var pi=!1;return se.on("data",N),c(b,"error",z),b.once("close",Q),b.once("finish",oe),b.emit("pipe",se),re.flowing||(I("pipe resume"),se.resume()),b},p.prototype.unpipe=function(b){var l=this._readableState,f={hasUnpiped:!1};if(l.pipesCount===0)return this;if(l.pipesCount===1)return b&&b!==l.pipes?this:(b||(b=l.pipes),l.pipes=null,l.pipesCount=0,l.flowing=!1,b&&b.emit("unpipe",this,f),this);if(!b){var v=l.pipes,A=l.pipesCount;l.pipes=null,l.pipesCount=0,l.flowing=!1;for(var N=0;N<A;N++)v[N].emit("unpipe",this,{hasUnpiped:!1});return this}var z=ee(l.pipes,b);return z===-1?this:(l.pipes.splice(z,1),l.pipesCount-=1,l.pipesCount===1&&(l.pipes=l.pipes[0]),b.emit("unpipe",this,f),this)},p.prototype.on=function(b,l){var f=Z.prototype.on.call(this,b,l),v=this._readableState;return b==="data"?(v.readableListening=0<this.listenerCount("readable"),v.flowing!==!1&&this.resume()):b=="readable"&&!v.endEmitted&&!v.readableListening&&(v.readableListening=v.needReadable=!0,v.flowing=!1,v.emittedReadable=!1,I("on readable",v.length,v.reading),v.length?w(this):!v.reading&&a.nextTick(T,this)),f},p.prototype.addListener=p.prototype.on,p.prototype.removeListener=function(b,l){var f=Z.prototype.removeListener.call(this,b,l);return b==="readable"&&a.nextTick(j,this),f},p.prototype.removeAllListeners=function(b){var l=Z.prototype.removeAllListeners.apply(this,arguments);return(b==="readable"||b===void 0)&&a.nextTick(j,this),l},p.prototype.resume=function(){var b=this._readableState;return b.flowing||(I("resume"),b.flowing=!b.readableListening,L(this,b)),b.paused=!1,this},p.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},p.prototype.wrap=function(b){var l=this,f=this._readableState,v=!1;for(var A in b.on("end",function(){if(I("wrapped end"),f.decoder&&!f.ended){var z=f.decoder.end();z&&z.length&&l.push(z)}l.push(null)}),b.on("data",function(z){if(I("wrapped data"),f.decoder&&(z=f.decoder.write(z)),!(f.objectMode&&z==null)&&(f.objectMode||z&&z.length)){var Q=l.push(z);Q||(v=!0,b.pause())}}),b)this[A]===void 0&&typeof b[A]=="function"&&(this[A]=function(z){return function(){return b[z].apply(b,arguments)}}(A));for(var N=0;N<G.length;N++)b.on(G[N],this.emit.bind(this,G[N]));return this._read=function(z){I("wrapped _read",z),v&&(v=!1,b.resume())},this},typeof Symbol=="function"&&(p.prototype[Symbol.asyncIterator]=function(){return Re===void 0&&(Re=o("./internal/streams/async_iterator")),Re(this)}),Object.defineProperty(p.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(p.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(p.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}}),p._fromList=V,Object.defineProperty(p.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(p.from=function(b,l){return st===void 0&&(st=o("./internal/streams/from")),st(p,b,l)})}).call(this)}).call(this,o("_process"),typeof Nt>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Nt)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(o,s){function a(k,_){var g=this._transformState;g.transforming=!1;var w=g.writecb;if(w===null)return this.emit("error",new p);g.writechunk=null,g.writecb=null,_!=null&&this.push(_),w(k);var C=this._readableState;C.reading=!1,(C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}function u(k){return this instanceof u?(M.call(this,k),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,k&&(typeof k.transform=="function"&&(this._transform=k.transform),typeof k.flush=="function"&&(this._flush=k.flush)),void this.on("prefinish",d)):new u(k)}function d(){var k=this;typeof this._flush!="function"||this._readableState.destroyed?m(this,null,null):this._flush(function(_,g){m(k,_,g)})}function m(k,_,g){if(_)return k.emit("error",_);if(g!=null&&k.push(g),k._writableState.length)throw new S;if(k._transformState.transforming)throw new y;return k.push(null)}s.exports=u;var c=o("../errors").codes,h=c.ERR_METHOD_NOT_IMPLEMENTED,p=c.ERR_MULTIPLE_CALLBACK,y=c.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=c.ERR_TRANSFORM_WITH_LENGTH_0,M=o("./_stream_duplex");o("inherits")(u,M),u.prototype.push=function(k,_){return this._transformState.needTransform=!1,M.prototype.push.call(this,k,_)},u.prototype._transform=function(k,_,g){g(new h("_transform()"))},u.prototype._write=function(k,_,g){var w=this._transformState;if(w.writecb=g,w.writechunk=k,w.writeencoding=_,!w.transforming){var C=this._readableState;(w.needTransform||C.needReadable||C.length<C.highWaterMark)&&this._read(C.highWaterMark)}},u.prototype._read=function(){var k=this._transformState;k.writechunk===null||k.transforming?k.needTransform=!0:(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform))},u.prototype._destroy=function(k,_){M.prototype._destroy.call(this,k,function(g){_(g)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(o,s){(function(a,u){(function(){function d(O){var P=this;this.next=null,this.entry=null,this.finish=function(){K(P,O)}}function m(O){return I.from(O)}function c(O){return I.isBuffer(O)||O instanceof Y}function h(){}function p(O,P,W){J=J||o("./_stream_duplex"),O=O||{},typeof W!="boolean"&&(W=P instanceof J),this.objectMode=!!O.objectMode,W&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=ue(this,O,"writableHighWaterMark",W),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=O.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(b){R(P,b)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function y(O){J=J||o("./_stream_duplex");var P=this instanceof J;return P||Tt.call(y,this)?(this._writableState=new p(O,this,P),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),void $.call(this)):new y(O)}function S(O,P){var W=new hi;Et(O,W),a.nextTick(P,W)}function M(O,P,W,G){var b;return W===null?b=new Wn:typeof W!="string"&&!P.objectMode&&(b=new Ie("chunk",["string","Buffer"],W)),!b||(Et(O,b),a.nextTick(G,b),!1)}function k(O,P,W){return O.objectMode||O.decodeStrings===!1||typeof P!="string"||(P=I.from(P,W)),P}function _(O,P,W,G,b,l){if(!W){var f=k(P,G,b);G!==f&&(W=!0,b="buffer",G=f)}var v=P.objectMode?1:G.length;P.length+=v;var A=P.length<P.highWaterMark;if(A||(P.needDrain=!0),P.writing||P.corked){var N=P.lastBufferedRequest;P.lastBufferedRequest={chunk:G,encoding:b,isBuf:W,callback:l,next:null},N?N.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else g(O,P,!1,v,G,b,l);return A}function g(O,P,W,G,b,l,f){P.writelen=G,P.writecb=f,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new $n("write")):W?O._writev(b,P.onwrite):O._write(b,l,P.onwrite),P.sync=!1}function w(O,P,W,G,b){--P.pendingcb,W?(a.nextTick(b,G),a.nextTick(U,O,P),O._writableState.errorEmitted=!0,Et(O,G)):(b(G),O._writableState.errorEmitted=!0,Et(O,G),U(O,P))}function C(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function R(O,P){var W=O._writableState,G=W.sync,b=W.writecb;if(typeof b!="function")throw new st;if(C(W),P)w(O,W,G,P,b);else{var l=T(W)||O.destroyed;l||W.corked||W.bufferProcessing||!W.bufferedRequest||j(O,W),G?a.nextTick(x,O,W,l,b):x(O,W,l,b)}}function x(O,P,W,G){W||D(O,P),P.pendingcb--,G(),U(O,P)}function D(O,P){P.length===0&&P.needDrain&&(P.needDrain=!1,O.emit("drain"))}function j(O,P){P.bufferProcessing=!0;var W=P.bufferedRequest;if(O._writev&&W&&W.next){var G=P.bufferedRequestCount,b=Array(G),l=P.corkedRequestsFree;l.entry=W;for(var f=0,v=!0;W;)b[f]=W,W.isBuf||(v=!1),W=W.next,f+=1;b.allBuffers=v,g(O,P,!0,P.length,b,"",l.finish),P.pendingcb++,P.lastBufferedRequest=null,l.next?(P.corkedRequestsFree=l.next,l.next=null):P.corkedRequestsFree=new d(P),P.bufferedRequestCount=0}else{for(;W;){var A=W.chunk,N=W.encoding,z=W.callback,Q=P.objectMode?1:A.length;if(g(O,P,!1,Q,A,N,z),W=W.next,P.bufferedRequestCount--,P.writing)break}W===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=W,P.bufferProcessing=!1}function T(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function L(O,P){O._final(function(W){P.pendingcb--,W&&Et(O,W),P.prefinished=!0,O.emit("prefinish"),U(O,P)})}function F(O,P){P.prefinished||P.finalCalled||(typeof O._final!="function"||P.destroyed?(P.prefinished=!0,O.emit("prefinish")):(P.pendingcb++,P.finalCalled=!0,a.nextTick(L,O,P)))}function U(O,P){var W=T(P);if(W&&(F(O,P),P.pendingcb===0&&(P.finished=!0,O.emit("finish"),P.autoDestroy))){var G=O._readableState;(!G||G.autoDestroy&&G.endEmitted)&&O.destroy()}return W}function V(O,P,W){P.ending=!0,U(O,P),W&&(P.finished?a.nextTick(W):O.once("finish",W)),P.ended=!0,O.writable=!1}function K(O,P,W){var G=O.entry;for(O.entry=null;G;){var b=G.callback;P.pendingcb--,b(W),G=G.next}P.corkedRequestsFree.next=O}s.exports=y;var J;y.WritableState=p;var ee={deprecate:o("util-deprecate")},$=o("./internal/streams/stream"),I=o("buffer").Buffer,Y=u.Uint8Array||function(){},Z=o("./internal/streams/destroy"),ae=o("./internal/streams/state"),ue=ae.getHighWaterMark,ne=o("../errors").codes,Ie=ne.ERR_INVALID_ARG_TYPE,Re=ne.ERR_METHOD_NOT_IMPLEMENTED,st=ne.ERR_MULTIPLE_CALLBACK,fi=ne.ERR_STREAM_CANNOT_PIPE,$n=ne.ERR_STREAM_DESTROYED,Wn=ne.ERR_STREAM_NULL_VALUES,hi=ne.ERR_STREAM_WRITE_AFTER_END,mn=ne.ERR_UNKNOWN_ENCODING,Et=Z.errorOrDestroy;o("inherits")(y,$),p.prototype.getBuffer=function(){for(var O=this.bufferedRequest,P=[];O;)P.push(O),O=O.next;return P},function(){try{Object.defineProperty(p.prototype,"buffer",{get:ee.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Tt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Tt=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(O){return!!Tt.call(this,O)||this===y&&O&&O._writableState instanceof p}})):Tt=function(O){return O instanceof this},y.prototype.pipe=function(){Et(this,new fi)},y.prototype.write=function(O,P,W){var G=this._writableState,b=!1,l=!G.objectMode&&c(O);return l&&!I.isBuffer(O)&&(O=m(O)),typeof P=="function"&&(W=P,P=null),l?P="buffer":!P&&(P=G.defaultEncoding),typeof W!="function"&&(W=h),G.ending?S(this,W):(l||M(this,G,O,W))&&(G.pendingcb++,b=_(this,G,l,O,P,W)),b},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&j(this,O))},y.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())))throw new mn(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(O,P,W){W(new Re("_write()"))},y.prototype._writev=null,y.prototype.end=function(O,P,W){var G=this._writableState;return typeof O=="function"?(W=O,O=null,P=null):typeof P=="function"&&(W=P,P=null),O!=null&&this.write(O,P),G.corked&&(G.corked=1,this.uncork()),G.ending||V(this,G,W),this},Object.defineProperty(y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),y.prototype.destroy=Z.destroy,y.prototype._undestroy=Z.undestroy,y.prototype._destroy=function(O,P){P(O)}}).call(this)}).call(this,o("_process"),typeof Nt>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Nt)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(o,s){(function(a){(function(){function u(D,j,T){return j in D?Object.defineProperty(D,j,{value:T,enumerable:!0,configurable:!0,writable:!0}):D[j]=T,D}function d(D,j){return{value:D,done:j}}function m(D){var j=D[S];if(j!==null){var T=D[C].read();T!==null&&(D[g]=null,D[S]=null,D[M]=null,j(d(T,!1)))}}function c(D){a.nextTick(m,D)}function h(D,j){return function(T,L){D.then(function(){return j[_]?void T(d(void 0,!0)):void j[w](T,L)},L)}}var p,y=o("./end-of-stream"),S=Symbol("lastResolve"),M=Symbol("lastReject"),k=Symbol("error"),_=Symbol("ended"),g=Symbol("lastPromise"),w=Symbol("handlePromise"),C=Symbol("stream"),R=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((p={get stream(){return this[C]},next:function(){var D=this,j=this[k];if(j!==null)return Promise.reject(j);if(this[_])return Promise.resolve(d(void 0,!0));if(this[C].destroyed)return new Promise(function(U,V){a.nextTick(function(){D[k]?V(D[k]):U(d(void 0,!0))})});var T,L=this[g];if(L)T=new Promise(h(L,this));else{var F=this[C].read();if(F!==null)return Promise.resolve(d(F,!1));T=new Promise(this[w])}return this[g]=T,T}},u(p,Symbol.asyncIterator,function(){return this}),u(p,"return",function(){var D=this;return new Promise(function(j,T){D[C].destroy(null,function(L){return L?void T(L):void j(d(void 0,!0))})})}),p),R);s.exports=function(D){var j,T=Object.create(x,(j={},u(j,C,{value:D,writable:!0}),u(j,S,{value:null,writable:!0}),u(j,M,{value:null,writable:!0}),u(j,k,{value:null,writable:!0}),u(j,_,{value:D._readableState.endEmitted,writable:!0}),u(j,w,{value:function(L,F){var U=T[C].read();U?(T[g]=null,T[S]=null,T[M]=null,L(d(U,!1))):(T[S]=L,T[M]=F)},writable:!0}),j));return T[g]=null,y(D,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=T[M];return F!==null&&(T[g]=null,T[S]=null,T[M]=null,F(L)),void(T[k]=L)}var U=T[S];U!==null&&(T[g]=null,T[S]=null,T[M]=null,U(d(void 0,!0))),T[_]=!0}),D.on("readable",c.bind(null,T)),T}}).call(this)}).call(this,o("_process"))},{"./end-of-stream":24,_process:12}],22:[function(o,s){function a(g,w){var C=Object.keys(g);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(g);w&&(R=R.filter(function(x){return Object.getOwnPropertyDescriptor(g,x).enumerable})),C.push.apply(C,R)}return C}function u(g){for(var w,C=1;C<arguments.length;C++)w=arguments[C]==null?{}:arguments[C],C%2?a(Object(w),!0).forEach(function(R){d(g,R,w[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):a(Object(w)).forEach(function(R){Object.defineProperty(g,R,Object.getOwnPropertyDescriptor(w,R))});return g}function d(g,w,C){return w in g?Object.defineProperty(g,w,{value:C,enumerable:!0,configurable:!0,writable:!0}):g[w]=C,g}function m(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function c(g,w){for(var C,R=0;R<w.length;R++)C=w[R],C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(g,C.key,C)}function h(g,w,C){return w&&c(g.prototype,w),g}function p(g,w,C){S.prototype.copy.call(g,w,C)}var y=o("buffer"),S=y.Buffer,M=o("util"),k=M.inspect,_=k&&k.custom||"inspect";s.exports=function(){function g(){m(this,g),this.head=null,this.tail=null,this.length=0}return h(g,[{key:"push",value:function(w){var C={data:w,next:null};0<this.length?this.tail.next=C:this.head=C,this.tail=C,++this.length}},{key:"unshift",value:function(w){var C={data:w,next:this.head};this.length===0&&(this.tail=C),this.head=C,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var C=this.head,R=""+C.data;C=C.next;)R+=w+C.data;return R}},{key:"concat",value:function(w){if(this.length===0)return S.alloc(0);for(var C=S.allocUnsafe(w>>>0),R=this.head,x=0;R;)p(R.data,C,x),x+=R.data.length,R=R.next;return C}},{key:"consume",value:function(w,C){var R;return w<this.head.data.length?(R=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?R=this.shift():R=C?this._getString(w):this._getBuffer(w),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var C=this.head,R=1,x=C.data;for(w-=x.length;C=C.next;){var D=C.data,j=w>D.length?D.length:w;if(x+=j===D.length?D:D.slice(0,w),w-=j,w===0){j===D.length?(++R,this.head=C.next?C.next:this.tail=null):(this.head=C,C.data=D.slice(j));break}++R}return this.length-=R,x}},{key:"_getBuffer",value:function(w){var C=S.allocUnsafe(w),R=this.head,x=1;for(R.data.copy(C),w-=R.data.length;R=R.next;){var D=R.data,j=w>D.length?D.length:w;if(D.copy(C,C.length-w,0,j),w-=j,w===0){j===D.length?(++x,this.head=R.next?R.next:this.tail=null):(this.head=R,R.data=D.slice(j));break}++x}return this.length-=x,C}},{key:_,value:function(w,C){return k(this,u({},C,{depth:0,customInspect:!1}))}}]),g}()},{buffer:3,util:2}],23:[function(o,s){(function(a){(function(){function u(c,h){m(c,h),d(c)}function d(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function m(c,h){c.emit("error",h)}s.exports={destroy:function(c,h){var p=this,y=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return y||S?(h?h(c):c&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,a.nextTick(m,this,c)):a.nextTick(m,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(M){!h&&M?p._writableState?p._writableState.errorEmitted?a.nextTick(d,p):(p._writableState.errorEmitted=!0,a.nextTick(u,p,M)):a.nextTick(u,p,M):h?(a.nextTick(d,p),h(M)):a.nextTick(d,p)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(c,h){var p=c._readableState,y=c._writableState;p&&p.autoDestroy||y&&y.autoDestroy?c.destroy(h):c.emit("error",h)}}}).call(this)}).call(this,o("_process"))},{_process:12}],24:[function(o,s){function a(h){var p=!1;return function(){if(!p){p=!0;for(var y=arguments.length,S=Array(y),M=0;M<y;M++)S[M]=arguments[M];h.apply(this,S)}}}function u(){}function d(h){return h.setHeader&&typeof h.abort=="function"}function m(h,p,y){if(typeof p=="function")return m(h,null,p);p||(p={}),y=a(y||u);var S=p.readable||p.readable!==!1&&h.readable,M=p.writable||p.writable!==!1&&h.writable,k=function(){h.writable||g()},_=h._writableState&&h._writableState.finished,g=function(){M=!1,_=!0,S||y.call(h)},w=h._readableState&&h._readableState.endEmitted,C=function(){S=!1,w=!0,M||y.call(h)},R=function(j){y.call(h,j)},x=function(){var j;return S&&!w?(h._readableState&&h._readableState.ended||(j=new c),y.call(h,j)):M&&!_?(h._writableState&&h._writableState.ended||(j=new c),y.call(h,j)):void 0},D=function(){h.req.on("finish",g)};return d(h)?(h.on("complete",g),h.on("abort",x),h.req?D():h.on("request",D)):M&&!h._writableState&&(h.on("end",k),h.on("close",k)),h.on("end",C),h.on("finish",g),p.error!==!1&&h.on("error",R),h.on("close",x),function(){h.removeListener("complete",g),h.removeListener("abort",x),h.removeListener("request",D),h.req&&h.req.removeListener("finish",g),h.removeListener("end",k),h.removeListener("close",k),h.removeListener("finish",g),h.removeListener("end",C),h.removeListener("error",R),h.removeListener("close",x)}}var c=o("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;s.exports=m},{"../../../errors":15}],25:[function(o,s){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(o,s){function a(_){var g=!1;return function(){g||(g=!0,_.apply(void 0,arguments))}}function u(_){if(_)throw _}function d(_){return _.setHeader&&typeof _.abort=="function"}function m(_,g,w,C){C=a(C);var R=!1;_.on("close",function(){R=!0}),y===void 0&&(y=o("./end-of-stream")),y(_,{readable:g,writable:w},function(D){return D?C(D):(R=!0,void C())});var x=!1;return function(D){if(!R)return x?void 0:(x=!0,d(_)?_.abort():typeof _.destroy=="function"?_.destroy():void C(D||new k("pipe")))}}function c(_){_()}function h(_,g){return _.pipe(g)}function p(_){return _.length&&typeof _[_.length-1]=="function"?_.pop():u}var y,S=o("../../../errors").codes,M=S.ERR_MISSING_ARGS,k=S.ERR_STREAM_DESTROYED;s.exports=function(){for(var _=arguments.length,g=Array(_),w=0;w<_;w++)g[w]=arguments[w];var C=p(g);if(Array.isArray(g[0])&&(g=g[0]),2>g.length)throw new M("streams");var R,x=g.map(function(D,j){var T=j<g.length-1;return m(D,T,0<j,function(L){R||(R=L),L&&x.forEach(c),T||(x.forEach(c),C(R))})});return g.reduce(h)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(o,s){function a(d,m,c){return d.highWaterMark==null?m?d[c]:null:d.highWaterMark}var u=o("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(d,m,c,h){var p=a(m,h,c);if(p!=null){if(!(isFinite(p)&&n(p)===p)||0>p){var y=h?c:"highWaterMark";throw new u(y,p)}return n(p)}return d.objectMode?16:16384}}},{"../../../errors":15}],28:[function(o,s){s.exports=o("events").EventEmitter},{events:7}],29:[function(o,s,a){a=s.exports=o("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=o("./lib/_stream_writable.js"),a.Duplex=o("./lib/_stream_duplex.js"),a.Transform=o("./lib/_stream_transform.js"),a.PassThrough=o("./lib/_stream_passthrough.js"),a.finished=o("./lib/internal/streams/end-of-stream.js"),a.pipeline=o("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(o,s,a){function u(h,p){for(var y in h)p[y]=h[y]}function d(h,p,y){return c(h,p,y)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=o("buffer"),c=m.Buffer;c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?s.exports=m:(u(m,a),a.Buffer=d),d.prototype=Object.create(c.prototype),u(c,d),d.from=function(h,p,y){if(typeof h=="number")throw new TypeError("Argument must not be a number");return c(h,p,y)},d.alloc=function(h,p,y){if(typeof h!="number")throw new TypeError("Argument must be a number");var S=c(h);return p===void 0?S.fill(0):typeof y=="string"?S.fill(p,y):S.fill(p),S},d.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return c(h)},d.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(h)}},{buffer:3}],31:[function(o,s,a){function u(x){if(!x)return"utf8";for(var D;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(D)return;x=(""+x).toLowerCase(),D=!0}}function d(x){var D=u(x);if(typeof D!="string"&&(C.isEncoding===R||!R(x)))throw new Error("Unknown encoding: "+x);return D||x}function m(x){this.encoding=d(x);var D;switch(this.encoding){case"utf16le":this.text=S,this.end=M,D=4;break;case"utf8":this.fillLast=y,D=4;break;case"base64":this.text=k,this.end=_,D=3;break;default:return this.write=g,void(this.end=w)}this.lastNeed=0,this.lastTotal=0,this.lastChar=C.allocUnsafe(D)}function c(x){return 127>=x?0:x>>5==6?2:x>>4==14?3:x>>3==30?4:x>>6==2?-1:-2}function h(x,D,j){var T=D.length-1;if(T<j)return 0;var L=c(D[T]);return 0<=L?(0<L&&(x.lastNeed=L-1),L):--T<j||L===-2?0:(L=c(D[T]),0<=L?(0<L&&(x.lastNeed=L-2),L):--T<j||L===-2?0:(L=c(D[T]),0<=L?(0<L&&(L===2?L=0:x.lastNeed=L-3),L):0))}function p(x,D){if((192&D[0])!=128)return x.lastNeed=0,"�";if(1<x.lastNeed&&1<D.length){if((192&D[1])!=128)return x.lastNeed=1,"�";if(2<x.lastNeed&&2<D.length&&(192&D[2])!=128)return x.lastNeed=2,"�"}}function y(x){var D=this.lastTotal-this.lastNeed,j=p(this,x);return j===void 0?this.lastNeed<=x.length?(x.copy(this.lastChar,D,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,D,0,x.length),void(this.lastNeed-=x.length)):j}function S(x,D){if((x.length-D)%2==0){var j=x.toString("utf16le",D);if(j){var T=j.charCodeAt(j.length-1);if(55296<=T&&56319>=T)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",D,x.length-1)}function M(x){var D=x&&x.length?this.write(x):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return D+this.lastChar.toString("utf16le",0,j)}return D}function k(x,D){var j=(x.length-D)%3;return j==0?x.toString("base64",D):(this.lastNeed=3-j,this.lastTotal=3,j==1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",D,x.length-j))}function _(x){var D=x&&x.length?this.write(x):"";return this.lastNeed?D+this.lastChar.toString("base64",0,3-this.lastNeed):D}function g(x){return x.toString(this.encoding)}function w(x){return x&&x.length?this.write(x):""}var C=o("safe-buffer").Buffer,R=C.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};a.StringDecoder=m,m.prototype.write=function(x){if(x.length===0)return"";var D,j;if(this.lastNeed){if(D=this.fillLast(x),D===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<x.length?D?D+this.text(x,j):this.text(x,j):D||""},m.prototype.end=function(x){var D=x&&x.length?this.write(x):"";return this.lastNeed?D+"�":D},m.prototype.text=function(x,D){var j=h(this,x,D);if(!this.lastNeed)return x.toString("utf8",D);this.lastTotal=j;var T=x.length-(j-this.lastNeed);return x.copy(this.lastChar,0,T),x.toString("utf8",D,T)},m.prototype.fillLast=function(x){return this.lastNeed<=x.length?(x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),void(this.lastNeed-=x.length))}},{"safe-buffer":30}],32:[function(o,s){(function(a){(function(){function u(d){try{if(!a.localStorage)return!1}catch{return!1}var m=a.localStorage[d];return m!=null&&(m+"").toLowerCase()==="true"}s.exports=function(d,m){function c(){if(!h){if(u("throwDeprecation"))throw new Error(m);u("traceDeprecation")?console.trace(m):console.warn(m),h=!0}return d.apply(this,arguments)}if(u("noDeprecation"))return d;var h=!1;return c}}).call(this)}).call(this,typeof Nt>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Nt)},{}],"/":[function(o,s){function a(_){return _.replace(/a=ice-options:trickle\s\n/g,"")}function u(_){console.warn(_)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const d=o("debug")("simple-peer"),m=o("get-browser-rtc"),c=o("randombytes"),h=o("readable-stream"),p=o("queue-microtask"),y=o("err-code"),{Buffer:S}=o("buffer"),M=65536;class k extends h.Duplex{constructor(g){if(g=Object.assign({allowHalfOpen:!1},g),super(g),this._id=c(4).toString("hex").slice(0,7),this._debug("new peer %o",g),this.channelName=g.initiator?g.channelName||c(20).toString("hex"):null,this.initiator=g.initiator||!1,this.channelConfig=g.channelConfig||k.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},k.config,g.config),this.offerOptions=g.offerOptions||{},this.answerOptions=g.answerOptions||{},this.sdpTransform=g.sdpTransform||(w=>w),this.streams=g.streams||(g.stream?[g.stream]:[]),this.trickle=g.trickle===void 0||g.trickle,this.allowHalfTrickle=g.allowHalfTrickle!==void 0&&g.allowHalfTrickle,this.iceCompleteTimeout=g.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=g.wrtc&&typeof g.wrtc=="object"?g.wrtc:m(),!this._wrtc)throw y(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(w){return void this.destroy(y(w,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=w=>{this._onIceCandidate(w)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(w=>{this.destroy(y(w,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=w=>{this._setupData(w)},this.streams&&this.streams.forEach(w=>{this.addStream(w)}),this._pc.ontrack=w=>{this._onTrack(w)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(g){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof g=="string")try{g=JSON.parse(g)}catch{g={}}this._debug("signal()"),g.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),g.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(g.transceiverRequest.kind,g.transceiverRequest.init)),g.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(g.candidate):this._pendingCandidates.push(g.candidate)),g.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(g)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(w=>{this._addIceCandidate(w)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(w=>{this.destroy(y(w,"ERR_SET_REMOTE_DESCRIPTION"))}),g.sdp||g.candidate||g.renegotiate||g.transceiverRequest||this.destroy(y(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(g){const w=new this._wrtc.RTCIceCandidate(g);this._pc.addIceCandidate(w).catch(C=>{!w.address||w.address.endsWith(".local")?u("Ignoring unsupported ICE candidate."):this.destroy(y(C,"ERR_ADD_ICE_CANDIDATE"))})}send(g){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(g)}}addTransceiver(g,w){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(g,w),this._needsNegotiation()}catch(C){this.destroy(y(C,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:g,init:w}})}}addStream(g){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),g.getTracks().forEach(w=>{this.addTrack(w,g)})}}addTrack(g,w){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const C=this._senderMap.get(g)||new Map;let R=C.get(w);if(!R)R=this._pc.addTrack(g,w),C.set(w,R),this._senderMap.set(g,C),this._needsNegotiation();else throw R.removed?y(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):y(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(g,w,C){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const R=this._senderMap.get(g),x=R?R.get(C):null;if(!x)throw y(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");w&&this._senderMap.set(w,R),x.replaceTrack==null?this.destroy(y(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):x.replaceTrack(w)}removeTrack(g,w){if(this.destroying)return;if(this.destroyed)throw y(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const C=this._senderMap.get(g),R=C?C.get(w):null;if(!R)throw y(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{R.removed=!0,this._pc.removeTrack(R)}catch(x){x.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(R):this.destroy(y(x,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(g){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),g.getTracks().forEach(w=>{this.removeTrack(w,g)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,p(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw y(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(g){this._destroy(g,()=>{})}_destroy(g,w){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",g&&(g.message||g)),p(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",g&&(g.message||g)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,g&&this.emit("error",g),this.emit("close"),w()}))}_setupData(g){if(!g.channel)return this.destroy(y(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=g.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=M),this.channelName=this._channel.label,this._channel.onmessage=C=>{this._onChannelMessage(C)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=C=>{const R=C.error instanceof Error?C.error:new Error(`Datachannel error: ${C.message} ${C.filename}:${C.lineno}:${C.colno}`);this.destroy(y(R,"ERR_DATA_CHANNEL"))};let w=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(w&&this._onChannelClose(),w=!0):w=!1},5e3)}_read(){}_write(g,w,C){if(this.destroyed)return C(y(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(g)}catch(R){return this.destroy(y(R,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>M?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=C):C(null)}else this._debug("write before connect"),this._chunk=g,this._cb=C}_onFinish(){if(!this.destroyed){const g=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?g():this.once("connect",g)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(g=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(g.sdp=a(g.sdp)),g.sdp=this.sdpTransform(g.sdp);const w=()=>{if(!this.destroyed){const C=this._pc.localDescription||g;this._debug("signal"),this.emit("signal",{type:C.type,sdp:C.sdp})}};this._pc.setLocalDescription(g).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?w():this.once("_iceComplete",w))}).catch(C=>{this.destroy(y(C,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(g=>{this.destroy(y(g,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(g=>{g.mid||!g.sender.track||g.requested||(g.requested=!0,this.addTransceiver(g.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(g=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(g.sdp=a(g.sdp)),g.sdp=this.sdpTransform(g.sdp);const w=()=>{if(!this.destroyed){const C=this._pc.localDescription||g;this._debug("signal"),this.emit("signal",{type:C.type,sdp:C.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(g).then(()=>{this.destroyed||(this.trickle||this._iceComplete?w():this.once("_iceComplete",w))}).catch(C=>{this.destroy(y(C,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(g=>{this.destroy(y(g,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(y(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const g=this._pc.iceConnectionState,w=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",g,w),this.emit("iceStateChange",g,w),(g==="connected"||g==="completed")&&(this._pcReady=!0,this._maybeReady()),g==="failed"&&this.destroy(y(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),g==="closed"&&this.destroy(y(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(g){const w=C=>(Object.prototype.toString.call(C.values)==="[object Array]"&&C.values.forEach(R=>{Object.assign(C,R)}),C);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(C=>{const R=[];C.forEach(x=>{R.push(w(x))}),g(null,R)},C=>g(C)):0<this._pc.getStats.length?this._pc.getStats(C=>{if(this.destroyed)return;const R=[];C.result().forEach(x=>{const D={};x.names().forEach(j=>{D[j]=x.stat(j)}),D.id=x.id,D.type=x.type,D.timestamp=x.timestamp,R.push(w(D))}),g(null,R)},C=>g(C)):g(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const g=()=>{this.destroyed||this.getStats((w,C)=>{if(this.destroyed)return;w&&(C=[]);const R={},x={},D={};let j=!1;C.forEach(L=>{(L.type==="remotecandidate"||L.type==="remote-candidate")&&(R[L.id]=L),(L.type==="localcandidate"||L.type==="local-candidate")&&(x[L.id]=L),(L.type==="candidatepair"||L.type==="candidate-pair")&&(D[L.id]=L)});const T=L=>{j=!0;let F=x[L.localCandidateId];F&&(F.ip||F.address)?(this.localAddress=F.ip||F.address,this.localPort=+F.port):F&&F.ipAddress?(this.localAddress=F.ipAddress,this.localPort=+F.portNumber):typeof L.googLocalAddress=="string"&&(F=L.googLocalAddress.split(":"),this.localAddress=F[0],this.localPort=+F[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let U=R[L.remoteCandidateId];U&&(U.ip||U.address)?(this.remoteAddress=U.ip||U.address,this.remotePort=+U.port):U&&U.ipAddress?(this.remoteAddress=U.ipAddress,this.remotePort=+U.portNumber):typeof L.googRemoteAddress=="string"&&(U=L.googRemoteAddress.split(":"),this.remoteAddress=U[0],this.remotePort=+U[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(C.forEach(L=>{L.type==="transport"&&L.selectedCandidatePairId&&T(D[L.selectedCandidatePairId]),(L.type==="googCandidatePair"&&L.googActiveConnection==="true"||(L.type==="candidatepair"||L.type==="candidate-pair")&&L.selected)&&T(L)}),!j&&(!Object.keys(D).length||Object.keys(x).length))return void setTimeout(g,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(F){return this.destroy(y(F,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const L=this._cb;this._cb=null,L(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};g()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>M)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(g=>{this._pc.removeTrack(g),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(g){this.destroyed||(g.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:g.candidate.candidate,sdpMLineIndex:g.candidate.sdpMLineIndex,sdpMid:g.candidate.sdpMid}}):!g.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),g.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(g){if(this.destroyed)return;let w=g.data;w instanceof ArrayBuffer&&(w=S.from(w)),this.push(w)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const g=this._cb;this._cb=null,g(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(g){this.destroyed||g.streams.forEach(w=>{this._debug("on track"),this.emit("track",g.track,w),this._remoteTracks.push({track:g.track,stream:w}),this._remoteStreams.some(C=>C.id===w.id)||(this._remoteStreams.push(w),p(()=>{this._debug("on stream"),this.emit("stream",w)}))})}_debug(){const g=[].slice.call(arguments);g[0]="["+this._id+"] "+g[0],d.apply(null,g)}}k.WEBRTC_SUPPORT=!!m(),k.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},k.channelConfig={},s.exports=k},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(Qg);var S1=Qg.exports;const C1=bf(S1),Ec=0,Tc=1,Gg=2,qg=(e,t)=>{q(e,Ec);const n=dw(t);Ce(e,n)},Jg=(e,t,n)=>{q(e,Tc),Ce(e,lw(t,n))},x1=(e,t,n)=>Jg(t,n,Ne(e)),Xg=(e,t,n)=>{try{iw(t,Ne(e),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},b1=(e,t)=>{q(e,Gg),Ce(e,t)},E1=Xg,T1=(e,t,n,r)=>{const i=te(e);switch(i){case Ec:x1(e,t,n);break;case Tc:Xg(e,n,r);break;case Gg:E1(e,n,r);break;default:throw new Error("Unknown message type")}return i},na=3e4;class R1 extends Up{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=dn();this.getLocalState()!==null&&na/2<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((i,o)=>{o!==this.clientID&&na<=n-i.lastUpdated&&this.states.has(o)&&r.push(o)}),r.length>0&&au(this,r,"timeout")},Vt(na/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const n=this.clientID,r=this.meta.get(n),i=r===void 0?0:r.clock+1,o=this.states.get(n);t===null?this.states.delete(n):this.states.set(n,t),this.meta.set(n,{clock:i,lastUpdated:dn()});const s=[],a=[],u=[],d=[];t===null?d.push(n):o==null?t!=null&&s.push(n):(a.push(n),zi(o,t)||u.push(n)),(s.length>0||u.length>0||d.length>0)&&this.emit("change",[{added:s,updated:u,removed:d},"local"]),this.emit("update",[{added:s,updated:a,removed:d},"local"])}setLocalStateField(t,n){const r=this.getLocalState();r!==null&&this.setLocalState({...r,[t]:n})}getStates(){return this.states}}const au=(e,t,n)=>{const r=[];for(let i=0;i<t.length;i++){const o=t[i];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){const s=e.meta.get(o);e.meta.set(o,{clock:s.clock+1,lastUpdated:dn()})}r.push(o)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},Hs=(e,t,n=e.states)=>{const r=t.length,i=Fe();q(i,r);for(let o=0;o<r;o++){const s=t[o],a=n.get(s)||null,u=e.meta.get(s).clock;q(i,s),q(i,u),$t(i,JSON.stringify(a))}return _e(i)},D1=(e,t,n)=>{const r=Gt(t),i=dn(),o=[],s=[],a=[],u=[],d=te(r);for(let m=0;m<d;m++){const c=te(r);let h=te(r);const p=JSON.parse(on(r)),y=e.meta.get(c),S=e.states.get(c),M=y===void 0?0:y.clock;(M<h||M===h&&p===null&&e.states.has(c))&&(p===null?c===e.clientID&&e.getLocalState()!=null?h++:e.states.delete(c):e.states.set(c,p),e.meta.set(c,{clock:h,lastUpdated:i}),y===void 0&&p!==null?o.push(c):y!==void 0&&p===null?u.push(c):p!==null&&(zi(p,S)||a.push(c),s.push(c)))}(o.length>0||a.length>0||u.length>0)&&e.emit("change",[{added:o,updated:a,removed:u},n]),(o.length>0||s.length>0||u.length>0)&&e.emit("update",[{added:o,updated:s,removed:u},n])},L1=(e,t)=>{const n=tu(e).buffer,r=tu(t).buffer;return crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveKey"]).then(i=>crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},i,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))},Zg=(e,t)=>{if(!t)return cc(e);const n=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e).then(r=>{const i=Fe();return $t(i,"AES-GCM"),Ce(i,n),Ce(i,new Uint8Array(r)),_e(i)})},A1=(e,t)=>{const n=Fe();return Xr(n,e),Zg(_e(n),t)},em=(e,t)=>{if(!t)return cc(e);const n=Gt(e);on(n)!=="AES-GCM"&&gv(Ht("Unknown encryption algorithm"));const i=Ne(n),o=Ne(n);return crypto.subtle.decrypt({name:"AES-GCM",iv:i},t,o).then(s=>new Uint8Array(s))},j1=(e,t)=>em(e,t).then(n=>Zr(Gt(new Uint8Array(n)))),ut=Yv("y-webrtc"),Wr=0,tm=3,fo=1,Rc=4,Ys=new Map,Zn=new Map,nm=e=>{let t=!0;e.webrtcConns.forEach(n=>{n.synced||(t=!1)}),(!t&&e.synced||t&&!e.synced)&&(e.synced=t,e.provider.emit("synced",[{synced:t}]),ut("synced ",kt,e.name,lr," with all peers"))},rm=(e,t,n)=>{const r=Gt(t),i=Fe(),o=te(r);if(e===void 0)return null;const s=e.awareness,a=e.doc;let u=!1;switch(o){case Wr:{q(i,Wr);const d=T1(r,i,a,e);d===Tc&&!e.synced&&n(),d===Ec&&(u=!0);break}case tm:q(i,fo),Ce(i,Hs(s,Array.from(s.getStates().keys()))),u=!0;break;case fo:D1(s,Ne(r),e);break;case Rc:{const d=sr(r)===1,m=on(r);if(m!==e.peerId&&(e.bcConns.has(m)&&!d||!e.bcConns.has(m)&&d)){const c=[],h=[];d?(e.bcConns.add(m),h.push(m)):(e.bcConns.delete(m),c.push(m)),e.provider.emit("peers",[{added:h,removed:c,webrtcPeers:Array.from(e.webrtcConns.keys()),bcPeers:Array.from(e.bcConns)}]),im(e)}break}default:return console.error("Unable to compute message"),i}return u?i:null},I1=(e,t)=>{const n=e.room;return ut("received message from ",kt,e.remotePeerId,hc," (",n.name,")",lr,pl),rm(n,t,()=>{e.synced=!0,ut("synced ",kt,n.name,lr," with ",kt,e.remotePeerId),nm(n)})},ra=(e,t)=>{ut("send message to ",kt,e.remotePeerId,lr,hc," (",e.room.name,")",pl);try{e.peer.send(_e(t))}catch{}},M1=(e,t)=>{ut("broadcast message in ",kt,e.name,lr),e.webrtcConns.forEach(n=>{try{n.peer.send(t)}catch{}})};class mf{constructor(t,n,r,i){ut("establishing connection to ",kt,r),this.room=i,this.remotePeerId=r,this.glareToken=void 0,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new C1({initiator:n,...i.provider.peerOpts}),this.peer.on("signal",o=>{this.glareToken===void 0&&(this.glareToken=Date.now()+Math.random()),Dc(t,i,{to:r,from:i.peerId,type:"signal",token:this.glareToken,signal:o})}),this.peer.on("connect",()=>{ut("connected to ",kt,r),this.connected=!0;const s=i.provider.doc,a=i.awareness,u=Fe();q(u,Wr),qg(u,s),ra(this,u);const d=a.getStates();if(d.size>0){const m=Fe();q(m,fo),Ce(m,Hs(a,Array.from(d.keys()))),ra(this,m)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,i.webrtcConns.has(this.remotePeerId)&&(i.webrtcConns.delete(this.remotePeerId),i.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(i.webrtcConns.keys()),bcPeers:Array.from(i.bcConns)}])),nm(i),this.peer.destroy(),ut("closed connection to ",kt,r),uu(i)}),this.peer.on("error",o=>{ut("Error in connection to ",kt,r,": ",o),uu(i)}),this.peer.on("data",o=>{const s=I1(this,o);s!==null&&ra(this,s)})}destroy(){this.peer.destroy()}}const _n=(e,t)=>Zg(t,e.key).then(n=>e.mux(()=>_1(e.name,n))),yf=(e,t)=>{e.bcconnected&&_n(e,t),M1(e,t)},uu=e=>{Ys.forEach(t=>{t.connected&&(t.send({type:"subscribe",topics:[e.name]}),e.webrtcConns.size<e.provider.maxConns&&Dc(t,e,{type:"announce",from:e.peerId}))})},im=e=>{if(e.provider.filterBcConns){const t=Fe();q(t,Rc),so(t,1),$t(t,e.peerId),_n(e,_e(t))}};class N1{constructor(t,n,r,i){this.peerId=Yp(),this.doc=t,this.awareness=n.awareness,this.provider=n,this.synced=!1,this.name=r,this.key=i,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=k1(),this.bcconnected=!1,this._bcSubscriber=o=>em(new Uint8Array(o),i).then(s=>this.mux(()=>{const a=rm(this,s,()=>{});a&&_n(this,_e(a))})),this._docUpdateHandler=(o,s)=>{const a=Fe();q(a,Wr),b1(a,o),yf(this,_e(a))},this._awarenessUpdateHandler=({added:o,updated:s,removed:a},u)=>{const d=o.concat(s).concat(a),m=Fe();q(m,fo),Ce(m,Hs(this.awareness,d)),yf(this,_e(m))},this._beforeUnloadHandler=()=>{au(this.awareness,[t.clientID],"window unload"),Zn.forEach(o=>{o.disconnect()})},typeof window<"u"?window.addEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.on("exit",this._beforeUnloadHandler)}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),uu(this);const t=this.name;v1(t,this._bcSubscriber),this.bcconnected=!0,im(this);const n=Fe();q(n,Wr),qg(n,this.doc),_n(this,_e(n));const r=Fe();q(r,Wr),Jg(r,this.doc),_n(this,_e(r));const i=Fe();q(i,tm),_n(this,_e(i));const o=Fe();q(o,fo),Ce(o,Hs(this.awareness,[this.doc.clientID])),_n(this,_e(o))}disconnect(){Ys.forEach(n=>{n.connected&&n.send({type:"unsubscribe",topics:[this.name]})}),au(this.awareness,[this.doc.clientID],"disconnect");const t=Fe();q(t,Rc),so(t,0),$t(t,this.peerId),_n(this,_e(t)),w1(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(n=>n.destroy())}destroy(){this.disconnect(),typeof window<"u"?window.removeEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.off("exit",this._beforeUnloadHandler)}}const O1=(e,t,n,r)=>{if(Zn.has(n))throw Ht(`A Yjs Doc connected to room "${n}" already exists!`);const i=new N1(e,t,n,r);return Zn.set(n,i),i},Dc=(e,t,n)=>{t.key?A1(n,t.key).then(r=>{e.send({type:"publish",topic:t.name,data:ng(r)})}):e.send({type:"publish",topic:t.name,data:n})};class F1 extends g1{constructor(t){super(t),this.providers=new Set,this.on("connect",()=>{ut(`connected (${t})`);const n=Array.from(Zn.keys());this.send({type:"subscribe",topics:n}),Zn.forEach(r=>Dc(this,r,{type:"announce",from:r.peerId}))}),this.on("message",n=>{switch(n.type){case"publish":{const r=n.topic,i=Zn.get(r);if(i==null||typeof r!="string")return;const o=s=>{const a=i.webrtcConns,u=i.peerId;if(s==null||s.from===u||s.to!==void 0&&s.to!==u||i.bcConns.has(s.from))return;const d=a.has(s.from)?()=>{}:()=>i.provider.emit("peers",[{removed:[],added:[s.from],webrtcPeers:Array.from(i.webrtcConns.keys()),bcPeers:Array.from(i.bcConns)}]);switch(s.type){case"announce":a.size<i.provider.maxConns&&(ht(a,s.from,()=>new mf(this,!0,s.from,i)),d());break;case"signal":if(s.signal.type==="offer"){const m=a.get(s.from);if(m){const c=s.token,h=m.glareToken;if(h&&h>c){ut("offer rejected: ",s.from);return}m.glareToken=void 0}}if(s.signal.type==="answer"){ut("offer answered by: ",s.from);const m=a.get(s.from);m.glareToken=void 0}s.to===u&&(ht(a,s.from,()=>new mf(this,!1,s.from,i)).peer.signal(s.signal),d());break}};i.key?typeof n.data=="string"&&j1(rg(n.data),i.key).then(o):o(n.data)}}}),this.on("disconnect",()=>ut(`disconnect (${t})`))}}const ia=e=>{e.emit("status",[{connected:e.connected}])};class P1 extends zp{constructor(t,n,{signaling:r=["wss://y-webrtc-eu.fly.dev"],password:i=null,awareness:o=new R1(n),maxConns:s=20+Vt(hv()*15),filterBcConns:a=!0,peerOpts:u={}}={}){super(),this.roomName=t,this.doc=n,this.filterBcConns=a,this.awareness=o,this.shouldConnect=!1,this.signalingUrls=r,this.signalingConns=[],this.maxConns=s,this.peerOpts=u,this.key=i?L1(i,t):cc(null),this.room=null,this.key.then(d=>{this.room=O1(n,this,t,d),this.shouldConnect?this.room.connect():this.room.disconnect(),ia(this)}),this.connect(),this.destroy=this.destroy.bind(this),n.on("destroy",this.destroy)}get connected(){return this.room!==null&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(t=>{const n=ht(Ys,t,()=>new F1(t));this.signalingConns.push(n),n.providers.add(this)}),this.room&&(this.room.connect(),ia(this))}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(t=>{t.providers.delete(this),t.providers.size===0&&(t.destroy(),Ys.delete(t.url))}),this.room&&(this.room.disconnect(),ia(this))}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),Zn.delete(this.roomName)}),super.destroy()}}const gn=new ci,be=gn.getMap("players"),oi=gn.getMap("zones"),pe=gn.getMap("cards"),ho=gn.getMap("baton"),z1=gn.getMap("seed"),er=gn.getArray("log"),Yo=gn.getMap("counterTypes"),vf=["#4CAF50","#2196F3","#F44336","#9C27B0"];function Zt(e){const n=Array.from(be.keys()).indexOf(e);return n>=0&&n<vf.length?vf[n]:"#757575"}function U1(e,t,n=!1){if(be.size>=4){console.warn("Maximum of 4 players reached");return}be.set(e,{name:t,lifeTotal:40}),Ci(`deck-${e}`,"deck",e),Ci(`hand-${e}`,"hand",e),Ci(`battlefield-${e}`,"battlefield",e),Ci(`graveyard-${e}`,"graveyard",e),Ci(`exile-${e}`,"exile",e),n||B1(e),bt(e,"player_joined",{name:t})}function B1(e){const t=["Lightning Bolt","Giant Growth","Counterspell","Swords to Plowshares","Dark Ritual","Path to Exile","Brainstorm","Llanowar Elves","Doom Blade","Cancel"];for(let n=0;n<3;n++)cs(`${e}-card-hand-${n}`,t[n%t.length],e,`hand-${e}`,n);for(let n=0;n<2;n++)cs(`${e}-card-battlefield-${n}`,t[(n+3)%t.length],e,`battlefield-${e}`,n);for(let n=0;n<50;n++)cs(`${e}-card-deck-${n}`,t[n%t.length],e,`deck-${e}`,n)}function $1(){be.clear(),oi.clear(),pe.clear(),ho.clear(),z1.clear(),er.delete(0,er.length),console.log("Room reset - all state cleared")}function Ci(e,t,n){oi.set(e,{type:t,owner:n})}function cs(e,t,n,r,i=0){pe.set(e,{oracleId:t,owner:n,zoneId:r,order:i,faceDown:!1,tapped:!1,counters:{},attachments:[],metadata:{},v:0})}function wl(e,t,n,r,i){const o=pe.get(e);if(!o)return;const s=o.zoneId;pe.set(e,{...o,zoneId:t,order:n??o.order,v:o.v+1}),r&&!i&&bt(r,"card_moved",{cardId:e,oracleId:o.oracleId,from:s,to:t,order:n})}function W1(e,t,n){const r=pe.get(e);r&&(pe.set(e,{...r,...t,v:r.v+1}),n&&bt(n,"card_updated",{cardId:e,updates:t}))}function V1(e,t,n){W1(e,{tapped:t},n)}function H1(e,t,n,r){const i=pe.get(e);if(!i)return;const o=gr(i.zoneId),a=(o.length>0?Math.max(...o.map(u=>u.order)):0)+1;pe.set(e,{...i,position:{x:t,y:n},order:a,v:i.v+1})}function xi(e,t,n,r){const i=pe.get(e);if(!i)return;const o={...i.counters},s=o[t]??0,a=Math.max(0,s+n);a===0?delete o[t]:o[t]=a,pe.set(e,{...i,counters:o,v:i.v+1}),r&&bt(r,"counter_modified",{cardId:e,oracleId:i.oracleId,counterType:t,delta:n,newValue:a})}function Y1(e,t,n){const r=be.get(e);r&&(be.set(e,{...r,lifeTotal:t}),n&&bt(n,"life_total_set",{playerId:e,newTotal:t}))}function _r(e,t,n){const r=be.get(e);if(!r)return;const i=r.lifeTotal+t;be.set(e,{...r,lifeTotal:i}),n&&bt(n,"life_total_modified",{playerId:e,delta:t,newTotal:i})}function wf(e,t){ho.set("current",{playerId:e,step:t}),bt(e,"turn_changed",{step:t})}function oa(){return ho.get("current")}function bt(e,t,n){er.push([{timestamp:Date.now(),playerId:e,action:t,data:n,type:"game"}])}function K1(e,t){er.push([{timestamp:Date.now(),playerId:e,action:"chat_message",data:{message:t},type:"chat"}])}function gr(e){const t=[];return pe.forEach(n=>{n.zoneId===e&&t.push(n)}),t.sort((n,r)=>n.order-r.order)}function po(e){const t=gr(e);return t.length===0?0:Math.max(...t.map(n=>n.order))+1}function Ko(e,t){var a;const n=`deck-${e}`,r=`hand-${e}`,i=gr(n),o=Math.min(t,i.length);if(o===0)return;const s=po(r);for(let u=0;u<o;u++){const d=i[u],m=(a=Array.from(pe.entries()).find(([c,h])=>h===d))==null?void 0:a[0];m&&wl(m,r,s+u,e,!0)}bt(e,"draw_cards",{count:o})}function _f(e,t){var a;const n=`deck-${e}`,r=`graveyard-${e}`,i=gr(n),o=Math.min(t,i.length);if(o===0)return;const s=po(r);for(let u=0;u<o;u++){const d=i[u],m=(a=Array.from(pe.entries()).find(([c,h])=>h===d))==null?void 0:a[0];m&&wl(m,r,s+u,e,!0)}bt(e,"mill_cards",{count:o})}function Q1(e,t){var a;const n=`deck-${e}`,r=`exile-${e}`,i=gr(n),o=Math.min(t,i.length);if(o===0)return;const s=po(r);for(let u=0;u<o;u++){const d=i[u],m=(a=Array.from(pe.entries()).find(([c,h])=>h===d))==null?void 0:a[0];m&&wl(m,r,s+u,e,!0)}bt(e,"exile_from_deck",{count:o})}function G1(e){const t=`deck-${e}`;if(gr(t).length===0)return;const r=[];pe.forEach((o,s)=>{o.zoneId===t&&r.push(s)});const i=[...r];for(let o=i.length-1;o>0;o--){const s=Math.floor(Math.random()*(o+1));[i[o],i[s]]=[i[s],i[o]]}i.forEach((o,s)=>{const a=pe.get(o);a&&pe.set(o,{...a,order:s,v:a.v+1})}),bt(e,"shuffle_deck",{cardCount:i.length})}function cu(e,t,n="auto",r){if(!pe.get(e))return;let o;n==="top"?(gr(t).forEach(a=>{var d;const u=(d=Array.from(pe.entries()).find(([m,c])=>c===a))==null?void 0:d[0];u&&pe.set(u,{...a,order:a.order+1,v:a.v+1})}),o=0):o=po(t),wl(e,t,o,r)}function Ui(){return`crdt-cards-${window.location.hash.replace(/^#/,"")||"default"}`}const Mr=new P1(Ui(),gn,{signaling:["wss://crdt-cards-signaling.happyground-bfbe302d.westus2.azurecontainerapps.io"]});Mr.on("status",e=>{console.log("WebRTC status:",e.connected?"connected":"disconnected")});Mr.on("synced",e=>{console.log("YJS synced:",e.synced)});window.addEventListener("popstate",()=>{console.log("Room changed, reloading to connect to new room..."),window.location.reload()});console.log("YJS document initialized:",gn.guid);console.log("Room name:",Ui());console.log("Game state maps ready:",{players:be.size,zones:oi.size,cards:pe.size});const Lc="crdt-cards-decks",Ac="crdt-cards-last-deck",ds=[{id:"starter-atraxa",name:"Atraxa, Praetors' Voice",file:"atraxa.txt",description:"Proliferate & Superfriends"},{id:"starter-urdragon",name:"The Ur-Dragon",file:"urdragon.txt",description:"Dragon tribal powerhouse"},{id:"starter-edgar",name:"Edgar Markov",file:"edgar-markov.txt",description:"Vampire tribal aggro"},{id:"starter-krenko",name:"Krenko, Mob Boss",file:"krenko.txt",description:"Goblin tribal combo"},{id:"starter-kaalia",name:"Kaalia of the Vast",file:"kaalia.txt",description:"Angels, Demons, Dragons"}];function Vr(){try{const e=localStorage.getItem(Lc);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to load stored decks:",e),[]}}function jc(e){try{const t=Vr(),n=t.findIndex(r=>r.id===e.id);n>=0?t[n]=e:t.push(e),localStorage.setItem(Lc,JSON.stringify(t))}catch(t){console.error("Failed to save deck:",t)}}function q1(e){try{const t=Vr().filter(n=>n.id!==e);localStorage.setItem(Lc,JSON.stringify(t)),om()===e&&localStorage.removeItem(Ac)}catch(t){console.error("Failed to delete deck:",t)}}function om(){return localStorage.getItem(Ac)}function kf(e){localStorage.setItem(Ac,e)}function J1(e){const t=e.toLowerCase();return t.includes("moxfield.com")?"moxfield":t.includes("archidekt.com")?"archidekt":t.includes("edhrec.com")?"edhrec":"unknown"}async function X1(e){switch(J1(e)){case"moxfield":return Sf(e);case"archidekt":return Z1(e);case"edhrec":return e_();default:return Sf(e)}}async function Sf(e){try{const t=n_(e);if(!t)return{success:!1,error:"Invalid Moxfield URL format"};const n=`https://api.moxfield.com/v2/decks/all/${t}`,i=`https://corsproxy.io/?${encodeURIComponent(n)}`,o=await fetch(i);if(!o.ok)return o.status===404?{success:!1,error:"Deck not found on Moxfield"}:{success:!1,error:`Failed to fetch deck (${o.status})`};const s=await o.json(),a=[];let u=0;if(s.mainboard)for(const[m,c]of Object.entries(s.mainboard)){const h=c.quantity||1;a.push({name:m,quantity:h}),u+=h}const d={id:crypto.randomUUID(),name:s.name||"Imported Deck",moxfieldUrl:e,moxfieldId:t,cardCount:u,importedAt:Date.now(),cards:a};return jc(d),{success:!0,deck:d}}catch(t){return console.error("Failed to import from Moxfield:",t),{success:!1,error:"Network error or invalid deck"}}}async function Z1(e){var t,n,r;try{const i=e.match(/archidekt\.com\/decks\/(\d+)/);if(!i)return{success:!1,error:"Invalid Archidekt URL format"};const o=i[1],s=`https://archidekt.com/api/decks/${o}/`,u=`https://corsproxy.io/?${encodeURIComponent(s)}`,d=await fetch(u);if(!d.ok)return d.status===404?{success:!1,error:"Deck not found on Archidekt"}:{success:!1,error:`Failed to fetch deck (${d.status})`};const m=await d.json(),c=[];let h=0;if(m.cards&&Array.isArray(m.cards))for(const y of m.cards){const S=((n=(t=y.card)==null?void 0:t.oracleCard)==null?void 0:n.name)||((r=y.card)==null?void 0:r.name),M=y.quantity||1;S&&(c.push({name:S,quantity:M}),h+=M)}const p={id:crypto.randomUUID(),name:m.name||"Imported Deck",moxfieldUrl:e,moxfieldId:o,cardCount:h,importedAt:Date.now(),cards:c};return jc(p),{success:!0,deck:p}}catch(i){return console.error("Failed to import from Archidekt:",i),{success:!1,error:"Network error or invalid deck"}}}async function e_(){return{success:!1,error:"EDHRec import not yet implemented. Please use Moxfield or Archidekt URLs for now."}}async function t_(e,t){try{const n=await fetch(`/starter-decks/${e}`);if(!n.ok)return n.status===404?{success:!1,error:`Starter deck file not found: ${e}`}:{success:!1,error:`Failed to load starter deck (${n.status})`};const r=await n.text(),i=[];let o=0;const s=r.split(`
`);for(const u of s){const d=u.trim();if(!d)continue;const m=d.match(/^(\d+)\s+(.+)$/);if(m){const c=parseInt(m[1],10),h=m[2].trim();i.push({name:h,quantity:c}),o+=c}}if(i.length===0)return{success:!1,error:"No cards found in starter deck file"};const a={id:crypto.randomUUID(),name:t,moxfieldUrl:`local://${e}`,moxfieldId:e,cardCount:o,importedAt:Date.now(),cards:i};return jc(a),{success:!0,deck:a}}catch(n){return console.error("Failed to import from local file:",n),{success:!1,error:"Failed to load starter deck file"}}}function n_(e){const t=e.trim();let n=t.match(/moxfield\.com\/decks\/([a-zA-Z0-9_-]+)/);return n?n[1]:/^[a-zA-Z0-9_-]+$/.test(t)?t:null}function Cf(e,t){const n=`deck-${e}`,r=[];pe.forEach((o,s)=>{o.zoneId===n&&r.push(s)}),r.forEach(o=>pe.delete(o));let i=0;for(const{name:o,quantity:s}of t.cards)for(let a=0;a<s;a++)cs(`${e}-deck-${o}-${a}`,o,e,n,i++);bt(e,"deck_imported",{deckName:t.name,cardCount:t.cardCount})}function Ic({title:e,max:t,onConfirm:n,onCancel:r}){const[i,o]=X.useState("1"),s=d=>{d.preventDefault();const m=parseInt(i,10);m>0&&m<=t&&n(m)},a=parseInt(i,10),u=!isNaN(a)&&a>0&&a<=t;return E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:r,children:E.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"300px",width:"90%"},onClick:d=>d.stopPropagation(),children:[E.jsx("h3",{style:{margin:"0 0 1rem 0",textAlign:"center"},children:e}),E.jsxs("form",{onSubmit:s,children:[E.jsxs("div",{style:{marginBottom:"1.5rem"},children:[E.jsx("input",{type:"number",value:i,onChange:d=>o(d.target.value),min:1,max:t,autoFocus:!0,style:{width:"100%",padding:"0.75rem",fontSize:"1.25rem",border:"2px solid #ddd",borderRadius:"6px",boxSizing:"border-box",textAlign:"center",outline:"none"},onFocus:d=>{d.target.style.borderColor="#2196F3",d.target.select()},onBlur:d=>{d.target.style.borderColor="#ddd"}}),E.jsxs("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.75rem",color:"#666",textAlign:"center"},children:["Max: ",t]})]}),E.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[E.jsx("button",{type:"button",onClick:r,style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"bold",color:"#666",backgroundColor:"#f5f5f5",border:"none",borderRadius:"6px",cursor:"pointer"},onMouseEnter:d=>{d.currentTarget.style.backgroundColor="#e0e0e0"},onMouseLeave:d=>{d.currentTarget.style.backgroundColor="#f5f5f5"},children:"Cancel"}),E.jsx("button",{type:"submit",disabled:!u,style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"bold",color:"white",backgroundColor:u?"#4CAF50":"#ccc",border:"none",borderRadius:"6px",cursor:u?"pointer":"not-allowed"},onMouseEnter:d=>{u&&(d.currentTarget.style.backgroundColor="#45a049")},onMouseLeave:d=>{u&&(d.currentTarget.style.backgroundColor="#4CAF50")},children:"Confirm"})]})]})]})})}function r_({title:e,placeholder:t="",onConfirm:n,onCancel:r}){const[i,o]=X.useState(""),s=u=>{u.preventDefault(),i.trim()&&n(i.trim())},a=i.trim().length>0;return E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:r,children:E.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%"},onClick:u=>u.stopPropagation(),children:[E.jsx("h3",{style:{margin:"0 0 1rem 0",textAlign:"center"},children:e}),E.jsxs("form",{onSubmit:s,children:[E.jsx("div",{style:{marginBottom:"1.5rem"},children:E.jsx("input",{type:"text",value:i,onChange:u=>o(u.target.value),placeholder:t,autoFocus:!0,maxLength:30,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"2px solid #ddd",borderRadius:"6px",boxSizing:"border-box",outline:"none"},onFocus:u=>{u.target.style.borderColor="#2196F3"},onBlur:u=>{u.target.style.borderColor="#ddd"}})}),E.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[E.jsx("button",{type:"button",onClick:r,style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"bold",color:"#666",backgroundColor:"#f5f5f5",border:"none",borderRadius:"6px",cursor:"pointer"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#e0e0e0"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="#f5f5f5"},children:"Cancel"}),E.jsx("button",{type:"submit",disabled:!a,style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"bold",color:"white",backgroundColor:a?"#4CAF50":"#ccc",border:"none",borderRadius:"6px",cursor:a?"pointer":"not-allowed"},onMouseEnter:u=>{a&&(u.currentTarget.style.backgroundColor="#45a049")},onMouseLeave:u=>{a&&(u.currentTarget.style.backgroundColor="#4CAF50")},children:"Add"})]})]})]})})}const sm="crdt-cards-image-cache",i_=7;function o_(){try{const e=localStorage.getItem(sm);return e?JSON.parse(e):{}}catch(e){return console.error("Failed to load image cache:",e),{}}}function s_(e){try{localStorage.setItem(sm,JSON.stringify(e))}catch(t){console.error("Failed to save image cache:",t)}}function l_(e){const t=Date.now(),n=i_*24*60*60*1e3;return t-e.cachedAt<n}async function a_(e){var t,n;try{const r=`https://api.scryfall.com/cards/named?fuzzy=${encodeURIComponent(e)}`,i=await fetch(r);if(!i.ok)return console.warn(`Card not found on Scryfall: ${e}`),null;const o=await i.json();return o.card_faces&&o.card_faces.length>0?((t=o.card_faces[0].image_uris)==null?void 0:t.normal)||null:((n=o.image_uris)==null?void 0:n.normal)||null}catch(r){return console.error(`Failed to fetch card image for ${e}:`,r),null}}function u_(e){const[t,n]=X.useState(null),[r,i]=X.useState(!0),[o,s]=X.useState(!1);return X.useEffect(()=>{let a=!0;async function u(){i(!0),s(!1);const d=o_(),m=d[e];if(m&&l_(m)){a&&(n(m.imageUrl),i(!1));return}const c=await a_(e);a&&(c?(n(c),s(!1),d[e]={imageUrl:c,scryfallId:"",cachedAt:Date.now()},s_(d)):(n(null),s(!0)),i(!1))}return u(),()=>{a=!1}},[e]),{imageUrl:t,loading:r,error:o}}function xf({card:e,cardId:t,playerId:n,isInteractive:r=!0,forceFaceDown:i=!1}){const[o,s]=X.useState(!1),[a,u]=X.useState(!1),[d,m]=X.useState(null),[c,h]=X.useState(null),[p,y]=X.useState([]),[S,M]=X.useState(!1),k=X.useRef(null),_=i||e.faceDown,g=e.zoneId.startsWith("battlefield-"),{imageUrl:w,loading:C}=u_(_?"":e.oracleId);X.useEffect(()=>{const I=()=>{const Y=[];Yo.forEach((Z,ae)=>{Y.push(ae)}),y(Y)};return Yo.observe(I),I(),()=>{Yo.unobserve(I)}},[]);const R=I=>{Yo.set(I,!0),xi(t,I,1,n)},x={width:"120px",height:"160px",border:"none",borderRadius:"8px",backgroundColor:_?"#333":"#fff",padding:"0.5rem",position:"relative",transition:"transform 0.3s ease",transform:e.tapped?"rotate(90deg)":"rotate(0deg)",cursor:r?"pointer":"default",display:"flex",flexDirection:"column",justifyContent:"space-between"},D={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",color:"#666"},j={position:"absolute",top:"5px",right:"5px",backgroundColor:"#FF5722",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"bold"},T={position:"absolute",bottom:"5px",right:"5px",backgroundColor:"#9C27B0",color:"white",borderRadius:"4px",padding:"2px 6px",fontSize:"0.7rem",fontWeight:"bold"},L=d?{position:"fixed",top:`${d.top}px`,left:`${d.left}px`,backgroundColor:"white",border:"2px solid #333",borderRadius:"6px",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",zIndex:9999,minWidth:"150px"}:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"2px solid #333",borderRadius:"6px",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",zIndex:9999,minWidth:"150px"},F={padding:"0.5rem 0.75rem",cursor:"pointer",fontSize:"0.75rem",borderBottom:"1px solid #eee"},U=Object.values(e.counters).reduce((I,Y)=>I+Y,0),V=I=>{r&&(I.stopPropagation(),V1(t,!e.tapped,n))},K=(I,Y)=>{const Z=`${I}-${n}`;cu(t,Z,Y||"auto",n),s(!1)},J=I=>{if(!r){I.preventDefault();return}M(!0);const Y=I.currentTarget.getBoundingClientRect(),Z=I.clientX-Y.left,ae=I.clientY-Y.top;I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("cardId",t),I.dataTransfer.setData("fromZoneId",e.zoneId),I.dataTransfer.setData("playerId",n),I.dataTransfer.setData("order",e.order.toString()),I.dataTransfer.setData("dragOffsetX",Z.toString()),I.dataTransfer.setData("dragOffsetY",ae.toString());try{I.dataTransfer.setDragImage(I.currentTarget,Z,ae)}catch(ue){console.warn("Could not set custom drag image:",ue)}},ee=()=>{M(!1)};if(_)return E.jsx("div",{style:x,title:`Card ${t} (face down)`,children:E.jsx("div",{style:D,children:"🂠"})});const $=g&&e.position?{position:"absolute",left:`${e.position.x}px`,top:`${e.position.y}px`,zIndex:e.order}:{position:"relative"};return E.jsxs("div",{style:$,"data-card-id":t,"data-order":e.order,"data-zone-id":e.zoneId,children:[E.jsxs("div",{style:{...x,padding:0,overflow:"hidden",opacity:S?.5:1,cursor:r?"grab":"default"},title:e.oracleId,draggable:r,onDragStart:J,onDragEnd:ee,onClick:V,onContextMenu:I=>{r&&(I.preventDefault(),s(!o))},children:[C?E.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",color:"#999"},children:"Loading..."}):w?E.jsx("img",{src:w,alt:e.oracleId,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"5px"}}):E.jsxs("div",{style:{width:"100%",height:"100%",padding:"0.5rem",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[E.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"bold",wordBreak:"break-all"},children:e.oracleId}),E.jsx("div",{style:{fontSize:"0.65rem",color:"#666"},children:"No image"})]}),U>0&&E.jsx("div",{style:j,title:`${U} counters`,children:U}),e.attachments.length>0&&E.jsxs("div",{style:T,title:`${e.attachments.length} attachments`,children:["+",e.attachments.length]}),r&&E.jsx("button",{ref:k,onClick:I=>{if(I.stopPropagation(),!o&&k.current){const Y=k.current.getBoundingClientRect(),Z=window.innerHeight,ae=window.innerWidth;let ue=Y.right+8,ne=Y.top;const Ie=150;ue+Ie>ae&&(ue=Y.left-Ie-8);const Re=150;ne+Re>Z&&(ne=Math.max(8,Z-Re-8)),m({top:ne,left:ue})}s(!o)},style:{position:"absolute",top:"5px",left:"5px",backgroundColor:"rgba(255,255,255,0.95)",border:"1px solid #333",borderRadius:"4px",padding:"2px 6px",fontSize:"0.7rem",cursor:"pointer",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.3)"},children:"⋮"})]}),r&&o&&Pp.createPortal(E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998},onClick:()=>s(!1)}),E.jsxs("div",{style:L,children:[E.jsxs("div",{style:{...F,fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center"},onClick:I=>{I.stopPropagation(),u(!a)},onMouseEnter:I=>{I.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="white"},children:[E.jsx("span",{children:"Move to..."}),E.jsx("span",{children:a?"▼":"▶"})]}),a&&E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{...F,paddingLeft:"1.5rem"},onClick:()=>K("hand"),onMouseEnter:I=>{I.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="white"},children:"→ Hand"}),E.jsx("div",{style:{...F,paddingLeft:"1.5rem"},onClick:()=>K("battlefield"),onMouseEnter:I=>{I.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="white"},children:"→ Battlefield"}),E.jsx("div",{style:{...F,paddingLeft:"1.5rem"},onClick:()=>K("graveyard"),onMouseEnter:I=>{I.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="white"},children:"→ Graveyard"}),E.jsx("div",{style:{...F,paddingLeft:"1.5rem"},onClick:()=>K("exile"),onMouseEnter:I=>{I.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="white"},children:"→ Exile"}),E.jsx("div",{style:{...F,paddingLeft:"1.5rem"},onClick:()=>K("deck","top"),onMouseEnter:I=>{I.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="white"},children:"→ Deck (top)"}),E.jsx("div",{style:{...F,paddingLeft:"1.5rem"},onClick:()=>K("deck","bottom"),onMouseEnter:I=>{I.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:I=>{I.currentTarget.style.backgroundColor="white"},children:"→ Deck (bottom)"})]}),E.jsx("div",{style:{padding:"0.5rem 0.75rem",fontSize:"0.7rem",fontWeight:"bold",color:"#666",backgroundColor:"#f9f9f9",borderBottom:"1px solid #eee"},children:"COUNTERS"}),Object.entries(e.counters).map(([I,Y])=>E.jsxs("div",{style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("span",{style:{fontWeight:"bold"},children:[I,": ",Y]}),E.jsxs("div",{style:{display:"flex",gap:"4px"},children:[E.jsx("button",{onClick:Z=>{Z.stopPropagation(),xi(t,I,1,n)},style:{padding:"2px 6px",fontSize:"0.7rem",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold"},children:"+1"}),E.jsx("button",{onClick:Z=>{Z.stopPropagation(),xi(t,I,-1,n)},style:{padding:"2px 6px",fontSize:"0.7rem",backgroundColor:"#F44336",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold"},children:"-1"}),E.jsx("button",{onClick:Z=>{Z.stopPropagation(),h({type:"set",counterType:I}),s(!1)},style:{padding:"2px 6px",fontSize:"0.7rem",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontWeight:"bold"},children:"Set"})]})]},I)),E.jsx("div",{style:{padding:"0.5rem 0.75rem",fontSize:"0.7rem",fontWeight:"bold",color:"#666",backgroundColor:"#f9f9f9",borderBottom:"1px solid #eee"},children:"QUICK ADD"}),E.jsxs("div",{style:{padding:"0.5rem 0.75rem",display:"flex",flexWrap:"wrap",gap:"4px",borderBottom:"1px solid #eee"},children:[E.jsx("button",{onClick:I=>{I.stopPropagation(),R("+1/+1")},style:{padding:"4px 8px",fontSize:"0.7rem",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"+1/+1"}),E.jsx("button",{onClick:I=>{I.stopPropagation(),R("Loyalty")},style:{padding:"4px 8px",fontSize:"0.7rem",backgroundColor:"#9C27B0",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Loyalty"}),p.filter(I=>I!=="+1/+1"&&I!=="Loyalty").map(I=>E.jsx("button",{onClick:Y=>{Y.stopPropagation(),R(I)},style:{padding:"4px 8px",fontSize:"0.7rem",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:I},I)),E.jsx("button",{onClick:I=>{I.stopPropagation(),h({type:"add"}),s(!1)},style:{padding:"4px 8px",fontSize:"0.7rem",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"Custom..."})]})]})]}),document.body),r&&(c==null?void 0:c.type)==="set"&&c.counterType&&E.jsx(Ic,{title:`Set ${c.counterType} counters`,max:99,onConfirm:I=>{const Y=e.counters[c.counterType]||0;xi(t,c.counterType,I-Y,n),h(null)},onCancel:()=>h(null)}),r&&(c==null?void 0:c.type)==="add"&&E.jsx(r_,{title:"Add Counter Type",placeholder:"e.g., +1/+1, Loyalty, Charge",onConfirm:I=>{xi(t,I,1,n),h(null)},onCancel:()=>h(null)})]})}function Ks({zoneName:e,zoneType:t,cards:n,playerColor:r,playerId:i,onDrawCards:o,onMillCards:s,onExileFromDeck:a,onShuffleDeck:u,isInteractive:d=!0,viewerPlayerId:m,zoneId:c,showHeader:h=!0}){const[p,y]=X.useState(null),[S,M]=X.useState(!1),k=X.useRef(null),_=x=>{x.preventDefault(),x.dataTransfer.dropEffect="move",M(!0)},g=()=>{M(!1)},w=x=>{x.preventDefault(),M(!1);const D=x.dataTransfer.getData("cardId"),j=x.dataTransfer.getData("fromZoneId");if(x.dataTransfer.getData("playerId")!==i){console.log("Cannot drop opponent cards");return}if(t==="battlefield"&&k.current){const L=k.current.getBoundingClientRect(),F=parseFloat(x.dataTransfer.getData("dragOffsetX")||"0"),U=parseFloat(x.dataTransfer.getData("dragOffsetY")||"0"),V=x.clientX-L.left-F,K=x.clientY-L.top-U;j!==c&&cu(D,c,"auto",i),H1(D,V,K);return}j!==c&&cu(D,c,"auto",i)};if(t==="deck")return E.jsxs("div",{style:{backgroundColor:"#f5f5f5",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[E.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#333"},children:e}),E.jsxs("span",{style:{backgroundColor:r,color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"bold"},children:[n.length," cards"]})]}),E.jsx("div",{style:{backgroundColor:"#333",border:"2px solid #666",borderRadius:"8px",padding:"2rem 1rem",textAlign:"center",color:"white",marginBottom:"0.75rem",fontSize:"2rem"},children:"🃏"}),E.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[E.jsx("button",{onClick:()=>o==null?void 0:o(1),disabled:n.length===0,style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"bold",backgroundColor:n.length>0?"#4CAF50":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:n.length>0?"pointer":"not-allowed"},children:"Draw 1"}),E.jsx("button",{onClick:()=>y({title:"Draw how many cards?",onConfirm:x=>{o==null||o(x),y(null)}}),disabled:n.length===0,style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"bold",backgroundColor:n.length>0?"#4CAF50":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:n.length>0?"pointer":"not-allowed"},children:"Draw N"}),E.jsx("button",{onClick:()=>s==null?void 0:s(1),disabled:n.length===0,style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"bold",backgroundColor:n.length>0?"#FF9800":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:n.length>0?"pointer":"not-allowed"},children:"Mill 1"}),E.jsx("button",{onClick:()=>y({title:"Mill how many cards?",onConfirm:x=>{s==null||s(x),y(null)}}),disabled:n.length===0,style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"bold",backgroundColor:n.length>0?"#FF9800":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:n.length>0?"pointer":"not-allowed"},children:"Mill N"}),E.jsx("button",{onClick:()=>a==null?void 0:a(1),disabled:n.length===0,style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"bold",backgroundColor:n.length>0?"#9C27B0":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:n.length>0?"pointer":"not-allowed"},children:"Exile 1"}),E.jsx("button",{onClick:()=>u==null?void 0:u(),disabled:n.length===0,style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"bold",backgroundColor:n.length>0?"#2196F3":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:n.length>0?"pointer":"not-allowed"},children:"Shuffle"})]}),p&&E.jsx(Ic,{title:p.title,max:n.length,onConfirm:p.onConfirm,onCancel:()=>y(null)})]});if(t==="battlefield")return E.jsxs("div",{style:{backgroundColor:S?"#e3f2fd":"#f5f5f5",borderRadius:"8px",height:"100%",display:"flex",flexDirection:"column",border:S?"2px dashed #2196F3":"2px solid transparent",transition:"all 0.2s ease",position:"relative"},"data-zone-id":c,onDragOver:_,onDragLeave:g,onDrop:w,children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem 1rem",marginBottom:"0.5rem",flexShrink:0},children:[E.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#333"},children:e}),E.jsxs("span",{style:{backgroundColor:r,color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"bold"},children:[n.length," cards"]})]}),E.jsx("div",{ref:k,style:{position:"relative",flex:1,minHeight:0},children:n.length===0?E.jsx("div",{style:{color:"#999",fontStyle:"italic",fontSize:"0.875rem",padding:"1rem"},children:"No cards on battlefield"}):n.map(({id:x,card:D})=>E.jsx(xf,{cardId:x,card:D,playerId:i,isInteractive:d,forceFaceDown:!1},x))})]});const R=(x=>x<=5?100:x<=10?80:x<=15?60:50)(n.length);return E.jsxs("div",{style:{backgroundColor:S?"#e3f2fd":"#f5f5f5",borderRadius:"8px",padding:"1rem",marginBottom:"1rem",minHeight:"200px",border:S?"2px dashed #2196F3":"2px solid transparent",transition:"all 0.2s ease",overflow:"visible"},"data-zone-id":c,onDragOver:_,onDragLeave:g,onDrop:w,children:[h&&E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[E.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#333"},children:e}),E.jsxs("span",{style:{backgroundColor:r,color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"bold"},children:[n.length," cards"]})]}),E.jsx("div",{style:{display:"flex",flexWrap:"nowrap",overflowX:"auto",overflowY:"visible",minHeight:"160px",alignItems:"flex-start",paddingTop:"1rem",paddingBottom:"0.5rem"},children:n.length===0?E.jsx("div",{style:{color:"#999",fontStyle:"italic",fontSize:"0.875rem",padding:"1rem"},children:"No cards in this zone"}):n.map(({id:x,card:D},j)=>{const T=t==="hand"&&!!m&&i!==m;return E.jsx("div",{style:{marginLeft:j===0?"0":`-${100-R}px`,position:"relative",zIndex:j,transition:"all 0.2s ease",isolation:"auto"},onMouseEnter:L=>{L.currentTarget.style.zIndex="999",L.currentTarget.style.transform="translateY(-10px)"},onMouseLeave:L=>{L.currentTarget.style.zIndex=String(j),L.currentTarget.style.transform="translateY(0)"},children:E.jsx(xf,{cardId:x,card:D,playerId:i,isInteractive:d,forceFaceDown:T},x)},x)})})]})}const c_="crdt-cards-username";function d_({onJoin:e,playerCount:t}){const[n,r]=X.useState(""),[i,o]=X.useState([]),[s,a]=X.useState(""),[u,d]=X.useState(!1),[m,c]=X.useState(""),[h,p]=X.useState(!1),[y,S]=X.useState(""),M=X.useRef(null);X.useEffect(()=>{const j=localStorage.getItem(c_);j&&(r(j),setTimeout(()=>{M.current&&M.current.select()},100));const T=Vr();o(T);const L=om();if(L){const F=T.find(V=>V.id===L),U=ds.find(V=>V.id===L);(F||U)&&a(L)}},[]);const k=j=>{j.preventDefault(),n.trim()&&s&&e(n.trim(),s)},_=async()=>{if(!m.trim())return;p(!0),S("");const j=await X1(m.trim());if(j.success&&j.deck){const T=Vr();o(T),a(j.deck.id),d(!1),c("")}else S(j.error||"Failed to import deck");p(!1)},g=j=>{if(confirm("Delete this deck from your library?")){q1(j);const T=Vr();o(T),s===j&&a("")}},w=i.find(j=>j.id===s),C=ds.find(j=>j.id===s),R=w||C,x=t>=4,D=n.trim()&&s;return E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:E.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},children:[E.jsx("h2",{style:{marginTop:0,marginBottom:"1rem",textAlign:"center"},children:"🎴 Join Game"}),x?E.jsxs("div",{children:[E.jsx("p",{style:{textAlign:"center",color:"#F44336",marginBottom:"1rem"},children:"This game is full (4/4 players)"}),E.jsx("p",{style:{textAlign:"center",fontSize:"0.875rem",color:"#666"},children:"Please try a different room or wait for a player to leave."})]}):E.jsxs("form",{onSubmit:k,children:[E.jsxs("p",{style:{marginBottom:"1rem",textAlign:"center",color:"#666"},children:["Players in room: ",t,"/4"]}),E.jsxs("div",{style:{marginBottom:"1.5rem"},children:[E.jsx("label",{htmlFor:"player-name",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"0.875rem"},children:"Your Name"}),E.jsx("input",{ref:M,id:"player-name",type:"text",value:n,onChange:j=>r(j.target.value),placeholder:"Enter your name...",autoFocus:!0,maxLength:20,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"2px solid #ddd",borderRadius:"6px",boxSizing:"border-box",outline:"none"},onFocus:j=>{j.target.style.borderColor="#2196F3"},onBlur:j=>{j.target.style.borderColor="#ddd"}})]}),E.jsxs("div",{style:{marginBottom:"1.5rem"},children:[E.jsx("label",{htmlFor:"deck-select",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"0.875rem"},children:"Deck (Required)"}),E.jsxs("select",{id:"deck-select",value:s,onChange:j=>{const T=j.target.value;T==="__import__"?(d(!0),a("")):(a(T),d(!1))},style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"2px solid #ddd",borderRadius:"6px",boxSizing:"border-box",outline:"none",backgroundColor:"white"},children:[E.jsx("option",{value:"",children:"Select a deck..."}),i.length>0&&E.jsx("optgroup",{label:"💾 My Decks",children:i.map(j=>E.jsxs("option",{value:j.id,children:[j.name," (",j.cardCount," cards)"]},j.id))}),E.jsx("optgroup",{label:"📦 Starter Decks",children:ds.map(j=>E.jsxs("option",{value:j.id,children:[j.name," - ",j.description]},j.id))}),E.jsx("option",{value:"__import__",children:"+ Import New Deck..."})]}),R&&E.jsxs("div",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"#f5f5f5",borderRadius:"4px",fontSize:"0.75rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsxs("span",{style:{color:"#666"},children:[w&&`${w.cardCount} cards • `,"Will draw 7 on join",C&&` • ${C.description}`]}),w&&E.jsx("button",{type:"button",onClick:()=>g(w.id),style:{background:"none",border:"none",color:"#F44336",cursor:"pointer",fontSize:"0.75rem",padding:"0.25rem 0.5rem"},children:"Delete"})]})]}),u&&E.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",backgroundColor:"#f9f9f9",borderRadius:"6px",border:"1px solid #ddd"},children:[E.jsx("label",{htmlFor:"import-url",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",fontSize:"0.875rem"},children:"Deck URL (Moxfield, Archidekt, or EDHRec)"}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[E.jsx("input",{id:"import-url",type:"text",value:m,onChange:j=>c(j.target.value),placeholder:"Paste deck URL from Moxfield, Archidekt, or EDHRec...",disabled:h,style:{flex:1,padding:"0.5rem",fontSize:"0.875rem",border:"1px solid #ddd",borderRadius:"4px",outline:"none"}}),E.jsx("button",{type:"button",onClick:_,disabled:!m.trim()||h,style:{padding:"0.5rem 1rem",fontSize:"0.875rem",fontWeight:"bold",backgroundColor:m.trim()&&!h?"#2196F3":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:m.trim()&&!h?"pointer":"not-allowed"},children:h?"Importing...":"Import"})]}),y&&E.jsx("p",{style:{marginTop:"0.5rem",marginBottom:0,color:"#F44336",fontSize:"0.75rem"},children:y}),E.jsx("p",{style:{marginTop:"0.5rem",marginBottom:0,fontSize:"0.75rem",color:"#666"},children:"Deck will be saved to your library for reuse"})]}),E.jsx("button",{type:"submit",disabled:!D,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",fontWeight:"bold",color:"white",backgroundColor:D?"#4CAF50":"#ccc",border:"none",borderRadius:"6px",cursor:D?"pointer":"not-allowed",transition:"background-color 0.2s"},onMouseEnter:j=>{D&&(j.currentTarget.style.backgroundColor="#45a049")},onMouseLeave:j=>{D&&(j.currentTarget.style.backgroundColor="#4CAF50")},children:"Join Game"}),!s&&E.jsx("p",{style:{marginTop:"0.5rem",marginBottom:0,fontSize:"0.75rem",color:"#FF9800",textAlign:"center"},children:"Please select a deck to join"})]}),E.jsx("p",{style:{marginTop:"1.5rem",marginBottom:0,fontSize:"0.75rem",color:"#999",textAlign:"center"},children:"Share the URL with friends to play together!"})]})})}function f_({message:e,onConfirm:t,onCancel:n,confirmText:r="Confirm",confirmColor:i="#F44336"}){return E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:n,children:E.jsxs("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"400px",width:"90%"},onClick:o=>o.stopPropagation(),children:[E.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"1rem",textAlign:"center",lineHeight:"1.5"},children:e}),E.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[E.jsx("button",{onClick:n,style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"bold",color:"#666",backgroundColor:"#f5f5f5",border:"none",borderRadius:"6px",cursor:"pointer"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="#e0e0e0"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="#f5f5f5"},children:"Cancel"}),E.jsx("button",{onClick:t,style:{flex:1,padding:"0.75rem",fontSize:"0.875rem",fontWeight:"bold",color:"white",backgroundColor:i,border:"none",borderRadius:"6px",cursor:"pointer"},onMouseEnter:o=>{o.currentTarget.style.opacity="0.9"},onMouseLeave:o=>{o.currentTarget.style.opacity="1"},children:r})]})]})})}function h_({players:e,currentPlayerId:t,onSelectPlayer:n}){const r=e.filter(i=>i.id!==t);return r.length===0?E.jsx("div",{style:{backgroundColor:"#f5f5f5",padding:"0.75rem 1rem",borderBottom:"1px solid #ddd",textAlign:"center",fontSize:"0.875rem",color:"#666"},children:"Waiting for opponents to join..."}):E.jsx("div",{style:{backgroundColor:"#f9f9f9",borderBottom:"2px solid #ddd",display:"flex",gap:"1rem",padding:"0.75rem 1rem",overflowX:"auto",minHeight:"80px"},children:r.map(({id:i,player:o})=>E.jsxs("div",{onClick:()=>n(i),style:{flex:"0 0 auto",minWidth:"200px",backgroundColor:"#fff",border:`2px solid ${Zt(i)}`,borderRadius:"8px",padding:"0.75rem",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",gap:"0.5rem"},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-2px)",s.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="none"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("span",{style:{fontWeight:"bold",fontSize:"0.875rem",color:Zt(i)},children:o.name}),E.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:o.lifeTotal<=0?"#F44336":"#333"},children:[o.lifeTotal," ❤️"]})]}),E.jsxs("div",{style:{fontSize:"0.75rem",color:"#666",display:"flex",gap:"0.5rem"},children:[E.jsx("span",{children:"📚 Deck"}),E.jsx("span",{children:"🃏 Hand"}),E.jsx("span",{children:"⚔️ Field"})]})]},i))})}function p_({currentPlayerId:e}){const[t,n]=X.useState([]),[r,i]=X.useState("all"),[o,s]=X.useState(""),a=X.useRef(null);X.useEffect(()=>{const p=()=>{const y=[];er.forEach(S=>{y.push(S)}),n(y)};return er.observe(p),p(),()=>{er.unobserve(p)}},[]),X.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[t]);const u=p=>{p.preventDefault(),o.trim()&&(K1(e,o.trim()),s(""))},d=p=>{const y=oi.get(p);return y?y.type.charAt(0).toUpperCase()+y.type.slice(1):p},m=p=>{var M,k;const y=be.get(p.playerId),S=(y==null?void 0:y.name)||"Unknown";if(p.type==="chat"&&p.action==="chat_message")return p.data.message;switch(p.action){case"player_joined":return`${S} joined the game`;case"player_removed":return`${S} left the game`;case"turn_changed":return`${S}'s turn - ${p.data.step}`;case"draw_cards":return`${S} drew ${p.data.count} card${p.data.count!==1?"s":""}`;case"mill_cards":return`${S} milled ${p.data.count} card${p.data.count!==1?"s":""}`;case"exile_from_deck":return`${S} exiled ${p.data.count} card${p.data.count!==1?"s":""} from deck`;case"shuffle_deck":return`${S} shuffled their deck`;case"card_moved":{const w=p.data.oracleId||"a card",C=d(p.data.to),R=d(p.data.from);return R===C?`${S} moved ${w}`:`${S} moved ${w} from ${R} to ${C}`}case"counter_modified":{const w=p.data.oracleId||"a card",C=p.data.counterType,R=p.data.delta,x=p.data.newValue;if(R>0)return`${S} added ${R===1?"a":R} ${C} counter${R!==1?"s":""} to ${w} (${x} total)`;{const D=Math.abs(R);return`${S} removed ${D} ${C} counter${D!==1?"s":""} from ${w} (${x} total)`}}case"card_updated":if(((M=p.data.updates)==null?void 0:M.tapped)!==void 0){const w=p.data.oracleId||"a card";return`${S} ${p.data.updates.tapped?"tapped":"untapped"} ${w}`}if(((k=p.data.updates)==null?void 0:k.faceDown)!==void 0){const w=p.data.oracleId||"a card";return`${S} ${p.data.updates.faceDown?"turned face down":"turned face up"} ${w}`}return`${S} updated a card`;case"life_total_modified":const _=p.data.delta,g=_>0?"+":"";return`${S} ${_>0?"gained":"lost"} ${Math.abs(_)} life (${g}${_} → ${p.data.newTotal})`;case"life_total_set":return`${S} set life to ${p.data.newTotal}`;default:return`${S}: ${p.action}`}},c=p=>new Date(p).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),h=t.filter(p=>r==="all"?!0:r==="chat"?p.type==="chat":r==="game"?p.type==="game"||!p.type:!0);return E.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",backgroundColor:"#fff"},children:[E.jsxs("div",{style:{borderBottom:"2px solid #e0e0e0",padding:"0.75rem"},children:[E.jsx("h3",{style:{margin:"0 0 0.75rem 0",fontSize:"0.875rem",color:"#666"},children:"CHAT & LOG"}),E.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:["all","chat","game"].map(p=>E.jsx("button",{onClick:()=>i(p),style:{flex:1,padding:"0.5rem",fontSize:"0.75rem",fontWeight:"bold",backgroundColor:r===p?"#2196F3":"#f5f5f5",color:r===p?"white":"#666",border:"none",borderRadius:"4px",cursor:"pointer",textTransform:"capitalize"},children:p==="all"?"All":p==="chat"?"Chat":"Game Log"},p))})]}),E.jsx("div",{ref:a,style:{flex:1,overflowY:"auto",padding:"0.75rem",display:"flex",flexDirection:"column",gap:"0.5rem"},children:h.length===0?E.jsx("div",{style:{color:"#999",fontSize:"0.875rem",fontStyle:"italic",textAlign:"center",padding:"1rem"},children:r==="chat"?"No chat messages yet":"No events yet"}):h.map((p,y)=>{const S=p.type==="chat",M=be.get(p.playerId),k=Zt(p.playerId);return E.jsx("div",{style:{opacity:S?1:.6,fontSize:"0.875rem",lineHeight:1.4},children:E.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"baseline"},children:[E.jsx("span",{style:{fontSize:"0.65rem",color:"#999",flexShrink:0},children:c(p.timestamp)}),S?E.jsxs(E.Fragment,{children:[E.jsxs("span",{style:{fontWeight:"bold",color:k,flexShrink:0},children:[(M==null?void 0:M.name)||"Unknown",":"]}),E.jsx("span",{style:{color:"#333"},children:m(p)})]}):E.jsx("span",{style:{color:"#666"},children:m(p)})]})},y)})}),E.jsxs("form",{onSubmit:u,style:{borderTop:"2px solid #e0e0e0",padding:"0.75rem",display:"flex",gap:"0.5rem"},children:[E.jsx("input",{type:"text",value:o,onChange:p=>s(p.target.value),placeholder:"Type a message...",style:{flex:1,padding:"0.5rem",fontSize:"0.875rem",border:"1px solid #ddd",borderRadius:"4px",outline:"none"},onFocus:p=>{p.target.style.borderColor="#2196F3"},onBlur:p=>{p.target.style.borderColor="#ddd"}}),E.jsx("button",{type:"submit",disabled:!o.trim(),style:{padding:"0.5rem 1rem",fontSize:"0.875rem",fontWeight:"bold",backgroundColor:o.trim()?"#2196F3":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:o.trim()?"pointer":"not-allowed"},children:"Send"})]})]})}function g_({isOpen:e,onClose:t,currentPlayerId:n}){return e?E.jsxs(E.Fragment,{children:[E.jsx("div",{onClick:t,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:999,animation:"fadeIn 0.2s ease"}}),E.jsxs("div",{style:{position:"fixed",top:0,right:0,bottom:0,width:"400px",maxWidth:"90vw",backgroundColor:"#fff",boxShadow:"-4px 0 12px rgba(0, 0, 0, 0.2)",zIndex:1e3,display:"flex",flexDirection:"column",animation:"slideInRight 0.3s ease"},children:[E.jsxs("div",{style:{padding:"1rem",borderBottom:"2px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f9f9f9"},children:[E.jsx("h3",{style:{margin:0,fontSize:"1.25rem"},children:"💬 Chat & Log"}),E.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",padding:"0.25rem",lineHeight:1},onMouseEnter:r=>{r.currentTarget.style.color="#333"},onMouseLeave:r=>{r.currentTarget.style.color="#666"},children:"×"})]}),E.jsx("div",{style:{flex:1,overflow:"hidden"},children:E.jsx(p_,{currentPlayerId:n})})]}),E.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
          }
          to {
            transform: translateX(0);
          }
        }
      `})]}):null}function m_({isOpen:e,onClose:t,cards:n,playerColor:r,playerId:i,isInteractive:o,viewerPlayerId:s}){return E.jsxs("div",{style:{height:e?"200px":"0",overflow:"hidden",transition:"height 0.3s ease",flexShrink:0,backgroundColor:"#fff",borderTop:e?"2px solid #757575":"none"},children:[E.jsxs("div",{style:{padding:"0.5rem 1rem",borderBottom:"2px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f9f9f9"},children:[E.jsxs("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"bold"},children:["💀 Graveyard (",n.length," ",n.length===1?"card":"cards",")"]}),E.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"1.25rem",cursor:"pointer",color:"#666",padding:"0.25rem",lineHeight:1},onMouseEnter:a=>{a.currentTarget.style.color="#333"},onMouseLeave:a=>{a.currentTarget.style.color="#666"},children:"×"})]}),E.jsx("div",{style:{height:"calc(200px - 48px)",overflow:"visible",padding:"0.5rem"},children:E.jsx(Ks,{zoneId:`graveyard-${i}`,zoneName:"",zoneType:"graveyard",cards:n,playerColor:r,playerId:i,isInteractive:o,viewerPlayerId:s,showHeader:!1})})]})}function y_({isOpen:e,onClose:t,cards:n,playerColor:r,playerId:i,isInteractive:o,viewerPlayerId:s}){return E.jsxs("div",{style:{height:e?"200px":"0",overflow:"hidden",transition:"height 0.3s ease",flexShrink:0,backgroundColor:"#fff",borderTop:e?"2px solid #9C27B0":"none"},children:[E.jsxs("div",{style:{padding:"0.5rem 1rem",borderBottom:"2px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f9f9f9"},children:[E.jsxs("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"bold"},children:["🚫 Exile (",n.length," ",n.length===1?"card":"cards",")"]}),E.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"1.25rem",cursor:"pointer",color:"#666",padding:"0.25rem",lineHeight:1},onMouseEnter:a=>{a.currentTarget.style.color="#333"},onMouseLeave:a=>{a.currentTarget.style.color="#666"},children:"×"})]}),E.jsx("div",{style:{height:"calc(200px - 48px)",overflow:"visible",padding:"0.5rem"},children:E.jsx(Ks,{zoneId:`exile-${i}`,zoneName:"",zoneType:"exile",cards:n,playerColor:r,playerId:i,isInteractive:o,viewerPlayerId:s,showHeader:!1})})]})}function v_({cardCount:e,playerColor:t,onDrawOne:n,onDrawN:r,onMillOne:i,onMillN:o,onExileOne:s,onShuffle:a}){const[u,d]=X.useState(!1),[m,c]=X.useState(null),h=()=>{e>0&&n()};return E.jsxs("div",{style:{position:"relative"},children:[E.jsxs("div",{onDoubleClick:h,style:{width:"120px",height:"160px",backgroundColor:"#333",border:"2px solid #666",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:e>0?"pointer":"default",position:"relative",userSelect:"none"},children:[E.jsx("div",{style:{fontSize:"3rem",color:"#999"},children:"🃏"}),E.jsxs("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.5rem"},children:[e," cards"]}),E.jsx("button",{onClick:p=>{p.stopPropagation(),d(!u)},style:{position:"absolute",top:"8px",right:"8px",backgroundColor:"rgba(255,255,255,0.9)",border:"1px solid #333",borderRadius:"4px",padding:"4px 8px",fontSize:"0.8rem",cursor:"pointer",fontWeight:"bold"},children:"⋮"}),E.jsxs("div",{style:{position:"absolute",bottom:"8px",left:"50%",transform:"translateX(-50%)",backgroundColor:t,color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"bold"},children:["📚 ",e]})]}),u&&E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>d(!1)}),E.jsxs("div",{style:{position:"absolute",bottom:"100%",left:0,marginBottom:"8px",backgroundColor:"#fff",border:"2px solid #333",borderRadius:"6px",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",zIndex:100,minWidth:"150px"},children:[E.jsx("div",{style:{padding:"0.5rem 0.75rem",cursor:e>0?"pointer":"not-allowed",fontSize:"0.75rem",borderBottom:"1px solid #eee",backgroundColor:e>0?"white":"#f5f5f5"},onClick:()=>{e>0&&c({title:"Draw how many cards?",onConfirm:p=>{r(p),c(null),d(!1)}})},onMouseEnter:p=>{e>0&&(p.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:p=>{e>0&&(p.currentTarget.style.backgroundColor="white")},children:"Draw N Cards"}),E.jsx("div",{style:{padding:"0.5rem 0.75rem",cursor:e>0?"pointer":"not-allowed",fontSize:"0.75rem",borderBottom:"1px solid #eee",backgroundColor:e>0?"white":"#f5f5f5"},onClick:()=>{e>0&&(i(),d(!1))},onMouseEnter:p=>{e>0&&(p.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:p=>{e>0&&(p.currentTarget.style.backgroundColor="white")},children:"Mill 1 Card"}),E.jsx("div",{style:{padding:"0.5rem 0.75rem",cursor:e>0?"pointer":"not-allowed",fontSize:"0.75rem",borderBottom:"1px solid #eee",backgroundColor:e>0?"white":"#f5f5f5"},onClick:()=>{e>0&&c({title:"Mill how many cards?",onConfirm:p=>{o(p),c(null),d(!1)}})},onMouseEnter:p=>{e>0&&(p.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:p=>{e>0&&(p.currentTarget.style.backgroundColor="white")},children:"Mill N Cards"}),E.jsx("div",{style:{padding:"0.5rem 0.75rem",cursor:e>0?"pointer":"not-allowed",fontSize:"0.75rem",borderBottom:"1px solid #eee",backgroundColor:e>0?"white":"#f5f5f5"},onClick:()=>{e>0&&(s(),d(!1))},onMouseEnter:p=>{e>0&&(p.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:p=>{e>0&&(p.currentTarget.style.backgroundColor="white")},children:"Exile Top Card"}),E.jsx("div",{style:{padding:"0.5rem 0.75rem",cursor:e>0?"pointer":"not-allowed",fontSize:"0.75rem",backgroundColor:e>0?"white":"#f5f5f5"},onClick:()=>{e>0&&(a(),d(!1))},onMouseEnter:p=>{e>0&&(p.currentTarget.style.backgroundColor="#f5f5f5")},onMouseLeave:p=>{e>0&&(p.currentTarget.style.backgroundColor="white")},children:"Shuffle Deck"})]})]}),m&&E.jsx(Ic,{title:m.title,max:e,onConfirm:m.onConfirm,onCancel:()=>c(null)})]})}function w_({playerId:e,lifeTotal:t,playerColor:n,currentPlayerId:r}){const[i,o]=X.useState(!1),s=()=>{_r(e,1,r)},a=()=>{_r(e,-1,r)};return E.jsxs("div",{style:{position:"relative"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",backgroundColor:"#fff",border:`2px solid ${n}`,borderRadius:"8px",padding:"0.5rem"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"1.25rem",fontWeight:"bold",color:t<=0?"#F44336":"#333"},children:[E.jsx("span",{children:"❤️"}),E.jsx("span",{children:t})]}),E.jsx("button",{onClick:s,style:{width:"32px",height:"32px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1.25rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#45a049"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="#4CAF50"},children:"+"}),E.jsx("button",{onClick:a,style:{width:"32px",height:"32px",backgroundColor:"#F44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1.25rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#da190b"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="#F44336"},children:"−"}),E.jsx("button",{onClick:()=>o(!i),style:{width:"32px",height:"32px",backgroundColor:"#757575",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#616161"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="#757575"},children:"⚙️"})]}),i&&E.jsxs(E.Fragment,{children:[E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99},onClick:()=>o(!1)}),E.jsxs("div",{style:{position:"absolute",bottom:"100%",right:0,marginBottom:"8px",backgroundColor:"#fff",border:"2px solid #333",borderRadius:"6px",boxShadow:"0 4px 8px rgba(0,0,0,0.3)",zIndex:100,minWidth:"180px"},children:[E.jsx("div",{style:{padding:"0.5rem 0.75rem",fontSize:"0.7rem",fontWeight:"bold",color:"#666",backgroundColor:"#f9f9f9",borderBottom:"1px solid #eee"},children:"QUICK ADJUST"}),E.jsxs("div",{style:{padding:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",borderBottom:"1px solid #eee"},children:[E.jsx("button",{onClick:()=>{_r(e,5,r),o(!1)},style:{padding:"0.5rem",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",fontWeight:"bold"},children:"+5"}),E.jsx("button",{onClick:()=>{_r(e,-5,r),o(!1)},style:{padding:"0.5rem",backgroundColor:"#F44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",fontWeight:"bold"},children:"-5"}),E.jsx("button",{onClick:()=>{_r(e,10,r),o(!1)},style:{padding:"0.5rem",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",fontWeight:"bold"},children:"+10"}),E.jsx("button",{onClick:()=>{_r(e,-10,r),o(!1)},style:{padding:"0.5rem",backgroundColor:"#F44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem",fontWeight:"bold"},children:"-10"})]}),E.jsx("div",{style:{padding:"0.5rem 0.75rem",cursor:"pointer",fontSize:"0.75rem",backgroundColor:"white"},onClick:()=>{const u=prompt("Set life total to:",t.toString());if(u!==null){const d=parseInt(u,10);isNaN(d)||Y1(e,d,r)}o(!1)},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#f5f5f5"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="white"},children:"Set Exact Value..."})]})]})]})}function __(){const[e,t]=X.useState(null),[n,r]=X.useState(!1),[i,o]=X.useState(""),[s,a]=X.useState(!1),[u,d]=X.useState(!1),[m,c]=X.useState(null),[,h]=X.useState({}),[p,y]=X.useState(!1),[S,M]=X.useState(!1),[k,_]=X.useState(!1),[g,w]=X.useState(null);X.useEffect(()=>{const F=`crdt-cards-player-${Ui()}`,U=localStorage.getItem(F);U&&be.has(U)?t(U):r(!0);const V=ee=>{a(ee.connected)},K=ee=>{d(ee.synced),ee.synced&&U&&!e&&be.has(U)&&(t(U),r(!1),console.log("Rejoined as existing player:",U))};Mr.on("status",V),Mr.on("synced",K);const J=()=>{const ee=oa();if(ee){const $=be.get(ee.playerId);o(`${($==null?void 0:$.name)||ee.playerId} - ${ee.step}`)}h({})};return be.observe(J),oi.observe(J),pe.observe(J),ho.observe(J),J(),()=>{be.unobserve(J),oi.unobserve(J),pe.unobserve(J),ho.unobserve(J),Mr.off("status",V),Mr.off("synced",K)}},[e]);const C=async(F,U)=>{const V=crypto.randomUUID();U1(V,F,!0);const K=ds.find(ee=>ee.id===U);if(K){const ee=await t_(K.file,K.name);ee.success&&ee.deck&&(Cf(V,ee.deck),kf(ee.deck.id),Ko(V,7))}else{const $=Vr().find(I=>I.id===U);$&&(Cf(V,$),kf(U),Ko(V,7))}const J=`crdt-cards-player-${Ui()}`;localStorage.setItem(J,V),localStorage.setItem("crdt-cards-username",F),t(V),r(!1),!oa()&&be.size===1&&wf(V,"main1")},R=()=>{const F=oa(),U=Array.from(be.keys());if(F&&U.length>0){const K=(U.indexOf(F.playerId)+1)%U.length;wf(U[K],"main1")}},x=()=>{c({message:"Reset the entire room? This will clear all players, cards, and game state.",onConfirm:()=>{$1();const F=`crdt-cards-player-${Ui()}`;localStorage.removeItem(F),window.location.reload()}})},D=F=>{const U=[];return pe.forEach((V,K)=>{V.zoneId===F&&U.push({id:K,card:V})}),U.sort((V,K)=>V.card.order-K.card.order)},j=[];if(be.forEach((F,U)=>{j.push({id:U,player:F})}),n)return E.jsx(d_,{onJoin:C,playerCount:be.size});if(!e)return E.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Loading..."});const T=be.get(e),L=g||e;return E.jsxs("div",{style:{fontFamily:"system-ui, -apple-system, sans-serif",height:"100vh",overflow:"hidden",display:"flex",flexDirection:"column",backgroundColor:"#e0e0e0"},children:[E.jsxs("div",{style:{backgroundColor:"#fff",padding:"0.75rem 1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[E.jsx("h1",{style:{margin:0,fontSize:"1.25rem"},children:"CRDT Cards"}),E.jsxs("div",{style:{fontSize:"0.75rem",color:"#666"},children:[T==null?void 0:T.name,i&&` | ${i}`]})]}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[E.jsx("button",{onClick:R,style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",fontWeight:"bold",backgroundColor:"#9C27B0",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Next Turn"}),E.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:s&&u?"#4CAF50":"#FF9800"}}),E.jsx("button",{onClick:x,style:{padding:"0.5rem 0.75rem",fontSize:"0.75rem",backgroundColor:"#F44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reset"})]})]}),E.jsx(h_,{players:j,currentPlayerId:e,onSelectPlayer:w}),E.jsxs("div",{style:{flex:1,overflow:"hidden",position:"relative",display:"flex",flexDirection:"column"},children:[E.jsx("div",{style:{flex:1,overflow:"auto",minHeight:0},children:E.jsx(Ks,{zoneId:`battlefield-${L}`,zoneName:"Battlefield",zoneType:"battlefield",cards:D(`battlefield-${L}`),playerColor:Zt(L),playerId:L,isInteractive:L===e,viewerPlayerId:e})}),E.jsx(m_,{isOpen:S,onClose:()=>M(!1),cards:D(`graveyard-${L}`),playerColor:Zt(L),playerId:L,isInteractive:L===e,viewerPlayerId:e}),E.jsx(y_,{isOpen:k,onClose:()=>_(!1),cards:D(`exile-${L}`),playerColor:Zt(L),playerId:L,isInteractive:L===e,viewerPlayerId:e}),E.jsxs("div",{style:{flexShrink:0,borderTop:"2px solid #ddd",backgroundColor:"#f5f5f5",padding:"0.75rem 1rem",display:"grid",gridTemplateColumns:"1fr auto auto",gap:"1rem",alignItems:"center"},children:[E.jsx("div",{style:{minWidth:0,overflow:"visible"},children:E.jsx(Ks,{zoneId:`hand-${L}`,zoneName:"Hand",zoneType:"hand",cards:D(`hand-${L}`),playerColor:Zt(L),playerId:L,isInteractive:L===e,viewerPlayerId:e})}),T&&L===e&&E.jsxs(E.Fragment,{children:[E.jsx(v_,{cardCount:D(`deck-${L}`).length,playerColor:Zt(L),onDrawOne:()=>Ko(L,1),onDrawN:F=>Ko(L,F),onMillOne:()=>_f(L,1),onMillN:F=>_f(L,F),onExileOne:()=>Q1(L,1),onShuffle:()=>G1(L)}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[E.jsx(w_,{playerId:L,lifeTotal:T.lifeTotal,playerColor:Zt(L),currentPlayerId:e}),E.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[E.jsx("button",{onClick:()=>M(!S),style:{width:"50px",height:"40px",borderRadius:"6px",backgroundColor:"#757575",color:"white",border:"none",fontSize:"1.25rem",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.2s"},onMouseEnter:F=>{F.currentTarget.style.backgroundColor="#616161"},onMouseLeave:F=>{F.currentTarget.style.backgroundColor="#757575"},title:"Graveyard",children:"💀"}),E.jsx("button",{onClick:()=>_(!k),style:{width:"50px",height:"40px",borderRadius:"6px",backgroundColor:"#9C27B0",color:"white",border:"none",fontSize:"1.25rem",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.2s"},onMouseEnter:F=>{F.currentTarget.style.backgroundColor="#7B1FA2"},onMouseLeave:F=>{F.currentTarget.style.backgroundColor="#9C27B0"},title:"Exile",children:"🚫"}),E.jsx("button",{onClick:()=>y(!p),style:{width:"50px",height:"40px",borderRadius:"6px",backgroundColor:"#4CAF50",color:"white",border:"none",fontSize:"1.25rem",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.2s"},onMouseEnter:F=>{F.currentTarget.style.backgroundColor="#388E3C"},onMouseLeave:F=>{F.currentTarget.style.backgroundColor="#4CAF50"},title:"Chat & Log",children:"💬"})]})]})]})]})]}),E.jsx(g_,{isOpen:p,onClose:()=>y(!1),currentPlayerId:e}),m&&E.jsx(f_,{message:m.message,onConfirm:m.onConfirm,onCancel:()=>c(null)})]})}if(window.location.pathname!=="/"&&!window.location.hash){const e="/#"+window.location.pathname.slice(1)+window.location.search+window.location.hash;window.location.replace(e)}sa.createRoot(document.getElementById("root")).render(E.jsx(Sm.StrictMode,{children:E.jsx(__,{})}));
